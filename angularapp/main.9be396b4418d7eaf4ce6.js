(self.webpackChunkprimer_proyecto=self.webpackChunkprimer_proyecto||[]).push([[179],{8255:We=>{function De(F){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+F+"'");throw y.code="MODULE_NOT_FOUND",y})}De.keys=()=>[],De.resolve=De,De.id=8255,We.exports=De},3018:(We,De,F)=>{"use strict";F.d(De,{deG:()=>Zc,tb:()=>iD,AFp:()=>m_,ip1:()=>Kp,CZH:()=>vh,hGG:()=>RR,z2F:()=>Jp,sBO:()=>bN,Sil:()=>wh,_Vd:()=>Ds,EJc:()=>oD,SBq:()=>Ss,qLn:()=>Fe,vpe:()=>ns,gxx:()=>Xi,tBr:()=>qo,XFs:()=>Re,OlP:()=>wn,zs3:()=>Jt,ZZ4:()=>$y,aQg:()=>Hl,soG:()=>ic,YKP:()=>ah,v3s:()=>TM,h0i:()=>pu,PXZ:()=>tr,R0b:()=>Ui,FiY:()=>vs,Lbi:()=>Tw,g9A:()=>Iw,Qsj:()=>FI,FYo:()=>As,JOm:()=>oo,Tiy:()=>kn,q3G:()=>Cn,tp0:()=>Es,EAV:()=>IR,Rgc:()=>Gl,dDg:()=>jt,DyG:()=>hi,q4F:()=>jy,GfV:()=>Ut,s_b:()=>Gy,ifc:()=>tn,eFA:()=>ED,G48:()=>yD,Gpc:()=>ie,X6Q:()=>rs,_c5:()=>TR,VLi:()=>Qp,c2e:()=>Dw,zSh:()=>qf,wAp:()=>re,vHH:()=>Me,EiD:()=>fd,mCW:()=>$a,qzn:()=>zo,JVY:()=>ad,pB0:()=>vv,eBb:()=>em,L6k:()=>_v,LAX:()=>Cf,cg1:()=>Ze,Tjo:()=>xu,kL8:()=>gI,yhl:()=>Xg,dqk:()=>V,sIi:()=>Yf,CqO:()=>zE,QGY:()=>na,F4k:()=>qE,RDi:()=>Da,AaK:()=>B,z3N:()=>pi,qOj:()=>Kf,TTD:()=>Gr,_Bn:()=>du,xp6:()=>Fb,uIk:()=>NE,Tol:()=>Gd,ekj:()=>lp,Suo:()=>ew,Xpm:()=>_a,lG2:()=>wg,Yz7:()=>mn,cJS:()=>ss,oAB:()=>as,Yjl:()=>Ph,Y36:()=>Fd,_UZ:()=>Vd,BQk:()=>sp,ynx:()=>GE,qZA:()=>Ld,TgZ:()=>ly,EpF:()=>cy,n5z:()=>ev,Ikx:()=>po,LFG:()=>bn,$8M:()=>qc,NdJ:()=>ra,CRH:()=>tc,oxw:()=>vn,Q6J:()=>uy,DdM:()=>t_,iGM:()=>qp,CHM:()=>Wh,oJD:()=>pd,LSH:()=>zi,kYT:()=>Gu,Udp:()=>Hd,d8E:()=>fp,YNc:()=>ar,_uU:()=>dp,hij:()=>qd});var y=F(9765),le=F(5319),H=F(7574),se=F(6682),Ee=F(2441);var ye=F(1307);function Y(){return new y.xQ}function $(a){for(let u in a)if(a[u]===$)return u;throw Error("Could not find renamed property on target object.")}function q(a,u){for(const l in u)u.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=u[l])}function B(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(B).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const u=a.toString();if(null==u)return""+u;const l=u.indexOf("\n");return-1===l?u:u.substring(0,l)}function Z(a,u){return null==a||""===a?null===u?"":u:null==u||""===u?a:a+" "+u}const fe=$({__forward_ref__:$});function ie(a){return a.__forward_ref__=ie,a.toString=function(){return B(this())},a}function ne(a){return Pe(a)?a():a}function Pe(a){return"function"==typeof a&&a.hasOwnProperty(fe)&&a.__forward_ref__===ie}class Me extends Error{constructor(u,l){super(function(a,u){return`${a?`NG0${a}: `:""}${u}`}(u,l)),this.code=u}}function Ue(a){return"string"==typeof a?a:null==a?"":String(a)}function pe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ue(a)}function oe(a,u){const l=u?` in ${u}`:"";throw new Me("201",`No provider for ${pe(a)} found${l}`)}function Dt(a,u){null==a&&function(a,u,l,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${l} ${d} ${u} <=Actual]`))}(u,a,null,"!=")}function mn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ss(a){return{providers:a.providers||[],imports:a.imports||[]}}function rr(a){return Do(a,jn)||Do(a,ii)}function Do(a,u){return a.hasOwnProperty(u)?a[u]:null}function os(a){return a&&(a.hasOwnProperty(Ci)||a.hasOwnProperty(bt))?a[Ci]:null}const jn=$({\u0275prov:$}),Ci=$({\u0275inj:$}),ii=$({ngInjectableDef:$}),bt=$({ngInjectorDef:$});var Re=(()=>((Re=Re||{})[Re.Default=0]="Default",Re[Re.Host=1]="Host",Re[Re.Self=2]="Self",Re[Re.SkipSelf=4]="SkipSelf",Re[Re.Optional=8]="Optional",Re))();let Ht;function un(a){const u=Ht;return Ht=a,u}function Zt(a,u,l){const d=rr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Re.Optional?null:void 0!==u?u:void oe(B(a),"Injector")}function qe(a){return{toString:a}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),tn=(()=>((tn=tn||{})[tn.Emulated=0]="Emulated",tn[tn.None=2]="None",tn[tn.ShadowDom=3]="ShadowDom",tn))();const xr="undefined"!=typeof globalThis&&globalThis,Mh="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,V=xr||z||Mh||ln,Q={},Te=[],et=$({\u0275cmp:$}),Vt=$({\u0275dir:$}),xt=$({\u0275pipe:$}),St=$({\u0275mod:$}),Sn=$({\u0275loc:$}),En=$({\u0275fac:$}),$n=$({__NG_ELEMENT_ID__:$});let Ls=0;function _a(a){return qe(()=>{const l={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Te,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tn.Emulated,id:"c",styles:a.styles||Te,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return d.id+=Ls++,d.inputs=Ea(a.inputs,l),d.outputs=Ea(a.outputs),g&&g.forEach(b=>b(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(va):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(_c):null,d})}function va(a){return Zn(a)||function(a){return a[Vt]||null}(a)}function _c(a){return function(a){return a[xt]||null}(a)}const Oh={};function as(a){return qe(()=>{const u={type:a.type,bootstrap:a.bootstrap||Te,declarations:a.declarations||Te,imports:a.imports||Te,exports:a.exports||Te,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Oh[a.id]=a.type),u})}function Gu(a,u){return qe(()=>{const l=$t(a,!0);l.declarations=u.declarations||Te,l.imports=u.imports||Te,l.exports=u.exports||Te})}function Ea(a,u){if(null==a)return Q;const l={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,u&&(u[f]=g)}return l}const wg=_a;function Ph(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Zn(a){return a[et]||null}function $t(a,u){const l=a[St]||null;if(!l&&!0===u)throw new Error(`Type ${B(a)} does not have '\u0275mod' property.`);return l}function Ti(a){return Array.isArray(a)&&"object"==typeof a[1]}function Nn(a){return Array.isArray(a)&&!0===a[1]}function ui(a){return 0!=(8&a.flags)}function Ec(a){return 2==(2&a.flags)}function Ia(a){return 1==(1&a.flags)}function Di(a){return null!==a.template}function Lh(a){return 0!=(512&a[2])}function $s(a,u){return a.hasOwnProperty(En)?a[En]:null}class bc{constructor(u,l,d){this.previousValue=u,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Gr(){return Cc}function Cc(a){return a.type.prototype.ngOnChanges&&(a.setInput=Dg),cb}function cb(){const a=Tc(this),u=null==a?void 0:a.current;if(u){const l=a.previous;if(l===Q)a.previous=u;else for(let d in u)l[d]=u[d];a.current=null,this.ngOnChanges(u)}}function Dg(a,u,l,d){const f=Tc(a)||function(a,u){return a[Ic]=u}(a,{previous:Q,current:null}),g=f.current||(f.current={}),v=f.previous,b=this.declaredInputs[l],I=v[b];g[b]=new bc(I&&I.currentValue,u,v===Q),a[d]=u}Gr.ngInherit=!0;const Ic="__ngSimpleChanges__";function Tc(a){return a[Ic]||null}let Mo;function Da(a){Mo=a}function Qu(){return void 0!==Mo?Mo:"undefined"!=typeof document?document:void 0}function cn(a){return!!a.listen}const Rc={createRenderer:(a,u)=>Qu()};function dn(a){for(;Array.isArray(a);)a=a[0];return a}function xc(a,u){return dn(u[a])}function zr(a,u){return dn(u[a.index])}function Hs(a,u){return a.data[u]}function gr(a,u){const l=u[a];return Ti(l)?l:l[0]}function Ju(a){return 4==(4&a[2])}function Gh(a){return 128==(128&a[2])}function qs(a,u){return null==u?null:a[u]}function Oc(a){a[18]=0}function qh(a,u){a[5]+=u;let l=a,d=a[3];for(;null!==d&&(1===u&&1===l[5]||-1===u&&0===l[5]);)d[5]+=u,l=d,d=d[3]}const at={lFrame:Z_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zh(){return at.bindingsEnabled}function Se(){return at.lFrame.lView}function At(){return at.lFrame.tView}function Wh(a){return at.lFrame.contextLView=a,a[8]}function On(){let a=kc();for(;null!==a&&64===a.type;)a=a.parent;return a}function kc(){return at.lFrame.currentTNode}function li(a,u){const l=at.lFrame;l.currentTNode=a,l.isParent=u}function Zh(){return at.lFrame.isParent}function zs(){at.lFrame.isParent=!1}function ko(){return at.isInCheckNoChangesMode}function Ws(a){at.isInCheckNoChangesMode=a}function Zs(){return at.lFrame.bindingIndex++}function cs(a){const u=at.lFrame,l=u.bindingIndex;return u.bindingIndex=u.bindingIndex+a,l}function tl(a,u){const l=at.lFrame;l.bindingIndex=l.bindingRootIndex=a,Ks(u)}function Ks(a){at.lFrame.currentDirectiveIndex=a}function Fc(a){const u=at.lFrame.currentDirectiveIndex;return-1===u?null:a[u]}function Pg(){return at.lFrame.currentQueryIndex}function kg(a){at.lFrame.currentQueryIndex=a}function q_(a){const u=a[1];return 2===u.type?u.declTNode:1===u.type?a[6]:null}function z_(a,u,l){if(l&Re.SkipSelf){let f=u,g=a;for(;!(f=f.parent,null!==f||l&Re.Host||(f=q_(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;u=f,a=g}const d=at.lFrame=W_();return d.currentTNode=u,d.lView=a,!0}function nl(a){const u=W_(),l=a[1];at.lFrame=u,u.currentTNode=l.firstChild,u.lView=a,u.tView=l,u.contextLView=a,u.bindingIndex=l.bindingStartIndex,u.inI18n=!1}function W_(){const a=at.lFrame,u=null===a?null:a.child;return null===u?Z_(a):u}function Z_(a){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=u),u}function Fg(){const a=at.lFrame;return at.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const hb=Fg;function Lg(){const a=Fg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Kn(){return at.lFrame.selectedIndex}function Or(a){at.lFrame.selectedIndex=a}function hn(){const a=at.lFrame;return Hs(a.tView,a.selectedIndex)}function Lc(a,u){for(let l=u.directiveStart,d=u.directiveEnd;l<d;l++){const g=a.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:N}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-l,v),b&&((a.contentHooks||(a.contentHooks=[])).push(l,b),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(l,b)),I&&(a.viewHooks||(a.viewHooks=[])).push(-l,I),S&&((a.viewHooks||(a.viewHooks=[])).push(l,S),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(l,S)),null!=N&&(a.destroyHooks||(a.destroyHooks=[])).push(l,N)}}function Fo(a,u,l){Ug(a,u,3,l)}function Vc(a,u,l,d){(3&a[2])===l&&Ug(a,u,l,d)}function Vg(a,u){let l=a[2];(3&l)===u&&(l&=2047,l+=1,a[2]=l)}function Ug(a,u,l,d){const g=null!=d?d:-1,v=u.length-1;let b=0;for(let I=void 0!==d?65535&a[18]:0;I<v;I++)if("number"==typeof u[I+1]){if(b=u[I],null!=d&&b>=d)break}else u[I]<0&&(a[18]+=65536),(b<g||-1==g)&&(Q_(a,l,u,I),a[18]=(4294901760&a[18])+I+2),I++}function Q_(a,u,l,d){const f=l[d]<0,g=l[d+1],b=a[f?-l[d]:l[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===u){a[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class qi{constructor(u,l,d){this.factory=u,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Js(a,u,l){const d=cn(a);let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const v=l[f++],b=l[f++],I=l[f++];d?a.setAttribute(u,b,I,v):u.setAttributeNS(v,b,I)}else{const v=g,b=l[++f];Bc(v)?d&&a.setProperty(u,v,b):d?a.setAttribute(u,v,b):u.setAttribute(v,b),f++}}return f}function ef(a){return 3===a||4===a||6===a}function Bc(a){return 64===a.charCodeAt(0)}function tf(a,u){if(null!==u&&0!==u.length)if(null===a||0===a.length)a=u.slice();else{let l=-1;for(let d=0;d<u.length;d++){const f=u[d];"number"==typeof f?l=f:0===l||J_(a,l,f,null,-1===l||2===l?u[++d]:null)}}return a}function J_(a,u,l,d,f){let g=0,v=a.length;if(-1===u)v=-1;else for(;g<a.length;){const b=a[g++];if("number"==typeof b){if(b===u){v=-1;break}if(b>u){v=g-1;break}}}for(;g<a.length;){const b=a[g];if("number"==typeof b)break;if(b===l){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,u),g=v+1),a.splice(g++,0,l),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function nf(a){return-1!==a}function sl(a){return 32767&a}function Sa(a,u){let l=function(a){return a>>16}(a),d=u;for(;l>0;)d=d[15],l--;return d}let Aa=!0;function Na(a){const u=Aa;return Aa=a,u}let Wr=0;function dt(a,u){const l=of(a,u);if(-1!==l)return l;const d=u[1];d.firstCreatePass&&(a.injectorIndex=u.length,$c(d.data,a),$c(u,null),$c(d.blueprint,null));const f=Vo(a,u),g=a.injectorIndex;if(nf(f)){const v=sl(f),b=Sa(f,u),I=b[1].data;for(let S=0;S<8;S++)u[g+S]=b[v+S]|I[v+S]}return u[g+8]=f,g}function $c(a,u){a.push(0,0,0,0,0,0,0,0,u)}function of(a,u){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===u[a.injectorIndex+8]?-1:a.injectorIndex}function Vo(a,u){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,d=null,f=u;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Hc(a,u,l){!function(a,u,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty($n)&&(d=l[$n]),null==d&&(d=l[$n]=Wr++);const f=255&d;u.data[a+(f>>5)]|=1<<f}(a,u,l)}function Ai(a,u,l){if(l&Re.Optional)return a;oe(u,"NodeInjector")}function jg(a,u,l,d){if(l&Re.Optional&&void 0===d&&(d=null),0==(l&(Re.Self|Re.Host))){const f=a[9],g=un(void 0);try{return f?f.get(u,d,l&Re.Optional):Zt(u,d,l&Re.Optional)}finally{un(g)}}return Ai(d,u,l)}function af(a,u,l,d=Re.Default,f){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const u=a.hasOwnProperty($n)?a[$n]:void 0;return"number"==typeof u?u>=0?255&u:X_:u}(l);if("function"==typeof g){if(!z_(u,a,d))return d&Re.Host?Ai(f,l,d):jg(u,l,d,f);try{const v=g(d);if(null!=v||d&Re.Optional)return v;oe(l)}finally{hb()}}else if("number"==typeof g){let v=null,b=of(a,u),I=-1,S=d&Re.Host?u[16][6]:null;for((-1===b||d&Re.SkipSelf)&&(I=-1===b?Vo(a,u):u[b+8],-1!==I&&hs(d,!1)?(v=u[1],b=sl(I),u=Sa(I,u)):b=-1);-1!==b;){const N=u[1];if(Pn(g,b,N.data)){const M=$g(b,u,l,v,d,S);if(M!==Gc)return M}I=u[b+8],-1!==I&&hs(d,u[1].data[b+8]===S)&&Pn(g,b,u)?(v=N,b=sl(I),u=Sa(I,u)):b=-1}}}return jg(u,l,d,f)}const Gc={};function X_(){return new Ra(On(),Se())}function $g(a,u,l,d,f,g){const v=u[1],b=v.data[a+8],N=ds(b,v,l,null==d?Ec(b)&&Aa:d!=v&&0!=(3&b.type),f&Re.Host&&g===b);return null!==N?di(u,v,N,b):Gc}function ds(a,u,l,d,f){const g=a.providerIndexes,v=u.data,b=1048575&g,I=a.directiveStart,N=g>>20,k=f?b+N:a.directiveEnd;for(let U=d?b:b+N;U<k;U++){const W=v[U];if(U<I&&l===W||U>=I&&W.type===l)return U}if(f){const U=v[I];if(U&&Di(U)&&U.type===l)return I}return null}function di(a,u,l,d){let f=a[l];const g=u.data;if(function(a){return a instanceof qi}(f)){const v=f;v.resolving&&function(a,u){throw new Me("200",`Circular dependency in DI detected for ${a}`)}(pe(g[l]));const b=Na(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?un(v.injectImpl):null;z_(a,d,Re.Default);try{f=a[l]=v.factory(void 0,g,a,d),u.firstCreatePass&&l>=d.directiveStart&&function(a,u,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=u.type.prototype;if(d){const v=Cc(u);(l.preOrderHooks||(l.preOrderHooks=[])).push(a,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-a,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(a,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(a,g))}(l,g[l],u)}finally{null!==I&&un(I),Na(b),v.resolving=!1,hb()}}return f}function Pn(a,u,l){return!!(l[u+(a>>5)]&1<<a)}function hs(a,u){return!(a&Re.Self||a&Re.Host&&u)}class Ra{constructor(u,l){this._tNode=u,this._lView=l}get(u,l){return af(this._tNode,this._lView,u,void 0,l)}}function ev(a){return qe(()=>{const u=a.prototype.constructor,l=u[En]||xa(u),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[En]||xa(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function xa(a){return Pe(a)?()=>{const u=xa(ne(a));return u&&u()}:$s(a)}function qc(a){return function(a,u){if("class"===u)return a.classes;if("style"===u)return a.styles;const l=a.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(ef(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===u)return l[f+1];f+=2}}}return null}(On(),a)}const Bo="__parameters__";function Xs(a,u,l){return qe(()=>{const d=function(a){return function(...l){if(a){const d=a(...l);for(const f in d)this[f]=d[f]}}}(u);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return b.annotation=v,b;function b(I,S,N){const M=I.hasOwnProperty(Bo)?I[Bo]:Object.defineProperty(I,Bo,{value:[]})[Bo];for(;M.length<=N;)M.push(null);return(M[N]=M[N]||[]).push(v),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class wn{constructor(u,l){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=mn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zc=new wn("AnalyzeForEntryComponents"),hi=Function;function Pr(a,u){void 0===u&&(u=a);for(let l=0;l<a.length;l++){let d=a[l];Array.isArray(d)?(u===a&&(u=a.slice(0,l)),Pr(d,u)):u!==a&&u.push(d)}return u}function fi(a,u){a.forEach(l=>Array.isArray(l)?fi(l,u):u(l))}function mr(a,u,l){u>=a.length?a.push(l):a.splice(u,0,l)}function fs(a,u){return u>=a.length-1?a.pop():a.splice(u,1)[0]}function yr(a,u,l){let d=ps(a,u);return d>=0?a[1|d]=l:(d=~d,function(a,u,l,d){let f=a.length;if(f==u)a.push(l,d);else if(1===f)a.push(d,a[0]),a[0]=l;else{for(f--,a.push(a[f-1],a[f]);f>u;)a[f]=a[f-2],f--;a[u]=l,a[u+1]=d}}(a,d,u,l)),d}function cf(a,u){const l=ps(a,u);if(l>=0)return a[1|l]}function ps(a,u){return function(a,u,l){let d=0,f=a.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<l];if(u===v)return g<<l;v>u?f=g:d=g+1}return~(f<<l)}(a,u,1)}const Ni={},ms="__NG_DI_FLAG__",Kr="ngTempTokenPath",pf=/\n/gm,dl="__source",hl=$({provide:String,useValue:$});let Go;function ys(a){const u=Go;return Go=a,u}function Va(a,u=Re.Default){if(void 0===Go)throw new Error("inject() must be called from an injection context");return null===Go?Zt(a,void 0,u):Go.get(a,u&Re.Optional?null:void 0,u)}function bn(a,u=Re.Default){return(Ht||Va)(ne(a),u)}function to(a){const u=[];for(let l=0;l<a.length;l++){const d=ne(a[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let f,g=Re.Default;for(let v=0;v<d.length;v++){const b=d[v],I=yf(b);"number"==typeof I?-1===I?f=b.token:g|=I:f=b}u.push(bn(f,g))}else u.push(bn(d))}return u}function _s(a,u){return a[ms]=u,a.prototype[ms]=u,a}function yf(a){return a[ms]}function ed(a,u,l,d){const f=a[Kr];throw u[dl]&&f.unshift(u[dl]),a.message=function(a,u,l,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=B(u);if(Array.isArray(u))f=u.map(B).join(" -> ");else if("object"==typeof u){let g=[];for(let v in u)if(u.hasOwnProperty(v)){let b=u[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):B(b)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${a.replace(pf,"\n  ")}`}("\n"+a.message,f,l,d),a.ngTokenPath=f,a[Kr]=null,a}const qo=_s(Xs("Inject",a=>({token:a})),-1),vs=_s(Xs("Optional"),8),Es=_s(Xs("SkipSelf"),4);let no,id;function ws(a){var u;return(null===(u=function(){if(void 0===no&&(no=null,V.trustedTypes))try{no=V.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return no}())||void 0===u?void 0:u.createHTML(a))||a}function Qg(a){var u;return(null===(u=function(){if(void 0===id&&(id=null,V.trustedTypes))try{id=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return id}())||void 0===u?void 0:u.createHTML(a))||a}class ja{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ro extends ja{getTypeName(){return"HTML"}}class mv extends ja{getTypeName(){return"Style"}}class _b extends ja{getTypeName(){return"Script"}}class gl extends ja{getTypeName(){return"URL"}}class yv extends ja{getTypeName(){return"ResourceURL"}}function pi(a){return a instanceof ja?a.changingThisBreaksApplicationSecurity:a}function zo(a,u){const l=Xg(a);if(null!=l&&l!==u){if("ResourceURL"===l&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===u}function Xg(a){return a instanceof ja&&a.getTypeName()||null}function ad(a){return new ro(a)}function _v(a){return new mv(a)}function em(a){return new _b(a)}function Cf(a){return new gl(a)}function vv(a){return new yv(a)}class tm{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const l=(new window.DOMParser).parseFromString(ws(u),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(u):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Ev{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(u){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=ws(u),l;const d=this.inertDocument.createElement("body");return d.innerHTML=ws(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(u){const l=u.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&u.removeAttribute(v)}let d=u.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const rm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $a(a){return(a=String(a)).match(rm)||a.match(wv)?a:"unsafe:"+a}function Yr(a){const u={};for(const l of a.split(","))u[l]=!0;return u}function cd(...a){const u={};for(const l of a)for(const d in l)l.hasOwnProperty(d)&&(u[d]=!0);return u}const bv=Yr("area,br,col,hr,img,wbr"),dd=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tf=Yr("rp,rt"),im=cd(bv,cd(dd,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cd(Tf,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cd(Tf,dd)),sm=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),st=Yr("srcset"),gi=cd(sm,st,Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Df=Yr("script,style,template");class Ri{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let l=u.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(u){const l=u.nodeName.toLowerCase();if(!im.hasOwnProperty(l))return this.sanitizedSomething=!0,!Df.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=u.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,b=v.toLowerCase();if(!gi.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=g.value;sm[b]&&(I=$a(I)),st[b]&&(a=I,I=(a=String(a)).split(",").map(u=>$a(u.trim())).join(", ")),this.buf.push(" ",v,'="',om(I),'"')}var a;return this.buf.push(">"),!0}endElement(u){const l=u.nodeName.toLowerCase();im.hasOwnProperty(l)&&!bv.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(u){this.buf.push(om(u))}checkClobberedElement(u,l){if(l&&(u.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return l}}const Cv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Iv=/([^\#-~ |!])/g;function om(a){return a.replace(/&/g,"&amp;").replace(Cv,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Iv,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ml;function fd(a,u){let l=null;try{ml=ml||function(a){const u=new Ev(a);return function(){try{return!!(new window.DOMParser).parseFromString(ws(""),"text/html")}catch(a){return!1}}()?new tm(u):u}(a);let d=u?String(u):"";l=ml.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=ml.getInertBodyElement(d)}while(d!==g);return ws((new Ri).sanitizeChildren(Ha(l)||l))}finally{if(l){const d=Ha(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ha(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Cn=(()=>((Cn=Cn||{})[Cn.NONE=0]="NONE",Cn[Cn.HTML=1]="HTML",Cn[Cn.STYLE=2]="STYLE",Cn[Cn.SCRIPT=3]="SCRIPT",Cn[Cn.URL=4]="URL",Cn[Cn.RESOURCE_URL=5]="RESOURCE_URL",Cn))();function pd(a){const u=qa();return u?Qg(u.sanitize(Cn.HTML,a)||""):zo(a,"HTML")?Qg(pi(a)):fd(Qu(),Ue(a))}function zi(a){const u=qa();return u?u.sanitize(Cn.URL,a)||"":zo(a,"URL")?pi(a):$a(Ue(a))}function qa(){const a=Se();return a&&a[12]}const vl="__ngContext__";function qt(a,u){a[vl]=u}function io(a){const u=function(a){return a[vl]||null}(a);return u?Array.isArray(u)?u:u.lView:null}function P(a){return a.ngOriginalError}function ve(a,...u){a.error(...u)}class Fe{constructor(){this._console=console}handleError(u){const l=this._findOriginalError(u),d=this._findContext(u),f=(a=u)&&a.ngErrorLogger||ve;var a;f(this._console,"ERROR",u),l&&f(this._console,"ORIGINAL ERROR",l),d&&f(this._console,"ERROR CONTEXT",d)}_findContext(u){return u?u.ngDebugContext||this._findContext(P(u)):null}_findOriginalError(u){let l=u&&P(u);for(;l&&P(l);)l=P(l);return l||null}}const Yo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Yi(a){return a instanceof Function?a():a}var oo=(()=>((oo=oo||{})[oo.Important=1]="Important",oo[oo.DashCase=2]="DashCase",oo))();function Mv(a,u){return undefined(a,u)}function It(a){const u=a[3];return Nn(u)?u[3]:u}function gm(a){return bb(a[13])}function Rf(a){return bb(a[4])}function bb(a){for(;null!==a&&!Nn(a);)a=a[4];return a}function yd(a,u,l,d,f){if(null!=d){let g,v=!1;Nn(d)?g=d:Ti(d)&&(v=!0,d=d[0]);const b=dn(d);0===a&&null!==l?null==f?_d(u,l,b):Tt(u,l,b,f||null,!0):1===a&&null!==l?Tt(u,l,b,f||null,!0):2===a?function(a,u,l){const d=ym(a,u);d&&function(a,u,l,d){cn(a)?a.removeChild(u,l,d):u.removeChild(l)}(a,d,u,l)}(u,b,v):3===a&&u.destroyNode(b),null!=g&&function(a,u,l,d,f){const g=l[7];g!==dn(l)&&yd(u,a,d,g,f);for(let b=10;b<l.length;b++){const I=l[b];Of(I[1],I,a,u,d,g)}}(u,a,g,l,f)}}function mm(a,u,l){return cn(a)?a.createElement(u,l):null===l?a.createElement(u):a.createElementNS(l,u)}function kv(a,u){const l=a[9],d=l.indexOf(u),f=u[3];1024&u[2]&&(u[2]&=-1025,qh(f,-1)),l.splice(d,1)}function Fv(a,u){if(a.length<=10)return;const l=10+u,d=a[l];if(d){const f=d[17];null!==f&&f!==a&&kv(f,d),u>0&&(a[l-1][4]=d[4]);const g=fs(a,10+u);!function(a,u){Of(a,u,u[11],2,null,null),u[0]=null,u[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Lv(a,u){if(!(256&u[2])){const l=u[11];cn(l)&&l.destroyNode&&Of(a,u,l,3,null,null),function(a){let u=a[13];if(!u)return Vv(a[1],a);for(;u;){let l=null;if(Ti(u))l=u[13];else{const d=u[10];d&&(l=d)}if(!l){for(;u&&!u[4]&&u!==a;)Ti(u)&&Vv(u[1],u),u=u[3];null===u&&(u=a),Ti(u)&&Vv(u[1],u),l=u&&u[4]}u=l}}(u)}}function Vv(a,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function(a,u){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let d=0;d<l.length;d+=2){const f=u[l[d]];if(!(f instanceof qi)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=f[g[v]],I=g[v+1];try{I.call(b)}finally{}}else try{g.call(f)}finally{}}}}(a,u),function(a,u){const l=a.cleanup,d=u[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],b="function"==typeof v?v(u):dn(u[v]),I=d[f=l[g+2]],S=l[g+3];"boolean"==typeof S?b.removeEventListener(l[g],I,S):S>=0?d[f=S]():d[f=-S].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();u[7]=null}}(a,u),1===u[1].type&&cn(u[11])&&u[11].destroy();const l=u[17];if(null!==l&&Nn(u[3])){l!==u[3]&&kv(l,u);const d=u[19];null!==d&&d.detachView(a)}}}function xf(a,u,l){return function(a,u,l){let d=u;for(;null!==d&&40&d.type;)d=(u=d).parent;if(null===d)return l[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===tn.None||f===tn.Emulated)return null}return zr(d,l)}(a,u.parent,l)}function Tt(a,u,l,d,f){cn(a)?a.insertBefore(u,l,d,f):u.insertBefore(l,d,f)}function _d(a,u,l){cn(a)?a.appendChild(u,l):u.appendChild(l)}function Sb(a,u,l,d,f){null!==d?Tt(a,u,l,d,f):_d(a,u,l)}function ym(a,u){return cn(a)?a.parentNode(u):u.parentNode}let Mf=function(a,u,l){return 40&a.type?zr(a,l):null};function Cl(a,u,l,d){const f=xf(a,d,u),g=u[11],b=function(a,u,l){return Mf(a,u,l)}(d.parent||u[6],d,u);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)Sb(g,f,l[I],b,!1);else Sb(g,f,l,b,!1)}function _m(a,u){if(null!==u){const l=u.type;if(3&l)return zr(u,a);if(4&l)return vd(-1,a[u.index]);if(8&l){const d=u.child;if(null!==d)return _m(a,d);{const f=a[u.index];return Nn(f)?vd(-1,f):dn(f)}}if(32&l)return Mv(u,a)()||dn(a[u.index]);{const d=vm(a,u);return null!==d?Array.isArray(d)?d[0]:_m(It(a[16]),d):_m(a,u.next)}}return null}function vm(a,u){return null!==u?a[16][6].projection[u.projection]:null}function vd(a,u){const l=10+a+1;if(l<u.length){const d=u[l],f=d[1].firstChild;if(null!==f)return _m(d,f)}return u[7]}function Em(a,u,l,d,f,g,v){for(;null!=l;){const b=d[l.index],I=l.type;if(v&&0===u&&(b&&qt(dn(b),d),l.flags|=4),64!=(64&l.flags))if(8&I)Em(a,u,l.child,d,f,g,!1),yd(u,a,f,b,g);else if(32&I){const S=Mv(l,d);let N;for(;N=S();)yd(u,a,f,N,g);yd(u,a,f,b,g)}else 16&I?Nb(a,u,d,l,f,g):yd(u,a,f,b,g);l=v?l.projectionNext:l.next}}function Of(a,u,l,d,f,g){Em(l,d,a.firstChild,u,f,g,!1)}function Nb(a,u,l,d,f,g){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)yd(u,a,f,I[S],g);else Em(a,u,I,v[3],f,g,!0)}function Rb(a,u,l){cn(a)?a.setAttribute(u,"style",l):u.style.cssText=l}function Hv(a,u,l){cn(a)?""===l?a.removeAttribute(u,"class"):a.setAttribute(u,"class",l):u.className=l}function xb(a,u,l){let d=a.length;for(;;){const f=a.indexOf(u,l);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=u.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}l=f+1}}const Gv="ng-template";function qv(a,u,l){let d=0;for(;d<a.length;){let f=a[d++];if(l&&"class"===f){if(f=a[d],-1!==xb(f.toLowerCase(),u,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===u)return!0;return!1}}return!1}function bm(a){return 4===a.type&&a.value!==Gv}function Qo(a,u,l){return u===(4!==a.type||l?a.value:Gv)}function Pf(a,u,l){let d=4;const f=a.attrs||[],g=function(a){for(let u=0;u<a.length;u++)if(ef(a[u]))return u;return a.length}(f);let v=!1;for(let b=0;b<u.length;b++){const I=u[b];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!Qo(a,I,l)||""===I&&1===u.length){if(Ji(d))return!1;v=!0}}else{const S=8&d?I:u[++b];if(8&d&&null!==a.attrs){if(!qv(a.attrs,S,l)){if(Ji(d))return!1;v=!0}continue}const M=Mb(8&d?"class":I,f,bm(a),l);if(-1===M){if(Ji(d))return!1;v=!0;continue}if(""!==S){let k;k=M>g?"":f[M+1].toLowerCase();const U=8&d?k:null;if(U&&-1!==xb(U,S,0)||2&d&&S!==k){if(Ji(d))return!1;v=!0}}}}else{if(!v&&!Ji(d)&&!Ji(I))return!1;if(v&&Ji(I))continue;v=!1,d=I|1&d}}return Ji(d)||v}function Ji(a){return 0==(1&a)}function Mb(a,u,l,d){if(null===u)return-1;let f=0;if(d||!l){let g=!1;for(;f<u.length;){const v=u[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=u[++f];for(;"string"==typeof b;)b=u[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function(a,u){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const d=a[l];if("number"==typeof d)return-1;if(d===u)return l;l++}return-1}(u,a)}function Ob(a,u,l=!1){for(let d=0;d<u.length;d++)if(Pf(a,u[d],l))return!0;return!1}function zv(a,u){return a?":not("+u.trim()+")":u}function Wv(a){let u=a[0],l=1,d=2,f="",g=!1;for(;l<a.length;){let v=a[l];if("string"==typeof v)if(2&d){const b=a[++l];f+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ji(v)&&(u+=zv(g,f),f=""),d=v,g=g||!Ji(d);l++}return""!==f&&(u+=zv(g,f)),u}const ht={};function Fb(a){kf(At(),Se(),Kn()+a,ko())}function kf(a,u,l,d){if(!d)if(3==(3&u[2])){const g=a.preOrderCheckHooks;null!==g&&Fo(u,g,l)}else{const g=a.preOrderHooks;null!==g&&Vc(u,g,0,l)}Or(l)}function Ff(a,u){return a<<17|u<<2}function bs(a){return a>>17&32767}function wd(a){return 2|a}function xi(a){return(131068&a)>>2}function Lf(a,u){return-131069&a|u<<2}function Im(a){return 1|a}function tE(a,u){const l=a.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];if(-1!==g){const v=a.data[g];kg(f),v.contentQueries(2,u[g],g)}}}function Ya(a,u,l,d,f,g,v,b,I,S){const N=u.blueprint.slice();return N[0]=f,N[2]=140|d,Oc(N),N[3]=N[15]=a,N[8]=l,N[10]=v||a&&a[10],N[11]=b||a&&a[11],N[12]=I||a&&a[12]||null,N[9]=S||a&&a[9]||null,N[6]=g,N[16]=2==u.type?a[16]:N,N}function Tl(a,u,l,d,f){let g=a.data[u];if(null===g)g=function(a,u,l,d,f){const g=kc(),v=Zh(),I=a.data[u]=function(a,u,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,u,d,f);return null===a.firstChild&&(a.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(a,u,l,d,f),at.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function(){const a=at.lFrame,u=a.currentTNode;return a.isParent?u:u.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return li(g,!0),g}function Dd(a,u,l,d){if(0===l)return-1;const f=u.length;for(let g=0;g<l;g++)u.push(d),a.blueprint.push(d),a.data.push(null);return f}function jf(a,u,l){nl(u);try{const d=a.viewQuery;null!==d&&Hf(1,d,l);const f=a.template;null!==f&&xm(a,u,f,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&tE(a,u),a.staticViewQueries&&Hf(2,a.viewQuery,l);const g=a.components;null!==g&&function(a,u){for(let l=0;l<u.length;l++)dA(a,u[l])}(u,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{u[2]&=-5,Lg()}}function Sd(a,u,l,d){const f=u[2];if(256==(256&f))return;nl(u);const g=ko();try{Oc(u),function(a){at.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&xm(a,u,l,2,d);const v=3==(3&f);if(!g)if(v){const S=a.preOrderCheckHooks;null!==S&&Fo(u,S,null)}else{const S=a.preOrderHooks;null!==S&&Vc(u,S,0,null),Vg(u,0)}if(function(a){for(let u=gm(a);null!==u;u=Rf(u)){if(!u[2])continue;const l=u[9];for(let d=0;d<l.length;d++){const f=l[d],g=f[3];0==(1024&f[2])&&qh(g,1),f[2]|=1024}}}(u),function(a){for(let u=gm(a);null!==u;u=Rf(u))for(let l=10;l<u.length;l++){const d=u[l],f=d[1];Gh(d)&&Sd(f,d,f.template,d[8])}}(u),null!==a.contentQueries&&tE(a,u),!g)if(v){const S=a.contentCheckHooks;null!==S&&Fo(u,S)}else{const S=a.contentHooks;null!==S&&Vc(u,S,1),Vg(u,1)}!function(a,u){const l=a.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Or(~f);else{const g=f,v=l[++d],b=l[++d];tl(v,g),b(2,u[g])}}}finally{Or(-1)}}(a,u);const b=a.components;null!==b&&function(a,u){for(let l=0;l<u.length;l++)cA(a,u[l])}(u,b);const I=a.viewQuery;if(null!==I&&Hf(2,I,d),!g)if(v){const S=a.viewCheckHooks;null!==S&&Fo(u,S)}else{const S=a.viewHooks;null!==S&&Vc(u,S,2),Vg(u,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,qh(u[3],-1))}finally{Lg()}}function JS(a,u,l,d){const f=u[10],g=!ko(),v=Ju(u);try{g&&!v&&f.begin&&f.begin(),v&&jf(a,u,d),Sd(a,u,l,d)}finally{g&&!v&&f.end&&f.end()}}function xm(a,u,l,d,f){const g=Kn(),v=2&d;try{Or(-1),v&&u.length>20&&kf(a,u,20,ko()),l(d,f)}finally{Or(g)}}function Gb(a,u,l){if(ui(u)){const f=u.directiveEnd;for(let g=u.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Mm(a,u,l){!zh()||(function(a,u,l,d){const f=l.directiveStart,g=l.directiveEnd;a.firstCreatePass||dt(l,u),qt(d,u);const v=l.initialInputs;for(let b=f;b<g;b++){const I=a.data[b],S=Di(I);S&&uA(u,l,I);const N=di(u,a,b,l);qt(N,u),null!==v&&oE(0,b-f,N,I,0,v),S&&(gr(l.index,u)[8]=N)}}(a,u,l,zr(l,u)),128==(128&l.flags)&&function(a,u,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,b=at.lFrame.currentDirectiveIndex;try{Or(v);for(let I=d;I<f;I++){const S=a.data[I],N=u[I];Ks(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&aA(S,N)}}finally{Or(-1),Ks(b)}}(a,u,l))}function Ad(a,u,l=zr){const d=u.localNames;if(null!==d){let f=u.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],b=-1===v?l(u,a):a[v];a[f++]=b}}}function qb(a){const u=a.tView;return null===u||u.incompleteFirstPass?a.tView=Om(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):u}function Om(a,u,l,d,f,g,v,b,I,S){const N=20+d,M=N+f,k=function(a,u){const l=[];for(let d=0;d<u;d++)l.push(d<a?null:ht);return l}(N,M),U="function"==typeof S?S():S;return k[1]={type:a,blueprint:k,template:l,queries:null,viewQuery:b,declTNode:u,data:k.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:U,incompleteFirstPass:!1}}function Zb(a,u,l,d){const f=aC(u);null===l?f.push(d):(f.push(l),a.firstCreatePass&&uC(a).push(d,f.length-1))}function Kb(a,u,l){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(u,f):l[d]=[u,f]}return l}function Oi(a,u,l,d,f,g,v,b){const I=zr(u,l);let N,S=u.inputs;!b&&null!=S&&(N=S[d])?(hE(a,l,N,d,f),Ec(u)&&function(a,u){const l=gr(u,a);16&l[2]||(l[2]|=64)}(l,u.index)):3&u.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,u.value||"",d):f,cn(g)?g.setProperty(I,d,f):Bc(d)||(I.setProperty?I.setProperty(d,f):I[d]=f))}function rE(a,u,l,d){let f=!1;if(zh()){const g=function(a,u,l){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Ob(l,v.selectors,!1)&&(f||(f=[]),Hc(dt(l,u),a,v.type),Di(v)?(iE(a,l),f.unshift(v)):f.push(v))}return f}(a,u,l),v=null===d?null:{"":-1};if(null!==g){f=!0,nC(l,a.data.length,g.length);for(let N=0;N<g.length;N++){const M=g[N];M.providersResolver&&M.providersResolver(M)}let b=!1,I=!1,S=Dd(a,u,g.length,null);for(let N=0;N<g.length;N++){const M=g[N];l.mergedAttrs=tf(l.mergedAttrs,M.hostAttrs),rC(a,l,u,S,M),tC(S,M,v),null!==M.contentQueries&&(l.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(l.flags|=128);const k=M.type.prototype;!b&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(l.index),b=!0),!I&&(k.ngOnChanges||k.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(l.index),I=!0),S++}!function(a,u){const d=u.directiveEnd,f=a.data,g=u.attrs,v=[];let b=null,I=null;for(let S=u.directiveStart;S<d;S++){const N=f[S],M=N.inputs,k=null===g||bm(u)?null:lA(M,g);v.push(k),b=Kb(M,S,b),I=Kb(N.outputs,S,I)}null!==b&&(b.hasOwnProperty("class")&&(u.flags|=16),b.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=v,u.inputs=b,u.outputs=I}(a,l)}v&&function(a,u,l){if(u){const d=a.localNames=[];for(let f=0;f<u.length;f+=2){const g=l[u[f+1]];if(null==g)throw new Me("301",`Export of name '${u[f+1]}' not found!`);d.push(u[f],g)}}}(l,d,v)}return l.mergedAttrs=tf(l.mergedAttrs,l.attrs),f}function Qb(a,u,l,d,f,g){const v=g.hostBindings;if(v){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const I=~u.index;(function(a){let u=a.length;for(;u>0;){const l=a[--u];if("number"==typeof l&&l<0)return l}return 0})(b)!=I&&b.push(I),b.push(d,f,v)}}function aA(a,u){null!==a.hostBindings&&a.hostBindings(1,u)}function iE(a,u){u.flags|=2,(a.components||(a.components=[])).push(u.index)}function tC(a,u,l){if(l){if(u.exportAs)for(let d=0;d<u.exportAs.length;d++)l[u.exportAs[d]]=a;Di(u)&&(l[""]=a)}}function nC(a,u,l){a.flags|=1,a.directiveStart=u,a.directiveEnd=u+l,a.providerIndexes=u}function rC(a,u,l,d,f){a.data[d]=f;const g=f.factory||(f.factory=$s(f.type)),v=new qi(g,Di(f),null);a.blueprint[d]=v,l[d]=v,Qb(a,u,0,d,Dd(a,l,f.hostVars,ht),f)}function uA(a,u,l){const d=zr(u,a),f=qb(l),g=a[10],v=Fm(a,Ya(a,f,null,l.onPush?64:16,d,u,g,g.createRenderer(d,l),null,null));a[u.index]=v}function uo(a,u,l,d,f,g){const v=zr(a,u);!function(a,u,l,d,f,g,v){if(null==g)cn(a)?a.removeAttribute(u,f,l):u.removeAttribute(f);else{const b=null==v?Ue(g):v(g,d||"",f);cn(a)?a.setAttribute(u,f,b,l):l?u.setAttributeNS(l,f,b):u.setAttribute(f,b)}}(u[11],v,g,a.value,l,d,f)}function oE(a,u,l,d,f,g){const v=g[u];if(null!==v){const b=d.setInput;for(let I=0;I<v.length;){const S=v[I++],N=v[I++],M=v[I++];null!==b?d.setInput(l,M,S,N):l[N]=M}}}function lA(a,u){let l=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,a[f],u[d+1])),d+=2}else d+=2;else d+=4}return l}function iC(a,u,l,d){return new Array(a,!0,!1,u,null,0,d,l,null,null)}function cA(a,u){const l=gr(u,a);if(Gh(l)){const d=l[1];80&l[2]?Sd(d,l,d.template,l[8]):l[5]>0&&Qa(l)}}function Qa(a){for(let d=gm(a);null!==d;d=Rf(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];Sd(v,g,v.template,g[8])}else g[5]>0&&Qa(g)}const l=a[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=gr(l[d],a);Gh(f)&&f[5]>0&&Qa(f)}}function dA(a,u){const l=gr(u,a),d=l[1];(function(a,u){for(let l=u.length;l<a.blueprint.length;l++)u.push(a.blueprint[l])})(d,l),jf(d,l,l[8])}function Fm(a,u){return a[13]?a[14][4]=u:a[13]=u,a[14]=u,u}function uE(a){for(;a;){a[2]|=64;const u=It(a);if(Lh(a)&&!u)return a;a=u}return null}function cE(a,u,l){const d=u[10];d.begin&&d.begin();try{Sd(a,u,a.template,l)}catch(f){throw lC(u,f),f}finally{d.end&&d.end()}}function wr(a){!function(a){for(let u=0;u<a.components.length;u++){const l=a.components[u],d=io(l),f=d[1];JS(f,d,f.template,l)}}(a[8])}function Hf(a,u,l){kg(0),u(a,l)}const Nd=(()=>Promise.resolve(null))();function aC(a){return a[7]||(a[7]=[])}function uC(a){return a.cleanup||(a.cleanup=[])}function lC(a,u){const l=a[9],d=l?l.get(Fe,null):null;d&&d.handleError(u)}function hE(a,u,l,d,f){for(let g=0;g<l.length;){const v=l[g++],b=l[g++],I=u[v],S=a.data[v];null!==S.setInput?S.setInput(I,f,d,b):I[b]=f}}function Xo(a,u,l){const d=xc(u,a);!function(a,u,l){cn(a)?a.setValue(u,l):u.textContent=l}(a[11],d,l)}function Gf(a,u,l){let d=l?a.styles:null,f=l?a.classes:null,g=0;if(null!==u)for(let v=0;v<u.length;v++){const b=u[v];"number"==typeof b?g=b:1==g?f=Z(f,b):2==g&&(d=Z(d,b+": "+u[++v]+";"))}l?a.styles=d:a.stylesWithoutHost=d,l?a.classes=f:a.classesWithoutHost=f}const Xi=new wn("INJECTOR",-1);class pE{get(u,l=Ni){if(l===Ni){const d=new Error(`NullInjectorError: No provider for ${B(u)}!`);throw d.name="NullInjectorError",d}return l}}const qf=new wn("Set Injector scope."),zf={},pA={};let Um;function dC(){return void 0===Um&&(Um=new pE),Um}function hC(a,u=null,l=null,d){return new fC(a,l,u||dC(),d)}class fC{constructor(u,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&fi(l,b=>this.processProvider(b,u,l)),fi([u],b=>this.processInjectorType(b,[],g)),this.records.set(Xi,Rd(void 0,this));const v=this.records.get(qf);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof u?null:B(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,l=Ni,d=Re.Default){this.assertNotDestroyed();const f=ys(this),g=un(void 0);try{if(!(d&Re.SkipSelf)){let b=this.records.get(u);if(void 0===b){const I=("function"==typeof(a=u)||"object"==typeof a&&a instanceof wn)&&rr(u);b=I&&this.injectableDefInScope(I)?Rd(gE(u),zf):null,this.records.set(u,b)}if(null!=b)return this.hydrate(u,b)}return(d&Re.Self?dC():this.parent).get(u,l=d&Re.Optional&&l===Ni?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Kr]=v[Kr]||[]).unshift(B(u)),f)throw v;return ed(v,u,"R3InjectorError",this.source)}throw v}finally{un(g),ys(f)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((d,f)=>u.push(B(f))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(u,l,d){if(!(u=ne(u)))return!1;let f=os(u);const g=null==f&&u.ngModule||void 0,v=void 0===g?u:g,b=-1!==d.indexOf(v);if(void 0!==g&&(f=os(g)),null==f)return!1;if(null!=f.imports&&!b){let N;d.push(v);try{fi(f.imports,M=>{this.processInjectorType(M,l,d)&&(void 0===N&&(N=[]),N.push(M))})}finally{}if(void 0!==N)for(let M=0;M<N.length;M++){const{ngModule:k,providers:U}=N[M];fi(U,W=>this.processProvider(W,k,U||Te))}}this.injectorDefTypes.add(v);const I=$s(v)||(()=>new v);this.records.set(v,Rd(I,zf));const S=f.providers;if(null!=S&&!b){const N=u;fi(S,M=>this.processProvider(M,N,S))}return void 0!==g&&void 0!==u.providers}processProvider(u,l,d){let f=Wf(u=ne(u))?u:ne(u&&u.provide);const g=pC(a=u)?Rd(void 0,a.useValue):Rd(Bm(a),zf);var a;if(Wf(u)||!0!==u.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Rd(void 0,zf,!0),v.factory=()=>to(v.multi),this.records.set(f,v)),f=u,v.multi.push(u)}this.records.set(f,g)}hydrate(u,l){return l.value===zf&&(l.value=pA,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(a=l.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var a}injectableDefInScope(u){if(!u.providedIn)return!1;const l=ne(u.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function gE(a){const u=rr(a),l=null!==u?u.factory:$s(a);if(null!==l)return l;if(a instanceof wn)throw new Error(`Token ${B(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const u=a.length;if(u>0){const d=function(a,u){const l=[];for(let d=0;d<a;d++)l.push(u);return l}(u,"?");throw new Error(`Can't resolve all parameters for ${B(a)}: (${d.join(", ")}).`)}const l=function(a){const u=a&&(a[jn]||a[ii]);if(u){const l=function(a){if(a.hasOwnProperty("name"))return a.name;const u=(""+a).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),u}return null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new Error("unreachable")}function Bm(a,u,l){let d;if(Wf(a)){const f=ne(a);return $s(f)||gE(f)}if(pC(a))d=()=>ne(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...to(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>bn(ne(a.useExisting));else{const f=ne(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return $s(f)||gE(f);d=()=>new f(...to(a.deps))}return d}function Rd(a,u,l=!1){return{factory:a,value:u,multi:l?[]:void 0}}function pC(a){return null!==a&&"object"==typeof a&&hl in a}function Wf(a){return"function"==typeof a}const mC=function(a,u,l){return function(a,u=null,l=null,d){const f=hC(a,u,l,d);return f._resolveInjectorDefTypes(),f}({name:l},u,a,l)};class Jt{static create(u,l){return Array.isArray(u)?mC(u,l,""):mC(u.providers,u.parent,u.name||"")}}function bC(a,u){Lc(io(a)[1],On())}function Kf(a){let u=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const d=[a];for(;u;){let f;if(Di(a))f=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Error("Directives cannot inherit Components");f=u.\u0275dir}if(f){if(l){d.push(f);const v=a;v.inputs=DE(a.inputs),v.declaredInputs=DE(a.declaredInputs),v.outputs=DE(a.outputs);const b=f.hostBindings;b&&SE(a,b);const I=f.viewQuery,S=f.contentQueries;if(I&&Md(a,I),S&&CC(a,S),q(a.inputs,f.inputs),q(a.declaredInputs,f.declaredInputs),q(a.outputs,f.outputs),Di(f)&&f.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(a),b===Kf&&(l=!1)}}u=Object.getPrototypeOf(u)}!function(a){let u=0,l=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=u+=f.hostVars,f.hostAttrs=tf(f.hostAttrs,l=tf(l,f.hostAttrs))}}(d)}function DE(a){return a===Q?{}:a===Te?[]:a}function Md(a,u){const l=a.viewQuery;a.viewQuery=l?(d,f)=>{u(d,f),l(d,f)}:u}function CC(a,u){const l=a.contentQueries;a.contentQueries=l?(d,f,g)=>{u(d,f,g),l(d,f,g)}:u}function SE(a,u){const l=a.hostBindings;a.hostBindings=l?(d,f)=>{u(d,f),l(d,f)}:u}Jt.THROW_IF_NOT_FOUND=Ni,Jt.NULL=new pE,Jt.\u0275prov=mn({token:Jt,providedIn:"any",factory:()=>bn(Xi)}),Jt.__NG_ELEMENT_ID__=-1;let Al=null;function nu(){if(!Al){const a=V.Symbol;if(a&&a.iterator)Al=a.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<u.length;++l){const d=u[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Al=d)}}}return Al}function Yf(a){return!!Wm(a)&&(Array.isArray(a)||!(a instanceof Map)&&nu()in a)}function Wm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function zt(a,u,l){return!Object.is(a[u],l)&&(a[u]=l,!0)}function NE(a,u,l,d){const f=Se();return zt(f,Zs(),u)&&(At(),uo(hn(),f,a,u,l,d)),NE}function ar(a,u,l,d,f,g,v,b){const I=Se(),S=At(),N=a+20,M=S.firstCreatePass?function(a,u,l,d,f,g,v,b,I){const S=u.consts,N=Tl(u,a,4,v||null,qs(S,b));rE(u,l,N,qs(S,I)),Lc(u,N);const M=N.tViews=Om(2,N,d,f,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,S);return null!==u.queries&&(u.queries.template(u,N),M.queries=u.queries.embeddedTView(N)),N}(N,S,I,u,l,d,f,g,v):S.data[N];li(M,!1);const k=I[11].createComment("");Cl(S,I,k,M),qt(k,I),Fm(I,I[N]=iC(k,I,k,M)),Ia(M)&&Mm(S,I,M),null!=v&&Ad(I,M,b)}function Fd(a,u=Re.Default){const l=Se();return null===l?bn(a,u):af(On(),l,ne(a),u)}function uy(a,u,l){const d=Se();return zt(d,Zs(),u)&&Oi(At(),hn(),d,a,u,d[11],l,!1),uy}function $E(a,u,l,d,f){const v=f?"class":"style";hE(a,l,u.inputs[v],v,d)}function ly(a,u,l,d){const f=Se(),g=At(),v=20+a,b=f[11],I=f[v]=mm(b,u,at.lFrame.currentNamespace),S=g.firstCreatePass?function(a,u,l,d,f,g,v){const b=u.consts,S=Tl(u,a,2,f,qs(b,g));return rE(u,l,S,qs(b,v)),null!==S.attrs&&Gf(S,S.attrs,!1),null!==S.mergedAttrs&&Gf(S,S.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,S),S}(v,g,f,0,u,l,d):g.data[v];li(S,!0);const N=S.mergedAttrs;null!==N&&Js(b,I,N);const M=S.classes;null!==M&&Hv(b,I,M);const k=S.styles;null!==k&&Rb(b,I,k),64!=(64&S.flags)&&Cl(g,f,I,S),0===at.lFrame.elementDepthCount&&qt(I,f),at.lFrame.elementDepthCount++,Ia(S)&&(Mm(g,f,S),Gb(g,S,f)),null!==d&&Ad(f,S)}function Ld(){let a=On();Zh()?zs():(a=a.parent,li(a,!1));const u=a;at.lFrame.elementDepthCount--;const l=At();l.firstCreatePass&&(Lc(l,a),ui(a)&&l.queries.elementEnd(a)),null!=u.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(u)&&$E(l,u,Se(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(u)&&$E(l,u,Se(),u.stylesWithoutHost,!1)}function Vd(a,u,l,d){ly(a,u,l,d),Ld()}function GE(a,u,l){const d=Se(),f=At(),g=a+20,v=f.firstCreatePass?function(a,u,l,d,f){const g=u.consts,v=qs(g,d),b=Tl(u,a,8,"ng-container",v);return null!==v&&Gf(b,v,!0),rE(u,l,b,qs(g,f)),null!==u.queries&&u.queries.elementStart(u,b),b}(g,f,d,u,l):f.data[g];li(v,!0);const b=d[g]=d[11].createComment("");Cl(f,d,b,v),qt(b,d),Ia(v)&&(Mm(f,d,v),Gb(f,v,d)),null!=l&&Ad(d,v)}function sp(){let a=On();const u=At();Zh()?zs():(a=a.parent,li(a,!1)),u.firstCreatePass&&(Lc(u,a),ui(a)&&u.queries.elementEnd(a))}function cy(){return Se()}function na(a){return!!a&&"function"==typeof a.then}function qE(a){return!!a&&"function"==typeof a.subscribe}const zE=qE;function ra(a,u,l,d){const f=Se(),g=At(),v=On();return function(a,u,l,d,f,g,v,b){const I=Ia(d),N=a.firstCreatePass&&uC(a),M=u[8],k=aC(u);let U=!0;if(3&d.type||b){const X=zr(d,u),Oe=b?b(X):X,Ce=k.length,Xe=b?ut=>b(dn(ut[d.index])):d.index;if(cn(l)){let ut=null;if(!b&&I&&(ut=function(a,u,l,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const b=u[7],I=f[g+2];return b.length>I?b[I]:null}"string"==typeof v&&(g+=2)}return null}(a,u,f,d.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=g,ut.__ngLastListenerFn__=g,U=!1;else{g=hy(d,u,M,g,!1);const Ot=l.listen(Oe,f,g);k.push(g,Ot),N&&N.push(f,Xe,Ce,Ce+1)}}else g=hy(d,u,M,g,!0),Oe.addEventListener(f,g,v),k.push(g),N&&N.push(f,Xe,Ce,v)}else g=hy(d,u,M,g,!1);const W=d.outputs;let ue;if(U&&null!==W&&(ue=W[f])){const X=ue.length;if(X)for(let Oe=0;Oe<X;Oe+=2){const nr=u[ue[Oe]][ue[Oe+1]].subscribe(g),is=k.length;k.push(g,nr),N&&N.push(f,d.index,is,-(is+1))}}}(g,f,f[11],v,a,u,!!l,d),ra}function ap(a,u,l,d){try{return!1!==l(d)}catch(f){return lC(a,f),!1}}function hy(a,u,l,d,f){return function g(v){if(v===Function)return d;const b=2&a.flags?gr(a.index,u):u;0==(32&u[2])&&uE(b);let I=ap(u,0,d,v),S=g.__ngNextListenerFn__;for(;S;)I=ap(u,0,S,v)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function vn(a=1){return function(a){return(at.lFrame.contextLView=function(a,u){for(;a>0;)u=u[15],a--;return u}(a,at.lFrame.contextLView))[8]}(a)}function Ol(a,u,l,d,f){const g=a[l+1],v=null===u;let b=d?bs(g):xi(g),I=!1;for(;0!==b&&(!1===I||v);){const N=a[b+1];WA(a[b],u)&&(I=!0,a[b+1]=d?Im(N):wd(N)),b=d?bs(N):xi(N)}I&&(a[l+1]=d?wd(g):Im(g))}function WA(a,u){return null===a||null==u||(Array.isArray(a)?a[1]:a)===u||!(!Array.isArray(a)||"string"!=typeof u)&&ps(a,u)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZE(a){return a.substring(Yn.key,Yn.keyEnd)}function KE(a,u){const l=Yn.textEnd;return l===u?-1:(u=Yn.keyEnd=function(a,u,l){for(;u<l&&a.charCodeAt(u)>32;)u++;return u}(a,Yn.key=u,l),Pl(a,u,l))}function Pl(a,u,l){for(;u<l&&a.charCodeAt(u)<=32;)u++;return u}function Hd(a,u,l){return Kt(a,u,l,!1),Hd}function lp(a,u){return Kt(a,u,null,!0),lp}function Gd(a){!function(a,u,l,d){const f=At(),g=cs(2);f.firstUpdatePass&&ZC(f,null,g,d);const v=Se();if(l!==ht&&zt(v,g,l)){const b=f.data[Kn()];if(_y(b,d)&&!WC(f,g)){let I=d?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(l=Z(I,l||"")),$E(f,b,v,l,d)}else!function(a,u,l,d,f,g,v,b){f===ht&&(f=Te);let I=0,S=0,N=0<f.length?f[0]:null,M=0<g.length?g[0]:null;for(;null!==N||null!==M;){const k=I<f.length?f[I+1]:void 0,U=S<g.length?g[S+1]:void 0;let ue,W=null;N===M?(I+=2,S+=2,k!==U&&(W=M,ue=U)):null===M||null!==N&&N<M?(I+=2,W=N):(S+=2,W=M,ue=U),null!==W&&XC(a,u,l,d,W,ue,v,b),N=I<f.length?f[I]:null,M=S<g.length?g[S]:null}}(f,b,v,v[11],v[g+1],v[g+1]=function(a,u,l){if(null==l||""===l)return Te;const d=[],f=pi(l);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(d,g,f[g]);else"string"==typeof f&&u(d,f);return d}(a,u,l),d,g)}}(yr,ho,a,!0)}function ho(a,u){for(let l=function(a){return function(a){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=a.length}(a),KE(a,Pl(a,0,Yn.textEnd))}(u);l>=0;l=KE(u,l))yr(a,ZE(u),!0)}function Kt(a,u,l,d){const f=Se(),g=At(),v=cs(2);g.firstUpdatePass&&ZC(g,a,v,d),u!==ht&&zt(f,v,u)&&XC(g,g.data[Kn()],f,f[11],a,f[v+1]=function(a,u){return null==a||("string"==typeof u?a+=u:"object"==typeof a&&(a=B(pi(a)))),a}(u,l),d,v)}function WC(a,u){return u>=a.expandoStartIndex}function ZC(a,u,l,d){const f=a.data;if(null===f[l+1]){const g=f[Kn()],v=WC(a,l);_y(g,d)&&null===u&&!v&&(u=!1),u=function(a,u,l,d){const f=Fc(a);let g=d?u.residualClasses:u.residualStyles;if(null===f)0===(d?u.classBindings:u.styleBindings)&&(l=lu(l=my(null,a,u,l,d),u.attrs,d),g=null);else{const v=u.directiveStylingLast;if(-1===v||a[v]!==f)if(l=my(f,a,u,l,d),null===g){let I=function(a,u,l){const d=l?u.classBindings:u.styleBindings;if(0!==xi(d))return a[bs(d)]}(a,u,d);void 0!==I&&Array.isArray(I)&&(I=my(null,a,u,I[1],d),I=lu(I,u.attrs,d),function(a,u,l,d){a[bs(l?u.classBindings:u.styleBindings)]=d}(a,u,d,I))}else g=function(a,u,l){let d;const f=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<f;g++)d=lu(d,a[g].hostAttrs,l);return lu(d,u.attrs,l)}(a,u,d)}return void 0!==g&&(d?u.residualClasses=g:u.residualStyles=g),l}(f,g,u,d),function(a,u,l,d,f,g){let v=g?u.classBindings:u.styleBindings,b=bs(v),I=xi(v);a[d]=l;let N,S=!1;if(Array.isArray(l)){const M=l;N=M[1],(null===N||ps(M,N)>0)&&(S=!0)}else N=l;if(f)if(0!==I){const k=bs(a[b+1]);a[d+1]=Ff(k,b),0!==k&&(a[k+1]=Lf(a[k+1],d)),a[b+1]=function(a,u){return 131071&a|u<<17}(a[b+1],d)}else a[d+1]=Ff(b,0),0!==b&&(a[b+1]=Lf(a[b+1],d)),b=d;else a[d+1]=Ff(I,0),0===b?b=d:a[I+1]=Lf(a[I+1],d),I=d;S&&(a[d+1]=wd(a[d+1])),Ol(a,N,d,!0),Ol(a,N,d,!1),function(a,u,l,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof u&&ps(g,u)>=0&&(l[d+1]=Im(l[d+1]))}(u,N,a,d,g),v=Ff(b,I),g?u.classBindings=v:u.styleBindings=v}(f,g,u,l,v,d)}}function my(a,u,l,d,f){let g=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(g=u[b],d=lu(d,g.hostAttrs,f),g!==a);)b++;return null!==a&&(l.directiveStylingLast=b),d}function lu(a,u,l){const d=l?1:2;let f=-1;if(null!==u)for(let g=0;g<u.length;g++){const v=u[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),yr(a,v,!!l||u[++g]))}return void 0===a?null:a}function XC(a,u,l,d,f,g,v,b){if(!(3&u.type))return;const I=a.data,S=I[b+1];cu(function(a){return 1==(1&a)}(S)?yy(I,u,l,f,xi(S),v):void 0)||(cu(g)||function(a){return 2==(2&a)}(S)&&(g=yy(I,null,l,f,b,v)),function(a,u,l,d,f){const g=cn(a);if(u)f?g?a.addClass(l,d):l.classList.add(d):g?a.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:oo.DashCase;if(null==f)g?a.removeStyle(l,d,v):l.style.removeProperty(d);else{const b="string"==typeof f&&f.endsWith("!important");b&&(f=f.slice(0,-10),v|=oo.Important),g?a.setStyle(l,d,f,v):l.style.setProperty(d,f,b?"important":"")}}}(d,v,xc(Kn(),l),f,g))}function yy(a,u,l,d,f,g){const v=null===u;let b;for(;f>0;){const I=a[f],S=Array.isArray(I),N=S?I[1]:I,M=null===N;let k=l[f+1];k===ht&&(k=M?Te:void 0);let U=M?cf(k,d):N===d?k:void 0;if(S&&!cu(U)&&(U=cf(I,d)),cu(U)&&(b=U,v))return b;const W=a[f+1];f=v?bs(W):xi(W)}if(null!==u){let I=g?u.residualClasses:u.residualStyles;null!=I&&(b=cf(I,d))}return b}function cu(a){return void 0!==a}function _y(a,u){return 0!=(a.flags&(u?16:32))}function dp(a,u=""){const l=Se(),d=At(),f=a+20,g=d.firstCreatePass?Tl(d,f,1,u,null):d.data[f],v=l[f]=function(a,u){return cn(a)?a.createText(u):a.createTextNode(u)}(l[11],u);Cl(d,l,v,g),li(g,!1)}function qd(a,u,l){const d=Se(),f=function(a,u,l,d){return zt(a,Zs(),l)?u+Ue(l)+d:ht}(d,a,u,l);return f!==ht&&Xo(d,Kn(),f),qd}function po(a,u,l){const d=Se();return zt(d,Zs(),u)&&Oi(At(),hn(),d,a,u,d[11],l,!0),po}function fp(a,u,l){const d=Se();if(zt(d,Zs(),u)){const g=At(),v=hn();Oi(g,v,d,a,u,function(a,u,l){return(null===a||Di(a))&&(l=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(l[u.index])),l[11]}(Fc(g.data),v,d),l,!0)}return fp}const Ll=void 0;var Gn=["en",[["a","p"],["AM","PM"],Ll],[["AM","PM"],Ll,Ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ll,"{1} 'at' {0}",Ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),l=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let go={};function Ze(a){const u=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=je(u);if(l)return l;const d=u.split("-")[0];if(l=je(d),l)return l;if("en"===d)return Gn;throw new Error(`Missing locale data for the locale "${a}".`)}function gI(a){return Ze(a)[re.PluralCase]}function je(a){return a in go||(go[a]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[a]),go[a]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const Ty="en-US";let o0=Ty;function Rt(a){Dt(a,"Expected localeId to be defined"),"string"==typeof a&&(o0=a.toLowerCase().replace(/_/g,"-"))}function Fy(a,u,l,d,f){if(a=ne(a),Array.isArray(a))for(let g=0;g<a.length;g++)Fy(a[g],u,l,d,f);else{const g=At(),v=Se();let b=Wf(a)?a:ne(a.provide),I=Bm(a);const S=On(),N=1048575&S.providerIndexes,M=S.directiveStart,k=S.providerIndexes>>20;if(Wf(a)||!a.multi){const U=new qi(I,f,Fd),W=ih(b,u,f?N:N+k,M);-1===W?(Hc(dt(S,v),g,b),Ly(g,a,u.length),u.push(b),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(U),v.push(U)):(l[W]=U,v[W]=U)}else{const U=ih(b,u,N+k,M),W=ih(b,u,N,N+k),ue=U>=0&&l[U],X=W>=0&&l[W];if(f&&!X||!f&&!ue){Hc(dt(S,v),g,b);const Oe=function(a,u,l,d,f){const g=new qi(a,l,Fd);return g.multi=[],g.index=u,g.componentProviders=0,y0(g,f,d&&!l),g}(f?pN:fN,l.length,f,d,I);!f&&X&&(l[W].providerFactory=Oe),Ly(g,a,u.length,0),u.push(b),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(Oe),v.push(Oe)}else Ly(g,a,U>-1?U:W,y0(l[f?W:U],I,!f&&d));!f&&d&&X&&l[W].componentProviders++}}}function Ly(a,u,l,d){const f=Wf(u);if(f||function(a){return!!a.useClass}(u)){const v=(u.useClass||u).prototype.ngOnDestroy;if(v){const b=a.destroyHooks||(a.destroyHooks=[]);if(!f&&u.multi){const I=b.indexOf(l);-1===I?b.push(l,[d,v]):b[I+1].push(d,v)}else b.push(l,v)}}}function y0(a,u,l){return l&&a.componentProviders++,a.multi.push(u)-1}function ih(a,u,l,d){for(let f=l;f<d;f++)if(u[f]===a)return f;return-1}function fN(a,u,l,d){return Vy(this.multi,[])}function pN(a,u,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=di(l,l[1],this.providerFactory.index,d);g=b.slice(0,v),Vy(f,g);for(let I=v;I<b.length;I++)g.push(b[I])}else g=[],Vy(f,g);return g}function Vy(a,u){for(let l=0;l<a.length;l++)u.push((0,a[l])());return u}function du(a,u=[]){return l=>{l.providersResolver=(d,f)=>function(a,u,l){const d=At();if(d.firstCreatePass){const f=Di(a);Fy(l,d.data,d.blueprint,f,!0),Fy(u,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,u)}}class hu{}const $l="ngComponent";class PI{resolveComponentFactory(u){throw function(a){const u=Error(`No component factory found for ${B(a)}. Did you add it to @NgModule.entryComponents?`);return u[$l]=a,u}(u)}}class Ds{}function Rn(...a){}function ua(a,u){return new Ss(zr(a,u))}Ds.NULL=new PI;const yN=function(){return ua(On(),Se())};let Ss=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=yN,a})();function E0(a){return a instanceof Ss?a.nativeElement:a}class As{}let FI=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>wp(),a})();const wp=function(){const a=Se(),l=gr(On().index,a);return function(a){return a[11]}(Ti(l)?l:a)};let kn=(()=>{class a{}return a.\u0275prov=mn({token:a,providedIn:"root",factory:()=>null}),a})();class Ut{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const jy=new Ut("12.2.3");class b0{constructor(){}supports(u){return Yf(u)}create(u){return new Ir(u)}}const Xn=(a,u)=>u;class Ir{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Xn}forEachItem(u){let l;for(l=this._itHead;null!==l;l=l._next)u(l)}forEachOperation(u){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<Li(d,f,g)?l:d,b=Li(v,f,g),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const S=b-f,N=I-f;if(S!=N){for(let k=0;k<S;k++){const U=k<g.length?g[k]:g[k]=0,W=U+k;N<=W&&W<S&&(g[k]=U+1)}g[v.previousIndex]=N-S}}b!==I&&u(v,b,I)}}forEachPreviousItem(u){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachMovedItem(u){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}forEachIdentityChange(u){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)u(l)}diff(u){if(null==u&&(u=[]),!Yf(u))throw new Error(`Error trying to diff '${B(u)}'. Only arrays and iterables are allowed`);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(u)){this.length=u.length;for(let b=0;b<this.length;b++)g=u[b],v=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,b),d=!0),l=l._next}else f=0,function(a,u){if(Array.isArray(a))for(let l=0;l<a.length;l++)u(a[l]);else{const l=a[nu()]();let d;for(;!(d=l.next()).done;)u(d.value)}}(u,b=>{v=this._trackByFn(f,b),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,b,v,f)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,l,d,f){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._reinsertAfter(u,g,f)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._moveAfter(u,g,f)):u=this._addAfter(new Fn(l,d),g,f),u}_verifyReinsertion(u,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?u=this._reinsertAfter(g,u._prev,f):u.currentIndex!=f&&(u.currentIndex=f,this._addToMoves(u,f)),u}_truncate(u){for(;null!==u;){const l=u._next;this._addToRemovals(this._unlink(u)),u=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const f=u._prevRemoved,g=u._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(u,l,d),this._addToMoves(u,d),u}_moveAfter(u,l,d){return this._unlink(u),this._insertAfter(u,l,d),this._addToMoves(u,d),u}_addAfter(u,l,d){return this._insertAfter(u,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,l,d){const f=null===l?this._itHead:l._next;return u._next=f,u._prev=l,null===f?this._itTail=u:f._prev=u,null===l?this._itHead=u:l._next=u,null===this._linkedRecords&&(this._linkedRecords=new UI),this._linkedRecords.put(u),u.currentIndex=d,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const l=u._prev,d=u._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,u}_addToMoves(u,l){return u.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UI),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,l){return u.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class Fn{constructor(u,l){this.item=u,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,u))return d;return null}remove(u){const l=u._prevDup,d=u._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class UI{constructor(){this.map=new Map}put(u){const l=u.trackById;let d=this.map.get(l);d||(d=new VI,this.map.set(l,d)),d.add(u)}get(u,l){const f=this.map.get(u);return f?f.get(u,l):null}remove(u){const l=u.trackById;return this.map.get(l).remove(u)&&this.map.delete(l),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Li(a,u,l){const d=a.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+u+f}class BI{constructor(){}supports(u){return u instanceof Map||Wm(u)}create(){return new I0}}class I0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let l;for(l=this._mapHead;null!==l;l=l._next)u(l)}forEachPreviousItem(u){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)u(l)}forEachChangedItem(u){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}diff(u){if(u){if(!(u instanceof Map||Wm(u)))throw new Error(`Error trying to diff '${B(u)}'. Only maps and objects are allowed`)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(u,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,l){if(u){const d=u._prev;return l._next=u,l._prev=d,u._prev=l,d&&(d._next=l),u===this._mapHead&&(this._mapHead=l),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(u,l){if(this._records.has(u)){const f=this._records.get(u);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new EN(u);return this._records.set(u,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,l){Object.is(l,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=l,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,l){u instanceof Map?u.forEach(l):Object.keys(u).forEach(d=>l(u[d],d))}}class EN{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T0(){return new $y([new b0])}let $y=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||T0()),deps:[[a,new Es,new vs]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(a){return a.name||typeof a}(l)}'`)}}return a.\u0275prov=mn({token:a,providedIn:"root",factory:T0}),a})();function jI(){return new Hl([new BI])}let Hl=(()=>{class a{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new a(l)}static extend(l){return{provide:a,useFactory:d=>a.create(l,d||jI()),deps:[[a,new Es,new vs]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return a.\u0275prov=mn({token:a,providedIn:"root",factory:jI}),a})();function fu(a,u,l,d,f=!1){for(;null!==l;){const g=u[l.index];if(null!==g&&d.push(dn(g)),Nn(g))for(let b=10;b<g.length;b++){const I=g[b],S=I[1].firstChild;null!==S&&fu(I[1],I,S,d)}const v=l.type;if(8&v)fu(a,u,l.child,d);else if(32&v){const b=Mv(l,u);let I;for(;I=b();)d.push(I)}else if(16&v){const b=vm(u,l);if(Array.isArray(b))d.push(...b);else{const I=It(u[16]);fu(I[1],I,b,d,!0)}}l=f?l.projectionNext:l.next}return d}class la{constructor(u,l){this._lView=u,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,l=u[1];return fu(l,u,l.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Nn(u)){const l=u[8],d=l?l.indexOf(this):-1;d>-1&&(Fv(u,d),fs(l,d))}this._attachedToViewContainer=!1}Lv(this._lView[1],this._lView)}onDestroy(u){Zb(this._lView[1],this._lView,null,u)}markForCheck(){uE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,u,l){Ws(!0);try{cE(a,u,l)}finally{Ws(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var u;this._appRef=null,Of(this._lView[1],u=this._lView,u[11],2,null,null)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=u}}class Hy extends la{constructor(u){super(u),this._view=u}detectChanges(){wr(this._view)}checkNoChanges(){!function(a){Ws(!0);try{wr(a)}finally{Ws(!1)}}(this._view)}get context(){return null}}const HI=function(a){return function(a,u,l){if(Ec(a)&&!l){const d=gr(a.index,u);return new la(d,d)}return 47&a.type?new la(u[16],u):null}(On(),Se(),16==(16&a))};let bN=(()=>{class a{}return a.__NG_ELEMENT_ID__=HI,a})();const CN=[new BI],TN=new $y([new b0]),bp=new Hl(CN),cr=function(){return oh(On(),Se())};let Gl=(()=>{class a{}return a.__NG_ELEMENT_ID__=cr,a})();const WI=Gl,Cp=class extends WI{constructor(u,l,d){super(),this._declarationLView=u,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(u){const l=this._declarationTContainer.tViews,d=Ya(this._declarationLView,l,u,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),jf(l,d,u),new la(d)}};function oh(a,u){return 4&a.type?new Cp(u,a,ua(a,u)):null}class pu{}class ah{}const KI=function(){return S0(On(),Se())};let Gy=(()=>{class a{}return a.__NG_ELEMENT_ID__=KI,a})();const qy=Gy,D0=class extends qy{constructor(u,l,d){super(),this._lContainer=u,this._hostTNode=l,this._hostLView=d}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const u=Vo(this._hostTNode,this._hostLView);if(nf(u)){const l=Sa(u,this._hostLView),d=sl(u);return new Ra(l[1].data[d+8],l)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const l=YI(this._lContainer);return null!==l&&l[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,l,d){const f=u.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(u,l,d,f,g){const v=d||this.parentInjector;if(!g&&null==u.ngModule&&v){const I=v.get(pu,null);I&&(g=I)}const b=u.create(v,f,void 0,g);return this.insert(b.hostView,l),b}insert(u,l){const d=u._lView,f=d[1];if(Nn(d[3])){const N=this.indexOf(u);if(-1!==N)this.detach(N);else{const M=d[3],k=new D0(M,M[6],M[3]);k.detach(k.indexOf(u))}}const g=this._adjustIndex(l),v=this._lContainer;!function(a,u,l,d){const f=10+d,g=l.length;d>0&&(l[f-1][4]=u),d<g-10?(u[4]=l[f],mr(l,10+d,u)):(l.push(u),u[4]=null),u[3]=l;const v=u[17];null!==v&&l!==v&&function(a,u){const l=a[9];u[16]!==u[3][3][16]&&(a[2]=!0),null===l?a[9]=[u]:l.push(u)}(v,u);const b=u[19];null!==b&&b.insertView(a),u[2]|=128}(f,d,v,g);const b=vd(g,v),I=d[11],S=ym(I,v[7]);return null!==S&&function(a,u,l,d,f,g){d[0]=f,d[6]=u,Of(a,d,l,1,f,g)}(f,v[6],I,d,S,b),u.attachToViewContainerRef(),mr(zy(v),g,u),u}move(u,l){return this.insert(u,l)}indexOf(u){const l=YI(this._lContainer);return null!==l?l.indexOf(u):-1}remove(u){const l=this._adjustIndex(u,-1),d=Fv(this._lContainer,l);d&&(fs(zy(this._lContainer),l),Lv(d[1],d))}detach(u){const l=this._adjustIndex(u,-1),d=Fv(this._lContainer,l);return d&&null!=fs(zy(this._lContainer),l)?new la(d):null}_adjustIndex(u,l=0){return null==u?this.length+l:u}};function YI(a){return a[8]}function zy(a){return a[8]||(a[8]=[])}function S0(a,u){let l;const d=u[a.index];if(Nn(d))l=d;else{let f;if(8&a.type)f=dn(d);else{const g=u[11];f=g.createComment("");const v=zr(a,u);Tt(g,ym(g,v),f,function(a,u){return cn(a)?a.nextSibling(u):u.nextSibling}(g,v),!1)}u[a.index]=l=iC(d,u,f,a),Fm(u,l)}return new D0(l,a,u)}const Xl={};class Lp extends Ds{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const l=Zn(u);return new vT(l,this.ngModule)}}function B0(a){const u=[];for(let l in a)a.hasOwnProperty(l)&&u.push({propName:a[l],templateName:l});return u}const HN=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Yo});class vT extends hu{constructor(u,l){super(),this.componentDef=u,this.ngModule=l,this.componentType=u.type,this.selector=u.selectors.map(Wv).join(","),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return B0(this.componentDef.inputs)}get outputs(){return B0(this.componentDef.outputs)}create(u,l,d,f){const g=(f=f||this.ngModule)?function(a,u){return{get:(l,d,f)=>{const g=a.get(l,Xl,f);return g!==Xl||d===Xl?g:u.get(l,d,f)}}}(u,f.injector):u,v=g.get(As,Rc),b=g.get(kn,null),I=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=d?function(a,u,l){if(cn(a))return a.selectRootElement(u,l===tn.ShadowDom);let d="string"==typeof u?a.querySelector(u):u;return d.textContent="",d}(I,d,this.componentDef.encapsulation):mm(v.createRenderer(null,this.componentDef),S,function(a){const u=a.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(S)),M=this.componentDef.onPush?576:528,k=function(a,u){return{components:[],scheduler:a||Yo,clean:Nd,playerHandler:u||null,flags:0}}(),U=Om(0,null,null,1,0,null,null,null,null,null),W=Ya(null,U,k,M,null,null,v,I,b,g);let ue,X;nl(W);try{const Oe=function(a,u,l,d,f,g){const v=l[1];l[20]=a;const I=Tl(v,20,2,"#host",null),S=I.mergedAttrs=u.hostAttrs;null!==S&&(Gf(I,S,!0),null!==a&&(Js(f,a,S),null!==I.classes&&Hv(f,a,I.classes),null!==I.styles&&Rb(f,a,I.styles)));const N=d.createRenderer(a,u),M=Ya(l,qb(u),null,u.onPush?64:16,l[20],I,d,N,g||null,null);return v.firstCreatePass&&(Hc(dt(I,l),v,u.type),iE(v,I),nC(I,l.length,1)),Fm(l,M),l[20]=M}(N,this.componentDef,W,v,I);if(N)if(d)Js(I,N,["ng-version",jy.full]);else{const{attrs:Ce,classes:Xe}=function(a){const u=[],l=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&u.push(g,a[++d]):8===f&&l.push(g);else{if(!Ji(f))break;f=g}d++}return{attrs:u,classes:l}}(this.componentDef.selectors[0]);Ce&&Js(I,N,Ce),Xe&&Xe.length>0&&Hv(I,N,Xe.join(" "))}if(X=Hs(U,20),void 0!==l){const Ce=X.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const ut=l[Xe];Ce.push(null!=ut?Array.from(ut):null)}}ue=function(a,u,l,d,f){const g=l[1],v=function(a,u,l){const d=On();a.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),rC(a,d,u,Dd(a,u,1,null),l));const f=di(u,a,d.directiveStart,d);qt(f,u);const g=zr(d,u);return g&&qt(g,u),f}(g,l,u);if(d.components.push(v),a[8]=v,f&&f.forEach(I=>I(v,u)),u.contentQueries){const I=On();u.contentQueries(1,v,I.directiveStart)}const b=On();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Or(b.index),Qb(l[1],b,0,b.directiveStart,b.directiveEnd,u),aA(u,v)),v}(Oe,this.componentDef,W,k,[bC]),jf(U,W,null)}finally{Lg()}return new H0(this.componentType,ue,ua(X,W),W,X)}}class H0 extends class{}{constructor(u,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Hy(f),this.componentType=u}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}const Iu=new Map;class zN extends pu{constructor(u,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Lp(this);const d=$t(u),f=u[Sn]||null;f&&Rt(f),this._bootstrapComponents=Yi(d.bootstrap),this._r3Injector=hC(u,l,[{provide:pu,useValue:this},{provide:Ds,useValue:this.componentFactoryResolver}],B(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,l=Jt.THROW_IF_NOT_FOUND,d=Re.Default){return u===Jt||u===pu||u===Xi?this:this._r3Injector.get(u,l,d)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class G0 extends ah{constructor(u){super(),this.moduleType=u,null!==$t(u)&&function(a){const u=new Set;!function l(d){const f=$t(d,!0),g=f.id;null!==g&&(function(a,u,l){if(u&&u!==l)throw new Error(`Duplicate module registered for ${a} - ${B(u)} vs ${B(u.name)}`)}(g,Iu.get(g),d),Iu.set(g,d));const v=Yi(f.imports);for(const b of v)u.has(b)||(u.add(b),l(b))}(a)}(u)}create(u){return new zN(this.moduleType,u)}}function t_(a,u,l){const d=function(){const a=at.lFrame;let u=a.bindingRootIndex;return-1===u&&(u=a.bindingRootIndex=a.tView.bindingStartIndex),u}()+a,f=Se();return f[d]===ht?function(a,u,l){return a[u]=l}(f,d,l?u.call(l):u()):function(a,u){return a[u]}(f,d)}function ec(a){return u=>{setTimeout(a,void 0,u)}}const ns=class extends y.xQ{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,l,d){var f,g,v;let b=u,I=l||(()=>null),S=d;if(u&&"object"==typeof u){const M=u;b=null===(f=M.next)||void 0===f?void 0:f.bind(M),I=null===(g=M.error)||void 0===g?void 0:g.bind(M),S=null===(v=M.complete)||void 0===v?void 0:v.bind(M)}this.__isAsync&&(I=ec(I),b&&(b=ec(b)),S&&(S=ec(S)));const N=super.subscribe({next:b,error:I,complete:S});return u instanceof le.w&&u.add(N),N}};function gh(){return this._results[nu()]()}class mh{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=nu(),d=mh.prototype;d[l]||(d[l]=gh)}get changes(){return this._changes||(this._changes=new ns)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,l){return this._results.reduce(u,l)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,l){const d=this;d.dirty=!1;const f=Pr(u);(this._changesDetected=!function(a,u,l){if(a.length!==u.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=u[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class o_{constructor(u){this.queryList=u,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hp{constructor(u=[]){this.queries=u}createEmbeddedView(u){const l=u.queries;if(null!==l){const d=null!==u.contentQueries?u.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Hp(f)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let l=0;l<this.queries.length;l++)null!==nw(u,l).matches&&this.queries[l].setDirty()}}class a_{constructor(u,l,d=null){this.predicate=u,this.flags=l,this.read=d}}class bo{constructor(u=[]){this.queries=u}elementStart(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(u,l)}elementEnd(u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(u)}embeddedTView(u){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(u,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new bo(l):null}template(u,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(u,l)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class u_{constructor(u,l=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(u,l){this.isApplyingToNode(l)&&this.matchTNode(u,l)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,l){this.elementStart(u,l)}embeddedTView(u,l){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,l),new u_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=u.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(u,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(u,l,YN(l,g)),this.matchTNodeWithReadOption(u,l,ds(l,u,g,!1,!1))}else d===Gl?4&l.type&&this.matchTNodeWithReadOption(u,l,-1):this.matchTNodeWithReadOption(u,l,ds(l,u,d,!1,!1))}matchTNodeWithReadOption(u,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Ss||f===Gy||f===Gl&&4&l.type)this.addMatch(l.index,-2);else{const g=ds(l,u,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(u,l){null===this.matches?this.matches=[u,l]:this.matches.push(u,l)}}function YN(a,u){const l=a.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===u)return l[d+1];return null}function QN(a,u,l,d){return-1===l?function(a,u){return 11&a.type?ua(a,u):4&a.type?oh(a,u):null}(u,a):-2===l?function(a,u,l){return l===Ss?ua(u,a):l===Gl?oh(u,a):l===Gy?S0(u,a):void 0}(a,u,d):di(a,a[1],l,u)}function xT(a,u,l,d){const f=u[19].queries[d];if(null===f.matches){const g=a.data,v=l.matches,b=[];for(let I=0;I<v.length;I+=2){const S=v[I];b.push(S<0?null:QN(u,g[S],v[I+1],l.metadata.read))}f.matches=b}return f.matches}function Gp(a,u,l,d){const f=a.queries.getByIndex(l),g=f.matches;if(null!==g){const v=xT(a,u,f,l);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)d.push(v[b/2]);else{const S=g[b+1],N=u[-I];for(let M=10;M<N.length;M++){const k=N[M];k[17]===k[3]&&Gp(k[1],k,S,d)}if(null!==N[9]){const M=N[9];for(let k=0;k<M.length;k++){const U=M[k];Gp(U[1],U,S,d)}}}}}return d}function qp(a){const u=Se(),l=At(),d=Pg();kg(d+1);const f=nw(l,d);if(a.dirty&&Ju(u)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Gp(l,u,d,[]):xT(l,u,f,d);a.reset(g,E0),a.notifyOnChanges()}return!0}return!1}function ew(a,u,l,d){const f=At();if(f.firstCreatePass){const g=On();(function(a,u,l){null===a.queries&&(a.queries=new bo),a.queries.track(new u_(u,l))})(f,new a_(u,l,d),g.index),function(a,u){const l=a.contentQueries||(a.contentQueries=[]);u!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,u)}(f,a),2==(2&l)&&(f.staticContentQueries=!0)}!function(a,u,l){const d=new mh(4==(4&l));Zb(a,u,d,d.destroy),null===u[19]&&(u[19]=new Hp),u[19].queries.push(new o_(d))}(f,Se(),l)}function tc(){return a=Se(),u=Pg(),a[19].queries[u].queryList;var a,u}function nw(a,u){return a.queries.getByIndex(u)}const Kp=new wn("Application Initializer");let vh=(()=>{class a{constructor(l){this.appInits=l,this.resolve=Rn,this.reject=Rn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(na(g))l.push(g);else if(zE(g)){const v=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)(bn(Kp,8))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const m_=new wn("AppId"),bw={provide:m_,useFactory:function(){return`${Cw()}${Cw()}${Cw()}`},deps:[]};function Cw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new wn("Platform Initializer"),Tw=new wn("Platform ID"),iD=new wn("appBootstrapListener");let Dw=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const ic=new wn("LocaleId"),oD=new wn("DefaultCurrencyCode");class Sw{constructor(u,l){this.ngModuleFactory=u,this.componentFactories=l}}const Eh=function(a){return new G0(a)},Aw=Eh,hD=function(a){return Promise.resolve(Eh(a))},sc=function(a){const u=Eh(a),d=Yi($t(a).declarations).reduce((f,g)=>{const v=Zn(g);return v&&f.push(new vT(v)),f},[]);return new Sw(u,d)},Nw=sc,cR=function(a){return Promise.resolve(sc(a))};let wh=(()=>{class a{constructor(){this.compileModuleSync=Aw,this.compileModuleAsync=hD,this.compileModuleAndAllComponentsSync=Nw,this.compileModuleAndAllComponentsAsync=cR}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();const hR=(()=>Promise.resolve(0))();function Rw(a){"undefined"==typeof Zone?hR.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ui{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ns(!1),this.onMicrotaskEmpty=new ns(!1),this.onStable=new ns(!1),this.onError=new ns(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let a=V.requestAnimationFrame,u=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&u){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function(a){const u=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(V,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,y_(a),a.isCheckStableRunning=!0,Au(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),y_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,b)=>{try{return Mw(a),l.invokeTask(f,g,v,b)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&u(),Ow(a)}},onInvoke:(l,d,f,g,v,b,I)=>{try{return Mw(a),l.invoke(f,g,v,b,I)}finally{a.shouldCoalesceRunChangeDetection&&u(),Ow(a)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,y_(a),Au(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,l,d){return this._inner.run(u,l,d)}runTask(u,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,u,pR,Rn,Rn);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(u,l,d){return this._inner.runGuarded(u,l,d)}runOutsideAngular(u){return this._outer.run(u)}}const pR={};function Au(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function y_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Mw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Ow(a){a._nesting--,Au(a)}class __{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ns,this.onMicrotaskEmpty=new ns,this.onStable=new ns,this.onError=new ns}run(u,l,d){return u.apply(l,d)}runGuarded(u,l,d){return u.apply(l,d)}runOutsideAngular(u){return u()}runTask(u,l,d,f){return u.apply(l,d)}}let jt=(()=>{class a{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ui.assertNotInAngularZone(),Rw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return a.\u0275fac=function(l){return new(l||a)(bn(Ui))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})(),Pw=(()=>{class a{constructor(){this._applications=new Map,kw.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return kw.findTestabilityInTree(this,l,d)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();class mD{addToWindow(u){}findTestabilityInTree(u,l,d){return null}}function Qp(a){kw=a}let kw=new mD,gn=!0,Ar=!1;function rs(){return Ar=!0,gn}function yD(){if(Ar)throw new Error("Cannot enable prod mode after platform setup.");gn=!1}let xs;const _R=new wn("AllowMultipleToken");class tr{constructor(u,l){this.name=u,this.token=l}}function ED(a,u,l=[]){const d=`Platform: ${u}`,f=new wn(d);return(g=[])=>{let v=wD();if(!v||v.injector.get(_R,!1))if(a)a(l.concat(g).concat({provide:f,useValue:!0}));else{const b=l.concat(g).concat({provide:f,useValue:!0},{provide:qf,useValue:"platform"});!function(a){if(xs&&!xs.destroyed&&!xs.injector.get(_R,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xs=a.get(bD);const u=a.get(Iw,null);u&&u.forEach(l=>l())}(Jt.create({providers:b,name:d}))}return function(a){const u=wD();if(!u)throw new Error("No platform exists!");if(!u.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return u}(f)}}function wD(){return xs&&!xs.destroyed?xs:null}let bD=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const b=function(a,u){let l;return l="noop"===a?new __:("zone.js"===a?void 0:a)||new Ui({enableLongStackTrace:rs(),shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),I=[{provide:Ui,useValue:b}];return b.run(()=>{const S=Jt.create({providers:I,parent:this.injector,name:l.moduleType.name}),N=l.create(S),M=N.injector.get(Fe,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const k=b.onError.subscribe({next:U=>{M.handleError(U)}});N.onDestroy(()=>{Lw(this._modules,N),k.unsubscribe()})}),function(a,u,l){try{const d=l();return na(d)?d.catch(f=>{throw u.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw u.runOutsideAngular(()=>a.handleError(d)),d}}(M,b,()=>{const k=N.injector.get(vh);return k.runInitializers(),k.donePromise.then(()=>(Rt(N.injector.get(ic,Ty)||Ty),this._moduleDoBootstrap(N),N))})})}bootstrapModule(l,d=[]){const f=CR({},d);return function(a,u,l){const d=new G0(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(Jp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${B(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)(bn(Jt))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function CR(a,u){return Array.isArray(u)?u.reduce(CR,a):Object.assign(Object.assign({},a),u)}let Jp=(()=>{class a{constructor(l,d,f,g,v){this._zone=l,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),I=new H.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Ui.assertNotInAngularZone(),Rw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(b,I.pipe(a=>(0,ye.x)()(function(a,u){return function(d){let f;f="function"==typeof a?a:function(){return a};const g=Object.create(d,Ee.N);return g.source=d,g.subjectFactory=f,g}}(Y)(a))))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=l instanceof hu?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(f.componentType);const g=function(a){return a.isBoundToModule}(f)?void 0:this._injector.get(pu),b=f.create(Jt.NULL,[],d||f.selector,g),I=b.location.nativeElement,S=b.injector.get(jt,null),N=S&&b.injector.get(Pw);return S&&N&&N.registerApplication(I,S),b.onDestroy(()=>{this.detachView(b.hostView),Lw(this.components,b),N&&N.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Lw(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(iD,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(l){return new(l||a)(bn(Ui),bn(Jt),bn(Fe),bn(Ds),bn(vh))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function Lw(a,u){const l=a.indexOf(u);l>-1&&a.splice(l,1)}class TM{}class DD{}const E_={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let IR=(()=>{class a{constructor(l,d){this._compiler=l,this._config=d||E_}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,f]=l.split("#");return void 0===f&&(f="default"),F(8255)(d).then(g=>g[f]).then(g=>Nu(g,d,f)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[d,f]=l.split("#"),g="NgFactory";return void 0===f&&(f="default",g=""),F(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(v=>v[f+g]).then(v=>Nu(v,d,f))}}return a.\u0275fac=function(l){return new(l||a)(bn(wh),bn(DD,8))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})();function Nu(a,u,l){if(!a)throw new Error(`Cannot find '${l}' in '${u}'`);return a}const xu=function(a){return null},TR=ED(null,"core",[{provide:Tw,useValue:"unknown"},{provide:bD,deps:[Jt]},{provide:Pw,deps:[]},{provide:Dw,deps:[]}]),MD=[{provide:Jp,useClass:Jp,deps:[Ui,Jt,Fe,Ds,vh]},{provide:HN,deps:[Ui],useFactory:function(a){let u=[];return a.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(l){u.push(l)}}},{provide:vh,useClass:vh,deps:[[new vs,Kp]]},{provide:wh,useClass:wh,deps:[]},bw,{provide:$y,useFactory:function(){return TN},deps:[]},{provide:Hl,useFactory:function(){return bp},deps:[]},{provide:ic,useFactory:function(a){return Rt(a=a||"undefined"!=typeof $localize&&$localize.locale||Ty),a},deps:[[new qo(ic),new vs,new Es]]},{provide:oD,useValue:"USD"}];let RR=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)(bn(Jp))},a.\u0275mod=as({type:a}),a.\u0275inj=ss({providers:MD}),a})()},8939:(We,De,F)=>{"use strict";F.d(De,{hO:()=>B,xv:()=>Y,Dh:()=>ye,GT:()=>ae,on:()=>L,pX:()=>Ee});var y=F(3018),le=F(7841),H=F(9126);We=F.hmd(We);const se=["ngOnDestroy"],Ee=(Z,fe,ie,ne={})=>new Proxy(Z,{get:(Pe,Ne)=>ie.runOutsideAngular(()=>{var Me;if(Z[Ne])return(null===(Me=null==ne?void 0:ne.spy)||void 0===Me?void 0:Me.get)&&ne.spy.get(Ne,Z[Ne]),Z[Ne];if(se.indexOf(Ne)>-1)return()=>{};const Le=fe.toPromise().then(Be=>{const Ue=Be&&Be[Ne];return"function"==typeof Ue?Ue.bind(Be):Ue&&Ue.then?Ue.then(pe=>ie.run(()=>pe)):ie.run(()=>Ue)});return new Proxy(()=>{},{get:(Be,Ue)=>Le[Ue],apply:(Be,Ue,pe)=>Le.then(Lt=>{var gt;const de=Lt&&Lt(...pe);return(null===(gt=null==ne?void 0:ne.spy)||void 0===gt?void 0:gt.apply)&&ne.spy.apply(Ne,pe,de),de})})})}),ae=(Z,fe)=>{fe.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(ne=>{Object.defineProperty(Z.prototype,ne,Object.getOwnPropertyDescriptor(ie.prototype||ie,ne))})})};class we{constructor(fe){return fe}}const ye=new y.OlP("angularfire2.app.options"),Y=new y.OlP("angularfire2.app.name");function L(Z,fe,ie){const Pe="object"==typeof ie&&ie||{};Pe.name=Pe.name||"string"==typeof ie&&ie||"[DEFAULT]";const Me=le.Z.apps.filter(Le=>Le&&Le.name===Pe.name)[0]||fe.runOutsideAngular(()=>le.Z.initializeApp(Z,Pe));try{JSON.stringify(Z)!==JSON.stringify(Me.options)&&$("error",`${Me.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Le){}return new we(Me)}const $=(Z,...fe)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[Z](...fe)},q={provide:we,useFactory:L,deps:[ye,y.R0b,[new y.FiY,Y]]};let B=(()=>{class Z{constructor(ie){le.Z.registerVersion("angularfire",H.q4.full,"core"),le.Z.registerVersion("angularfire",H.q4.full,"app-compat"),le.Z.registerVersion("angular",y.q4F.full,ie.toString())}static initializeApp(ie,ne){return{ngModule:Z,providers:[{provide:ye,useValue:ie},{provide:Y,useValue:ne}]}}}return Z.\u0275fac=function(ie){return new(ie||Z)(y.LFG(y.Lbi))},Z.\u0275mod=y.oAB({type:Z}),Z.\u0275inj=y.cJS({providers:[q]}),Z})()},9126:(We,De,F)=>{"use strict";F.d(De,{q4:()=>L,iC:()=>de,f6:()=>gt,HU:()=>Le,cc:()=>B});var y=F(3018);(0,F(5452).registerVersion)("firebase","9.0.1","app");var Ee=F(7771),ae=F(3637),we=F(3342),ye=F(309),Y=F(3101);We=F.hmd(We);const L=new y.GfV("7.0.3"),$=!!We.hot,q=(he,...J)=>{(0,y.X6Q)()&&"undefined"!=typeof console&&console[he](...J)};function B(he,J,ke,Qe,Nt){const[,Je,wt]=globalThis.\u0275AngularfireInstanceCache.find(en=>en[0]===he)||[];if(Je)return function(he,J){try{return he.toString()===J.toString()}catch(ke){return he===J}}(Nt,wt)||(q("error",`${J} was already initialized on the ${ke} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:Nt,was:wt})),Je;{const en=Qe();return globalThis.\u0275AngularfireInstanceCache.push([he,en,Nt]),en}}function Pe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ne{constructor(J,ke=Ee.N){this.zone=J,this.delegate=ke}now(){return this.delegate.now()}schedule(J,ke,Qe){const Nt=this.zone;return this.delegate.schedule(function(wt){Nt.runGuarded(()=>{J.apply(this,[wt])})},ke,Qe)}}class Me{constructor(J){this.zone=J,this.task=null}call(J,ke){const Qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pe,{},Pe,Pe)),ke.pipe((0,we.b)({next:Qe,complete:Qe,error:Qe})).subscribe(J).add(Qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class he{constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=ke.run(()=>new Ne(Zone.current,ae.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return he.\u0275fac=function(ke){return new(ke||he)(y.LFG(y.R0b))},he.\u0275prov=y.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function Be(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("AngularFireModule has not been provided");return he}function gt(he){return he.pipe((0,ye.QV)(Be().insideAngular))}function de(he){return Be(),function(he){return function(ke){return(ke=ke.lift(new Me(he.ngZone))).pipe((0,Y.R)(he.outsideAngular),(0,ye.QV)(he.insideAngular))}}(Be())(he)}},4486:(We,De,F)=>{"use strict";F.d(De,{Z:()=>ie});var y=F(4685),le=F(6034),H=F(5452),se=F(300);class Ee{constructor(Pe,Ne){this._delegate=Pe,this.firebase=Ne,(0,H._addComponent)(Pe,new le.wA("app-compat",()=>this,"PUBLIC")),this.container=Pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this._delegate.automaticDataCollectionEnabled=Pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Pe=>{this._delegate.checkDestroyed(),Pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Pe,Ne=H._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Pe);return!Le.isInitialized()&&"EXPLICIT"===(null===(Me=Le.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ne})}_removeServiceInstance(Pe,Ne=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Pe).clearInstance(Ne)}_addComponent(Pe){(0,H._addComponent)(this._delegate,Pe)}_addOrOverwriteComponent(Pe){(0,H._addOrOverwriteComponent)(this._delegate,Pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function Y(){const ne=function(ne){const Pe={},Ne={__esModule:!0,initializeApp:function(gt,de={}){const oe=H.initializeApp(gt,de);if((0,y.r3)(Pe,oe.name))return Pe[oe.name];const ge=new ne(oe,Ne);return Pe[oe.name]=ge,ge},app:Le,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(gt){const de=gt.name,oe=de.replace("-compat","");if(H._registerComponent(gt)&&"PUBLIC"===gt.type){const ge=(_e=Le())=>{if("function"!=typeof _e[oe])throw we.create("invalid-app-argument",{appName:de});return _e[oe]()};void 0!==gt.serviceProps&&(0,y.ZB)(ge,gt.serviceProps),Ne[oe]=ge,ne.prototype[oe]=function(..._e){return this._getService.bind(this,de).apply(this,gt.multipleInstances?_e:[])}}return"PUBLIC"===gt.type?Ne[oe]:null},removeApp:function(gt){delete Pe[gt]},useAsService:function(gt,de){return"serverAuth"===de?null:de},modularAPIs:H}};function Le(gt){if(!(0,y.r3)(Pe,gt=gt||H._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:gt});return Pe[gt]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function(){return Object.keys(Pe).map(gt=>Pe[gt])}}),Le.App=ne,Ne}(Ee);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Ne){(0,y.ZB)(ne,Ne)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),ne}(),$=new se.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fe=L;(0,H.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ie=fe},5452:(We,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>$u,_DEFAULT_ENTRY_NAME:()=>Nt,_addComponent:()=>xn,_addOrOverwriteComponent:()=>Hi,_apps:()=>wt,_clearComponents:()=>fr,_components:()=>en,_getProvider:()=>Dt,_registerComponent:()=>nn,_removeServiceInstance:()=>Pt,deleteApp:()=>ya,getApp:()=>rr,getApps:()=>Do,initializeApp:()=>ss,onLog:()=>jn,registerVersion:()=>os,setLogLevel:()=>Ci});var y=F(8239),le=F(6034),H=F(300),se=F(4685);class Ee{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function(bt){const Re=bt.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(Ht)){const rn=Ht.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Ht=>Ht).join(" ")}}const we="@firebase/app",Y=new H.Yd("@firebase/app"),Nt="[DEFAULT]",Je={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,en=new Map;function xn(bt,Re){try{bt.container.addComponent(Re)}catch(Ht){Y.debug(`Component ${Re.name} failed to register with FirebaseApp ${bt.name}`,Ht)}}function Hi(bt,Re){bt.container.addOrOverwriteComponent(Re)}function nn(bt){const Re=bt.name;if(en.has(Re))return Y.debug(`There were multiple attempts to register component ${Re}.`),!1;en.set(Re,bt);for(const Ht of wt.values())xn(Ht,bt);return!0}function Dt(bt,Re){return bt.container.getProvider(Re)}function Pt(bt,Re,Ht=Nt){Dt(bt,Re).clearInstance(Ht)}function fr(){en.clear()}const Nr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(Re,Ht,rn){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const $u="9.0.0";function ss(bt,Re={}){"object"!=typeof Re&&(Re={name:Re});const Ht=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},Re),rn=Ht.name;if("string"!=typeof rn||!rn)throw Nr.create("bad-app-name",{appName:String(rn)});const un=wt.get(rn);if(un){if((0,se.vZ)(bt,un.options)&&(0,se.vZ)(Ht,un.config))return un;throw Nr.create("duplicate-app",{appName:rn})}const Zt=new le.H0(rn);for(const qe of en.values())Zt.addComponent(qe);const He=new mn(bt,Ht,Zt);return wt.set(rn,He),He}function rr(bt=Nt){const Re=wt.get(bt);if(!Re)throw Nr.create("no-app",{appName:bt});return Re}function Do(){return Array.from(wt.values())}function ya(bt){return So.apply(this,arguments)}function So(){return(So=(0,y.Z)(function*(bt){const Re=bt.name;wt.has(Re)&&(wt.delete(Re),yield Promise.all(bt.container.getProviders().map(Ht=>Ht.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function os(bt,Re,Ht){var rn;let un=null!==(rn=Je[bt])&&void 0!==rn?rn:bt;Ht&&(un+=`-${Ht}`);const Zt=un.match(/\s|\//),He=Re.match(/\s|\//);if(Zt||He){const qe=[`Unable to register library "${un}" with version "${Re}":`];return Zt&&qe.push(`library name "${un}" contains illegal characters (whitespace or "/")`),Zt&&He&&qe.push("and"),He&&qe.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void Y.warn(qe.join(" "))}nn(new le.wA(`${un}-version`,()=>({library:un,version:Re}),"VERSION"))}function jn(bt,Re){if(null!==bt&&"function"!=typeof bt)throw Nr.create("invalid-log-argument");(0,H.Am)(bt,Re)}function Ci(bt){(0,H.Ub)(bt)}nn(new le.wA("platform-logger",Re=>new Ee(Re),"PRIVATE")),os(we,"0.7.0",undefined),os("fire-js","")},6034:(We,De,F)=>{"use strict";F.d(De,{wA:()=>H,H0:()=>ye});var y=F(4762),le=F(4685),H=function(){function Y(L,$,q){this.name=L,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},Y.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},Y.prototype.setServiceProps=function(L){return this.serviceProps=L,this},Y.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},Y}(),se="[DEFAULT]",Ee=function(){function Y(L,$){this.name=L,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(L){var $=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has($)){var q=new le.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{var B=this.getOrInitializeService({instanceIdentifier:$});B&&q.resolve(B)}catch(Z){}}return this.instancesDeferred.get($).promise},Y.prototype.getImmediate=function(L){var $,q=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),B=null!==($=null==L?void 0:L.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(B)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Z){if(B)return null;throw Z}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(L){var $,q;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:se})}catch(Me){}try{for(var B=(0,y.XA)(this.instancesDeferred.entries()),Z=B.next();!Z.done;Z=B.next()){var fe=(0,y.CR)(Z.value,2),ne=fe[1],Pe=this.normalizeInstanceIdentifier(fe[0]);try{var Ne=this.getOrInitializeService({instanceIdentifier:Pe});ne.resolve(Ne)}catch(Me){}}}catch(Me){$={error:Me}}finally{try{Z&&!Z.done&&(q=B.return)&&q.call(B)}finally{if($)throw $.error}}}},Y.prototype.clearInstance=function(L){void 0===L&&(L=se),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},Y.prototype.delete=function(){return(0,y.mG)(this,void 0,void 0,function(){var L;return(0,y.Jh)(this,function($){switch($.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,y.ev)((0,y.ev)([],(0,y.CR)(L.filter(function(q){return"INTERNAL"in q}).map(function(q){return q.INTERNAL.delete()}))),(0,y.CR)(L.filter(function(q){return"_delete"in q}).map(function(q){return q._delete()}))))];case 1:return $.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(L){return void 0===L&&(L=se),this.instances.has(L)},Y.prototype.getOptions=function(L){return void 0===L&&(L=se),this.instancesOptions.get(L)||{}},Y.prototype.initialize=function(L){var $,q;void 0===L&&(L={});var B=L.options,Z=void 0===B?{}:B,fe=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(fe))throw Error(this.name+"("+fe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ie=this.getOrInitializeService({instanceIdentifier:fe,options:Z});try{for(var ne=(0,y.XA)(this.instancesDeferred.entries()),Pe=ne.next();!Pe.done;Pe=ne.next()){var Ne=(0,y.CR)(Pe.value,2),Le=Ne[1];fe===this.normalizeInstanceIdentifier(Ne[0])&&Le.resolve(ie)}}catch(Ue){$={error:Ue}}finally{try{Pe&&!Pe.done&&(q=ne.return)&&q.call(ne)}finally{if($)throw $.error}}return ie},Y.prototype.onInit=function(L,$){var q,B=this.normalizeInstanceIdentifier($),Z=null!==(q=this.onInitCallbacks.get(B))&&void 0!==q?q:new Set;Z.add(L),this.onInitCallbacks.set(B,Z);var fe=this.instances.get(B);return fe&&L(fe,B),function(){Z.delete(L)}},Y.prototype.invokeOnInitCallbacks=function(L,$){var q,B,Z=this.onInitCallbacks.get($);if(Z)try{for(var fe=(0,y.XA)(Z),ie=fe.next();!ie.done;ie=fe.next()){var ne=ie.value;try{ne(L,$)}catch(Pe){}}}catch(Pe){q={error:Pe}}finally{try{ie&&!ie.done&&(B=fe.return)&&B.call(fe)}finally{if(q)throw q.error}}},Y.prototype.getOrInitializeService=function(L){var $=L.instanceIdentifier,q=L.options,B=void 0===q?{}:q,Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:ae($),options:B}),this.instances.set($,Z),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch(fe){}return Z||null},Y.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=se),this.component?this.component.multipleInstances?L:se:L},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function ae(Y){return Y===se?void 0:Y}var ye=function(){function Y(L){this.name=L,this.providers=new Map}return Y.prototype.addComponent=function(L){var $=this.getProvider(L.name);if($.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);$.setComponent(L)},Y.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},Y.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var $=new Ee(L,this);return this.providers.set(L,$),$},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},300:(We,De,F)=>{"use strict";function y(){for(var q=0,B=0,Z=arguments.length;B<Z;B++)q+=arguments[B].length;var fe=Array(q),ie=0;for(B=0;B<Z;B++)for(var ne=arguments[B],Pe=0,Ne=ne.length;Pe<Ne;Pe++,ie++)fe[ie]=ne[Pe];return fe}F.d(De,{in:()=>se,Yd:()=>Y,Ub:()=>L,Am:()=>$});var le,H=[],se=(()=>{return(q=se||(se={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",se;var q})(),Ee={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ae=se.INFO,we=((le={})[se.DEBUG]="log",le[se.VERBOSE]="log",le[se.INFO]="info",le[se.WARN]="warn",le[se.ERROR]="error",le),ye=function(q,B){for(var Z=[],fe=2;fe<arguments.length;fe++)Z[fe-2]=arguments[fe];if(!(B<q.logLevel)){var ie=(new Date).toISOString(),ne=we[B];if(!ne)throw new Error("Attempted to log a message with an invalid logType (value: "+B+")");console[ne].apply(console,y(["["+ie+"]  "+q.name+":"],Z))}},Y=function(){function q(B){this.name=B,this._logLevel=ae,this._logHandler=ye,this._userLogHandler=null,H.push(this)}return Object.defineProperty(q.prototype,"logLevel",{get:function(){return this._logLevel},set:function(B){if(!(B in se))throw new TypeError('Invalid value "'+B+'" assigned to `logLevel`');this._logLevel=B},enumerable:!1,configurable:!0}),q.prototype.setLogLevel=function(B){this._logLevel="string"==typeof B?Ee[B]:B},Object.defineProperty(q.prototype,"logHandler",{get:function(){return this._logHandler},set:function(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(B){this._userLogHandler=B},enumerable:!1,configurable:!0}),q.prototype.debug=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,y([this,se.DEBUG],B)),this._logHandler.apply(this,y([this,se.DEBUG],B))},q.prototype.log=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,y([this,se.VERBOSE],B)),this._logHandler.apply(this,y([this,se.VERBOSE],B))},q.prototype.info=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,y([this,se.INFO],B)),this._logHandler.apply(this,y([this,se.INFO],B))},q.prototype.warn=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,y([this,se.WARN],B)),this._logHandler.apply(this,y([this,se.WARN],B))},q.prototype.error=function(){for(var B=[],Z=0;Z<arguments.length;Z++)B[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,y([this,se.ERROR],B)),this._logHandler.apply(this,y([this,se.ERROR],B))},q}();function L(q){H.forEach(function(B){B.setLogLevel(q)})}function $(q,B){for(var Z=function(Pe){var Ne=null;B&&B.level&&(Ne=Ee[B.level]),Pe.userLogHandler=null===q?null:function(Me,Le){for(var Be=[],Ue=2;Ue<arguments.length;Ue++)Be[Ue-2]=arguments[Ue];var pe=Be.map(function(Lt){if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch(gt){return null}}).filter(function(Lt){return Lt}).join(" ");Le>=(null!=Ne?Ne:Me.logLevel)&&q({level:se[Le].toLowerCase(),message:pe,args:Be,type:Me.name})}},fe=0,ie=H;fe<ie.length;fe++)Z(ie[fe])}},4685:(We,De,F)=>{"use strict";F.d(De,{BH:()=>Z,LL:()=>ke,ZR:()=>J,tV:()=>L,r3:()=>Pt,Sg:()=>fe,ne:()=>So,vZ:()=>mn,ZB:()=>q,pd:()=>Do,m9:()=>ln,z$:()=>ie,jU:()=>Ne,ru:()=>Me,d:()=>Be,xb:()=>Fs,w1:()=>Ue,hl:()=>de,uI:()=>ne,UG:()=>Pe,b$:()=>Le,G6:()=>gt,Mn:()=>pe,xO:()=>ss,zd:()=>rr});var y=F(4762),Ee=function(z){for(var V=[],te=0,ce=0;ce<z.length;ce++){var Q=z.charCodeAt(ce);Q<128?V[te++]=Q:Q<2048?(V[te++]=Q>>6|192,V[te++]=63&Q|128):55296==(64512&Q)&&ce+1<z.length&&56320==(64512&z.charCodeAt(ce+1))?(Q=65536+((1023&Q)<<10)+(1023&z.charCodeAt(++ce)),V[te++]=Q>>18|240,V[te++]=Q>>12&63|128,V[te++]=Q>>6&63|128,V[te++]=63&Q|128):(V[te++]=Q>>12|224,V[te++]=Q>>6&63|128,V[te++]=63&Q|128)}return V},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(z,V){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var te=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[],Q=0;Q<z.length;Q+=3){var Te=z[Q],et=Q+1<z.length,Vt=et?z[Q+1]:0,xt=Q+2<z.length,St=xt?z[Q+2]:0,$n=(15&Vt)<<2|St>>6,Ls=63&St;xt||(Ls=64,et||($n=64)),ce.push(te[Te>>2],te[(3&Te)<<4|Vt>>4],te[$n],te[Ls])}return ce.join("")},encodeString:function(z,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(z):this.encodeByteArray(Ee(z),V)},decodeString:function(z,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(z):function(z){for(var V=[],te=0,ce=0;te<z.length;){var Q=z[te++];if(Q<128)V[ce++]=String.fromCharCode(Q);else if(Q>191&&Q<224){var Te=z[te++];V[ce++]=String.fromCharCode((31&Q)<<6|63&Te)}else if(Q>239&&Q<365){var xt=((7&Q)<<18|(63&(Te=z[te++]))<<12|(63&(et=z[te++]))<<6|63&z[te++])-65536;V[ce++]=String.fromCharCode(55296+(xt>>10)),V[ce++]=String.fromCharCode(56320+(1023&xt))}else{Te=z[te++];var et=z[te++];V[ce++]=String.fromCharCode((15&Q)<<12|(63&Te)<<6|63&et)}}return V.join("")}(this.decodeStringToByteArray(z,V))},decodeStringToByteArray:function(z,V){this.init_();for(var te=V?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[],Q=0;Q<z.length;){var Te=te[z.charAt(Q++)],Vt=Q<z.length?te[z.charAt(Q)]:0,St=++Q<z.length?te[z.charAt(Q)]:64,En=++Q<z.length?te[z.charAt(Q)]:64;if(++Q,null==Te||null==Vt||null==St||null==En)throw Error();ce.push(Te<<2|Vt>>4),64!==St&&(ce.push(Vt<<4&240|St>>2),64!==En&&ce.push(St<<6&192|En))}return ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},Y=function(z){return function(z){var V=Ee(z);return we.encodeByteArray(V,!0)}(z).replace(/\./g,"")},L=function(z){try{return we.decodeString(z,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function q(z,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return V}for(var ce in V)!V.hasOwnProperty(ce)||!B(ce)||(z[ce]=q(z[ce],V[ce]));return z}function B(z){return"__proto__"!==z}var Z=function(){function z(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(te,ce){V.resolve=te,V.reject=ce})}return z.prototype.wrapCallback=function(V){var te=this;return function(ce,Q){ce?te.reject(ce):te.resolve(Q),"function"==typeof V&&(te.promise.catch(function(){}),1===V.length?V(ce):V(ce,Q))}},z}();function fe(z,V){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ce=V||"demo-project",Q=z.iat||0,Te=z.sub||z.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var et=(0,y.pi)({iss:"https://securetoken.google.com/"+ce,aud:ce,iat:Q,exp:Q+3600,auth_time:Q,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(et)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function Pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function Me(){var z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return ie().indexOf("Electron/")>=0}function Ue(){var z=ie();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function pe(){return ie().indexOf("MSAppHost/")>=0}function gt(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"indexedDB"in self&&null!=indexedDB}var J=function(z){function V(te,ce,Q){var Te=z.call(this,ce)||this;return Te.code=te,Te.customData=Q,Te.name="FirebaseError",Object.setPrototypeOf(Te,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Te,ke.prototype.create),Te}return(0,y.ZT)(V,z),V}(Error),ke=function(){function z(V,te,ce){this.service=V,this.serviceName=te,this.errors=ce}return z.prototype.create=function(V){for(var te=[],ce=1;ce<arguments.length;ce++)te[ce-1]=arguments[ce];var Q=te[0]||{},Te=this.service+"/"+V,et=this.errors[V],Vt=et?Qe(et,Q):"Error",xt=this.serviceName+": "+Vt+" ("+Te+").",St=new J(Te,xt,Q);return St},z}();function Qe(z,V){return z.replace(Nt,function(te,ce){var Q=V[ce];return null!=Q?String(Q):"<"+ce+"?>"})}var Nt=/\{\$([^}]+)}/g;function Pt(z,V){return Object.prototype.hasOwnProperty.call(z,V)}function Fs(z){for(var V in z)if(Object.prototype.hasOwnProperty.call(z,V))return!1;return!0}function mn(z,V){if(z===V)return!0;for(var te=Object.keys(z),ce=Object.keys(V),Q=0,Te=te;Q<Te.length;Q++){if(!ce.includes(et=Te[Q]))return!1;var Vt=z[et],xt=V[et];if($u(Vt)&&$u(xt)){if(!mn(Vt,xt))return!1}else if(Vt!==xt)return!1}for(var St=0,Sn=ce;St<Sn.length;St++){var et;if(!te.includes(et=Sn[St]))return!1}return!0}function $u(z){return null!==z&&"object"==typeof z}function ss(z){for(var V=[],te=function(xt,St){Array.isArray(St)?St.forEach(function(Sn){V.push(encodeURIComponent(xt)+"="+encodeURIComponent(Sn))}):V.push(encodeURIComponent(xt)+"="+encodeURIComponent(St))},ce=0,Q=Object.entries(z);ce<Q.length;ce++){var Te=Q[ce];te(Te[0],Te[1])}return V.length?"&"+V.join("&"):""}function rr(z){var V={};return z.replace(/^\?/,"").split("&").forEach(function(ce){if(ce){var Q=ce.split("="),et=Q[1];V[decodeURIComponent(Q[0])]=decodeURIComponent(et)}}),V}function Do(z){var V=z.indexOf("?");if(!V)return"";var te=z.indexOf("#",V);return z.substring(V,te>0?te:void 0)}function So(z,V){var te=new os(z,V);return te.subscribe.bind(te)}!function(){function z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},z.prototype.compress_=function(V,te){te||(te=0);var ce=this.W_;if("string"==typeof V)for(var Q=0;Q<16;Q++)ce[Q]=V.charCodeAt(te)<<24|V.charCodeAt(te+1)<<16|V.charCodeAt(te+2)<<8|V.charCodeAt(te+3),te+=4;else for(Q=0;Q<16;Q++)ce[Q]=V[te]<<24|V[te+1]<<16|V[te+2]<<8|V[te+3],te+=4;for(Q=16;Q<80;Q++)ce[Q]=4294967295&((Te=ce[Q-3]^ce[Q-8]^ce[Q-14]^ce[Q-16])<<1|Te>>>31);var En,$n,et=this.chain_[0],Vt=this.chain_[1],xt=this.chain_[2],St=this.chain_[3],Sn=this.chain_[4];for(Q=0;Q<80;Q++){Q<40?Q<20?(En=St^Vt&(xt^St),$n=1518500249):(En=Vt^xt^St,$n=1859775393):Q<60?(En=Vt&xt|St&(Vt|xt),$n=2400959708):(En=Vt^xt^St,$n=3395469782);var Te=(et<<5|et>>>27)+En+Sn+$n+ce[Q]&4294967295;Sn=St,St=xt,xt=4294967295&(Vt<<30|Vt>>>2),Vt=et,et=Te}this.chain_[0]=this.chain_[0]+et&4294967295,this.chain_[1]=this.chain_[1]+Vt&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+Sn&4294967295},z.prototype.update=function(V,te){if(null!=V){void 0===te&&(te=V.length);for(var ce=te-this.blockSize,Q=0,Te=this.buf_,et=this.inbuf_;Q<te;){if(0===et)for(;Q<=ce;)this.compress_(V,Q),Q+=this.blockSize;if("string"==typeof V){for(;Q<te;)if(Te[et]=V.charCodeAt(Q),++Q,++et===this.blockSize){this.compress_(Te),et=0;break}}else for(;Q<te;)if(Te[et]=V[Q],++Q,++et===this.blockSize){this.compress_(Te),et=0;break}}this.inbuf_=et,this.total_+=te}},z.prototype.digest=function(){var V=[],te=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&te,te/=256;this.compress_(this.buf_);var Q=0;for(ce=0;ce<5;ce++)for(var Te=24;Te>=0;Te-=8)V[Q]=this.chain_[ce]>>Te&255,++Q;return V}}();var os=function(){function z(V,te){var ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(function(){V(ce)}).catch(function(Q){ce.error(Q)})}return z.prototype.next=function(V){this.forEachObserver(function(te){te.next(V)})},z.prototype.error=function(V){this.forEachObserver(function(te){te.error(V)}),this.close(V)},z.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},z.prototype.subscribe=function(V,te,ce){var Te,Q=this;if(void 0===V&&void 0===te&&void 0===ce)throw new Error("Missing Observer.");void 0===(Te=function(z,V){if("object"!=typeof z||null===z)return!1;for(var te=0,ce=["next","error","complete"];te<ce.length;te++){var Q=ce[te];if(Q in z&&"function"==typeof z[Q])return!0}return!1}(V)?V:{next:V,error:te,complete:ce}).next&&(Te.next=ii),void 0===Te.error&&(Te.error=ii),void 0===Te.complete&&(Te.complete=ii);var et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Q.finalError?Te.error(Q.finalError):Te.complete()}catch(Vt){}}),this.observers.push(Te),et},z.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},z.prototype.forEachObserver=function(V){if(!this.finalized)for(var te=0;te<this.observers.length;te++)this.sendOne(te,V)},z.prototype.sendOne=function(V,te){var ce=this;this.task.then(function(){if(void 0!==ce.observers&&void 0!==ce.observers[V])try{te(ce.observers[V])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})},z.prototype.close=function(V){var te=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){te.observers=void 0,te.onNoObservers=void 0}))},z}();function ii(){}function ln(z){return z&&z._delegate?z._delegate:z}},7841:(We,De,F)=>{"use strict";F.d(De,{Z:()=>y.Z});var y=F(4486);y.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(We,De,F)=>{"use strict";F.r(De);var y=F(8239),le=F(4486),H=F(4685),se=F(5452),Ee=F(4762),ae=F(300),we=F(6034);const fe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ae.Yd("@firebase/auth");function Me(C,..._){Ne.logLevel<=ae.in.ERROR&&Ne.error(`Auth (${se.SDK_VERSION}): ${C}`,..._)}function Le(C,..._){throw Ue(C,..._)}function Be(C,..._){return Ue(C,..._)}function Ue(C,..._){if("string"!=typeof C){const E=_[0],T=[..._.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(E,...T)}return ne.create(C,..._)}function pe(C,_,...E){if(!C)throw Ue(_,...E)}function Lt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Me(_),new Error(_)}function gt(C,_){C||Lt(_)}const de=new Map;function oe(C){gt(C instanceof Function,"Expected a class definition");let _=de.get(C);return _?(gt(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,de.set(C,_),_)}function he(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function J(){return"http:"===ke()||"https:"===ke()}function ke(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Je{constructor(_,E){this.shortDelay=_,this.longDelay=E,gt(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(J()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wt(C,_){gt(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class en{static initialize(_,E,T){this.fetchImpl=_,E&&(this.headersImpl=E),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Hi=new Je(3e4,6e4);function nn(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Dt(C,_,E,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,y.Z)(function*(C,_,E,T,R={}){return fr(C,R,()=>{let P={},K={};T&&("GET"===_?K=T:P={body:JSON.stringify(T)});const ve=(0,H.xO)(Object.assign({key:C.config.apiKey},K)).slice(1),Fe=new(en.headers());return Fe.set("Content-Type","application/json"),Fe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Fe.set("X-Firebase-Locale",C.languageCode),en.fetch()($u(C,C.config.apiHost,E,ve),Object.assign({method:_,headers:Fe,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function fr(C,_,E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,y.Z)(function*(C,_,E){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},xn),_);try{const R=new ss(C),P=yield Promise.race([E(),R.promise]);R.clearNetworkTimeout();const K=yield P.json();if("needConfirmation"in K)throw rr(C,"account-exists-with-different-credential",K);if(P.ok&&!("errorMessage"in K))return K;{const Fe=(P.ok?K.errorMessage:K.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw rr(C,"credential-already-in-use",K);if("EMAIL_EXISTS"===Fe)throw rr(C,"email-already-in-use",K);Le(C,T[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(R){if(R instanceof H.ZR)throw R;Le(C,"network-request-failed")}})).apply(this,arguments)}function Nr(C,_,E,T){return mn.apply(this,arguments)}function mn(){return(mn=(0,y.Z)(function*(C,_,E,T,R={}){const P=yield Dt(C,_,E,T,R);return"mfaPendingCredential"in P&&Le(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function $u(C,_,E,T){const R=`${_}${E}?${T}`;return C.config.emulator?wt(C.config,R):`${C.config.apiScheme}://${R}`}class ss{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,T)=>{this.timer=setTimeout(()=>T(Be(this.auth,"timeout")),Hi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(C,_,E){const T={appName:C.name};E.email&&(T.email=E.email),E.phoneNumber&&(T.phoneNumber=E.phoneNumber);const R=Be(C,_,T);return R.customData._tokenResponse=E,R}function ya(){return(ya=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function So(C,_){return os.apply(this,arguments)}function os(){return(os=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function jn(C,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ii(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Ht(){return(Ht=(0,y.Z)(function*(C,_=!1){const E=(0,H.m9)(C),T=yield E.getIdToken(_),R=un(T);pe(R&&R.exp&&R.auth_time&&R.iat,E.auth,"internal-error");const P="object"==typeof R.firebase?R.firebase:void 0,K=null==P?void 0:P.sign_in_provider;return{claims:R,token:T,authTime:ii(rn(R.auth_time)),issuedAtTime:ii(rn(R.iat)),expirationTime:ii(rn(R.exp)),signInProvider:K||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function rn(C){return 1e3*Number(C)}function un(C){const[_,E,T]=C.split(".");if(void 0===_||void 0===E||void 0===T)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,H.tV)(E);return R?JSON.parse(R):(Me("Failed to decode base64 JWT payload"),null)}catch(R){return Me("Caught error parsing JWT payload as JSON",R),null}}function He(C,_){return qe.apply(this,arguments)}function qe(){return(qe=(0,y.Z)(function*(C,_,E=!1){if(E)return _;try{return yield _}catch(T){throw T instanceof H.ZR&&Rr(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function Rr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Hu{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const R=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const T=this.getInterval(_);this.timerId=setTimeout((0,y.Z)(function*(){yield E.iteration()}),T)}iteration(){var _=this;return(0,y.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&_.schedule(!0))}_.schedule()})()}}class Ii{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(C){return xr.apply(this,arguments)}function xr(){return(xr=(0,y.Z)(function*(C){var _;const E=C.auth,T=yield C.getIdToken(),R=yield He(C,jn(E,{idToken:T}));pe(null==R?void 0:R.users.length,E,"internal-error");const P=R.users[0];C._notifyReloadListener(P);const K=(null===(_=P.providerUserInfo)||void 0===_?void 0:_.length)?V(P.providerUserInfo):[],ve=z(C.providerData,K),lt=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==ve?void 0:ve.length)),nt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ve,metadata:new Ii(P.createdAt,P.lastLoginAt),isAnonymous:lt};Object.assign(C,nt)})).apply(this,arguments)}function ln(){return(ln=(0,y.Z)(function*(C){const _=(0,H.m9)(C);yield tn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function z(C,_){return[...C.filter(T=>!_.some(R=>R.providerId===T.providerId)),..._]}function V(C){return C.map(_=>{var{providerId:E}=_,T=(0,Ee._T)(_,["providerId"]);return{providerId:E,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function ce(){return(ce=(0,y.Z)(function*(C,_){const E=yield fr(C,{},()=>{const T=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:R,apiKey:P}=C.config,K=$u(C,R,"/v1/token",`key=${P}`);return en.fetch()(K,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){pe(_.idToken,"internal-error"),pe(void 0!==_.idToken,"internal-error"),pe(void 0!==_.refreshToken,"internal-error");const E="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=un(C);return pe(_,"internal-error"),pe(void 0!==_.exp,"internal-error"),pe(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_,E=!1){var T=this;return(0,y.Z)(function*(){return pe(!T.accessToken||T.refreshToken,_,"user-token-expired"),E||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(_,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var T=this;return(0,y.Z)(function*(){const{accessToken:R,refreshToken:P,expiresIn:K}=yield function(C,_){return ce.apply(this,arguments)}(_,E);T.updateTokensAndExpiration(R,P,Number(K))})()}updateTokensAndExpiration(_,E,T){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(_,E){const{refreshToken:T,accessToken:R,expirationTime:P}=E,K=new Q;return T&&(pe("string"==typeof T,"internal-error",{appName:_}),K.refreshToken=T),R&&(pe("string"==typeof R,"internal-error",{appName:_}),K.accessToken=R),P&&(pe("number"==typeof P,"internal-error",{appName:_}),K.expirationTime=P),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function Te(C,_){pe("string"==typeof C||void 0===C,"internal-error",{appName:_})}class et{constructor(_){var{uid:E,auth:T,stsTokenManager:R}=_,P=(0,Ee._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=T,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new Ii(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,y.Z)(function*(){const T=yield He(E,E.stsTokenManager.getToken(E.auth,_));return pe(T,E.auth,"internal-error"),E.accessToken!==T&&(E.accessToken=T,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),T})()}getIdTokenResult(_){return function(C){return Ht.apply(this,arguments)}(this,_)}reload(){return function(C){return ln.apply(this,arguments)}(this)}_assign(_){this!==_&&(pe(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new et(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var T=this;return(0,y.Z)(function*(){let R=!1;_.idToken&&_.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(_),R=!0),E&&(yield tn(T)),yield T.auth._persistUserIfCurrent(T),R&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var _=this;return(0,y.Z)(function*(){const E=yield _.getIdToken();return yield He(_,function(C,_){return ya.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var T,R,P,K,ve,Fe,ze,lt;const nt=null!==(T=E.displayName)&&void 0!==T?T:void 0,on=null!==(R=E.email)&&void 0!==R?R:void 0,_n=null!==(P=E.phoneNumber)&&void 0!==P?P:void 0,Ko=null!==(K=E.photoURL)&&void 0!==K?K:void 0,Fr=null!==(ve=E.tenantId)&&void 0!==ve?ve:void 0,gd=null!==(Fe=E._redirectEventId)&&void 0!==Fe?Fe:void 0,hm=null!==(ze=E.createdAt)&&void 0!==ze?ze:void 0,fm=null!==(lt=E.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:yi,emailVerified:Nf,isAnonymous:Yo,providerData:md,stsTokenManager:pm}=E;pe(yi&&pm,_,"internal-error");const Nv=Q.fromJSON(this.name,pm);pe("string"==typeof yi,_,"internal-error"),Te(nt,_.name),Te(on,_.name),pe("boolean"==typeof Nf,_,"internal-error"),pe("boolean"==typeof Yo,_,"internal-error"),Te(_n,_.name),Te(Ko,_.name),Te(Fr,_.name),Te(gd,_.name),Te(hm,_.name),Te(fm,_.name);const so=new et({uid:yi,auth:_,email:on,emailVerified:Nf,displayName:nt,isAnonymous:Yo,photoURL:Ko,phoneNumber:_n,tenantId:Fr,stsTokenManager:Nv,createdAt:hm,lastLoginAt:fm});return md&&Array.isArray(md)&&(so.providerData=md.map(Yi=>Object.assign({},Yi))),gd&&(so._redirectEventId=gd),so}static _fromIdTokenResponse(_,E,T=!1){return(0,y.Z)(function*(){const R=new Q;R.updateFromServerResponse(E);const P=new et({uid:E.localId,auth:_,stsTokenManager:R,isAnonymous:T});return yield tn(P),P})()}}const xt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(E,T){var R=this;return(0,y.Z)(function*(){R.storage[E]=T})()}_get(E){var T=this;return(0,y.Z)(function*(){const R=T.storage[E];return void 0===R?null:R})()}_remove(E){var T=this;return(0,y.Z)(function*(){delete T.storage[E]})()}_addListener(E,T){}_removeListener(E,T){}}return C.type="NONE",C})();function St(C,_,E){return`firebase:${C}:${_}:${E}`}class Sn{constructor(_,E,T){this.persistence=_,this.auth=E,this.userKey=T;const{config:R,name:P}=this.auth;this.fullUserKey=St(this.userKey,R.apiKey,P),this.fullPersistenceKey=St("persistence",R.apiKey,P),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,y.Z)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?et._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,y.Z)(function*(){if(E.persistence===_)return;const T=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,T?E.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,T="authUser"){return(0,y.Z)(function*(){if(!E.length)return new Sn(oe(xt),_,T);const R=(yield Promise.all(E.map(function(){var ze=(0,y.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let P=R[0]||oe(xt);const K=St(T,_.config.apiKey,_.name);let ve=null;for(const ze of E)try{const lt=yield ze._get(K);if(lt){const nt=et._fromJSON(_,lt);ze!==P&&(ve=nt),P=ze;break}}catch(lt){}const Fe=R.filter(ze=>ze._shouldAllowMigration);return P._shouldAllowMigration&&Fe.length?(P=Fe[0],ve&&(yield P._set(K,ve.toJSON())),yield Promise.all(E.map(function(){var ze=(0,y.Z)(function*(lt){if(lt!==P)try{yield lt._remove(K)}catch(nt){}});return function(lt){return ze.apply(this,arguments)}}())),new Sn(P,_,T)):new Sn(P,_,T)})()}}function En(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Eg(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if($n(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(_c(_))return"Blackberry";if(Oh(_))return"Webos";if(Ls(_))return"Safari";if((_.includes("chrome/")||_a(_))&&!_.includes("edge/"))return"Chrome";if(va(_))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function $n(C=(0,H.z$)()){return/firefox\//i.test(C)}function Ls(C=(0,H.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _a(C=(0,H.z$)()){return/crios\//i.test(C)}function Eg(C=(0,H.z$)()){return/iemobile/i.test(C)}function va(C=(0,H.z$)()){return/android/i.test(C)}function _c(C=(0,H.z$)()){return/blackberry/i.test(C)}function Oh(C=(0,H.z$)()){return/webos/i.test(C)}function as(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function Ph(C=(0,H.z$)()){return as(C)||va(C)||Oh(C)||_c(C)||/windows phone/i.test(C)||Eg(C)}function Gi(C,_=[]){let E;switch(C){case"Browser":E=En((0,H.z$)());break;case"Worker":E=`${En((0,H.z$)())}-${C}`;break;default:E=C}const T=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${se.SDK_VERSION}/${T}`}class Ao{constructor(_,E){this.app=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bg(this),this.idTokenSubscription=new bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(_,E){var T=this;return E&&(this._popupRedirectResolver=oe(E)),this._initializationPromise=this.queue((0,y.Z)(function*(){var R;T._deleted||(T.persistenceManager=yield Sn.create(T,_),!T._deleted&&((null===(R=T._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(E),!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,y.Z)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E)}})()}initializeCurrentUser(_){var E=this;return(0,y.Z)(function*(){var T;let R=yield E.assertedPersistence.getCurrentUser();if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const P=null===(T=E.redirectUser)||void 0===T?void 0:T._redirectEventId,K=null==R?void 0:R._redirectEventId,ve=yield E.tryRedirectSignIn(_);(!P||P===K)&&(null==ve?void 0:ve.user)&&(R=ve.user)}return R?R._redirectEventId?(pe(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===R._redirectEventId?E.directlySetCurrentUser(R):E.reloadAndSetCurrentUserOrClear(R)):E.reloadAndSetCurrentUserOrClear(R):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var E=this;return(0,y.Z)(function*(){let T=null;try{T=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch(R){yield E._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,y.Z)(function*(){try{yield tn(_)}catch(T){if("auth/network-request-failed"!==T.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,y.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,y.Z)(function*(){const T=_?(0,H.m9)(_):null;return T&&pe(T.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(T&&T._clone(E))})()}_updateCurrentUser(_){var E=this;return(0,y.Z)(function*(){if(!E._deleted)return _&&pe(E.tenantId===_.tenantId,E,"tenant-id-mismatch"),E.queue((0,y.Z)(function*(){yield E.directlySetCurrentUser(_),E.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,y.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var E=this;return this.queue((0,y.Z)(function*(){yield E.assertedPersistence.setPersistence(oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,E,T){return this.registerStateListener(this.authStateSubscription,_,E,T)}onIdTokenChanged(_,E,T){return this.registerStateListener(this.idTokenSubscription,_,E,T)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var T=this;return(0,y.Z)(function*(){const R=yield T.getOrInitRedirectPersistenceManager(E);return null===_?R.removeCurrentUser():R.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,y.Z)(function*(){if(!E.redirectPersistenceManager){const T=_&&oe(_)||E._popupRedirectResolver;pe(T,E,"argument-error"),E.redirectPersistenceManager=yield Sn.create(E,[oe(T._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,y.Z)(function*(){var T,R;return E._isInitialized&&(yield E.queue((0,y.Z)(function*(){}))),(null===(T=E._currentUser)||void 0===T?void 0:T._redirectEventId)===_?E._currentUser:(null===(R=E.redirectUser)||void 0===R?void 0:R._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,y.Z)(function*(){if(_===E.currentUser)return E.queue((0,y.Z)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,T,R){if(this._deleted)return()=>{};const P="function"==typeof E?E:E.next.bind(E),K=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(K,this,"internal-error"),K.then(()=>P(this.currentUser)),"function"==typeof E?_.addObserver(E,T,R):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,y.Z)(function*(){E.currentUser&&E.currentUser!==_&&(E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh()),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function $t(C){return(0,H.m9)(C)}class bg{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(E=>this.observer=E)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $e(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function sn(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class oi{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return Lt("not implemented")}_getIdTokenResponse(_){return Lt("not implemented")}_linkToIdToken(_,E){return Lt("not implemented")}_getReauthenticationResolver(_){return Lt("not implemented")}}function An(C,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:resetPassword",nn(C,_))})).apply(this,arguments)}function yn(C,_){return No.apply(this,arguments)}function No(){return(No=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function qu(C,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",nn(C,_))})).apply(this,arguments)}function Vs(){return(Vs=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithPassword",nn(C,_))})).apply(this,arguments)}function wa(C,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:sendOobCode",nn(C,_))})).apply(this,arguments)}function pr(C,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,y.Z)(function*(C,_){return wa(C,_)})).apply(this,arguments)}function Bs(C,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(C,_){return wa(C,_)})).apply(this,arguments)}function Qt(C,_){return zu.apply(this,arguments)}function zu(){return(zu=(0,y.Z)(function*(C,_){return wa(C,_)})).apply(this,arguments)}function kh(C,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,y.Z)(function*(C,_){return wa(C,_)})).apply(this,arguments)}function Ca(){return(Ca=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,_))})).apply(this,arguments)}function us(){return(us=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,_))})).apply(this,arguments)}class Mn extends oi{constructor(_,E,T,R=null){super("password",T),this._email=_,this._password=E,this._tenantId=R}static _fromEmailAndPassword(_,E){return new Mn(_,E,"password")}static _fromEmailAndCode(_,E,T=null){return new Mn(_,E,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,y.Z)(function*(){switch(E.signInMethod){case"password":return function(C,_){return Vs.apply(this,arguments)}(_,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,_){return Ca.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:Le(_,"internal-error")}})()}_linkToIdToken(_,E){var T=this;return(0,y.Z)(function*(){switch(T.signInMethod){case"password":return yn(_,{idToken:E,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(C,_){return us.apply(this,arguments)}(_,{idToken:E,email:T._email,oobCode:T._password});default:Le(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ls(C,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithIdp",nn(C,_))})).apply(this,arguments)}class ui extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new ui(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):Le("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:R}=E,P=(0,Ee._T)(E,["providerId","signInMethod"]);if(!T||!R)return null;const K=new ui(T,R);return Object.assign(K,P),K}_getIdTokenResponse(_){return ls(_,this.buildRequest())}_linkToIdToken(_,E){const T=this.buildRequest();return T.idToken=E,ls(_,T)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,ls(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,H.xO)(E)}return _}}function Ec(C,_){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:sendVerificationCode",nn(C,_))})).apply(this,arguments)}function Lh(){return(Lh=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,_))})).apply(this,arguments)}function Vh(){return(Vh=(0,y.Z)(function*(C,_){const E=yield Nr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,_));if(E.temporaryProof)throw rr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const U_={USER_NOT_FOUND:"user-not-found"};function Cg(){return(Cg=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),U_)})).apply(this,arguments)}class Ta extends oi{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new Ta({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new Ta({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function(C,_){return Lh.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function(C,_){return Vh.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return Cg.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:T,verificationCode:R}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:T,code:R}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:T,phoneNumber:R,temporaryProof:P}=_;return T||E||R||P?new Ta({verificationId:E,verificationCode:T,phoneNumber:R,temporaryProof:P}):null}}class wc{constructor(_){var E,T,R,P,K,ve;const Fe=(0,H.zd)((0,H.pd)(_)),ze=null!==(E=Fe.apiKey)&&void 0!==E?E:null,lt=null!==(T=Fe.oobCode)&&void 0!==T?T:null,nt=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Fe.mode)&&void 0!==R?R:null);pe(ze&&lt&&nt,"argument-error"),this.apiKey=ze,this.operation=nt,this.code=lt,this.continueUrl=null!==(P=Fe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(K=Fe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ve=Fe.tenantId)&&void 0!==ve?ve:null}static parseLink(_){const E=function(C){const _=(0,H.zd)((0,H.pd)(C)).link,E=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,T=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(T?(0,H.zd)((0,H.pd)(T)).link:null)||T||E||_||C}(_);try{return new wc(E)}catch(T){return null}}}let Ig=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,T){return Mn._fromEmailAndPassword(E,T)}static credentialWithLink(E,T){const R=wc.parseLink(T);return pe(R,"argument-error"),Mn._fromEmailAndCode(E,R.code,R.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class js{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Zu extends js{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ku extends Zu{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return pe("providerId"in E&&"signInMethod"in E,"argument-error"),ui._fromParams(E)}credential(_){return this._credential(_)}_credential(_){return pe(_.idToken||_.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ku.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ku.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:T,oauthTokenSecret:R,pendingToken:P,nonce:K,providerId:ve}=_;if(!T&&!R&&!E&&!P||!ve)return null;try{return new Ku(ve)._credential({idToken:E,accessToken:T,rawNonce:K,pendingToken:P})}catch(Fe){return null}}}let B_=(()=>{class C extends Zu{constructor(){super("facebook.com")}static credential(E){return ui._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Uh=(()=>{class C extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(E,T){return ui._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:T})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:T,oauthAccessToken:R}=E;if(!T&&!R)return null;try{return C.credential(T,R)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Bh=(()=>{class C extends Zu{constructor(){super("github.com")}static credential(E){return ui._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class xo extends oi{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return ls(_,this.buildRequest())}_linkToIdToken(_,E){const T=this.buildRequest();return T.idToken=E,ls(_,T)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,ls(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:R,pendingToken:P}=E;return T&&R&&P&&T===R?new xo(T,P):null}static _create(_,E){return new xo(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let j_=(()=>{class C extends Zu{constructor(){super("twitter.com")}static credential(E,T){return ui._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:T})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:T,oauthTokenSecret:R}=E;if(!T||!R)return null;try{return C.credential(T,R)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function $s(C,_){return bc.apply(this,arguments)}function bc(){return(bc=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signUp",nn(C,_))})).apply(this,arguments)}class Gr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,T,R=!1){return(0,y.Z)(function*(){const P=yield et._fromIdTokenResponse(_,T,R),K=Cc(T);return new Gr({user:P,providerId:K,_tokenResponse:T,operationType:E})})()}static _forOperation(_,E,T){return(0,y.Z)(function*(){yield _._updateTokensIfNecessary(T,!0);const R=Cc(T);return new Gr({user:_,providerId:R,_tokenResponse:T,operationType:E})})()}}function Cc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Dg(){return(Dg=(0,y.Z)(function*(C){var _;const E=$t(C);if(yield E._initializationPromise,null===(_=E.currentUser)||void 0===_?void 0:_.isAnonymous)return new Gr({user:E.currentUser,providerId:null,operationType:"signIn"});const T=yield $s(E,{returnSecureToken:!0}),R=yield Gr._fromIdTokenResponse(E,"signIn",T,!0);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ic extends H.ZR{constructor(_,E,T,R){var P;super(E.code,E.message),this.operationType=T,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,Ic.prototype),this.appName=_.name,this.code=E.code,this.tenantId=null!==(P=_.tenantId)&&void 0!==P?P:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(_,E,T,R){return new Ic(_,E,T,R)}}function Tc(C,_,E,T){return("reauthenticate"===_?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ic._fromErrorAndOperation(C,P,_,T):P})}function Sg(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Hh(){return(Hh=(0,y.Z)(function*(C,_){const E=(0,H.m9)(C);yield Yu(!0,E,_);const{providerUserInfo:T}=yield So(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),R=Sg(T||[]);return E.providerData=E.providerData.filter(P=>R.has(P.providerId)),R.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function qr(C,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,y.Z)(function*(C,_,E=!1){const T=yield He(C,_._linkToIdToken(C.auth,yield C.getIdToken()),E);return Gr._forOperation(C,"link",T)})).apply(this,arguments)}function Yu(C,_,E){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(C,_,E){yield tn(_);const R=!1===C?"provider-already-linked":"no-such-provider";pe(Sg(_.providerData).has(E)===C,_.auth,R)})).apply(this,arguments)}function Da(C,_){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,y.Z)(function*(C,_,E=!1){const{auth:T}=C,R="reauthenticate";try{const P=yield He(C,Tc(T,R,_,C),E);pe(P.idToken,T,"internal-error");const K=un(P.idToken);pe(K,T,"internal-error");const{sub:ve}=K;return pe(C.uid===ve,T,"user-mismatch"),Gr._forOperation(C,R,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Le(T,"user-mismatch"),P}})).apply(this,arguments)}function Ac(C,_){return cn.apply(this,arguments)}function cn(){return(cn=(0,y.Z)(function*(C,_,E=!1){const T="signIn",R=yield Tc(C,T,_),P=yield Gr._fromIdTokenResponse(C,T,R);return E||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Nc(C,_){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,y.Z)(function*(C,_){return Ac($t(C),_)})).apply(this,arguments)}function Ag(C,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,y.Z)(function*(C,_){const E=(0,H.m9)(C);return yield Yu(!1,E,_.providerId),qr(E,_)})).apply(this,arguments)}function Ng(C,_){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,y.Z)(function*(C,_){return Da((0,H.m9)(C),_)})).apply(this,arguments)}function xc(C,_){return zr.apply(this,arguments)}function zr(){return(zr=(0,y.Z)(function*(C,_){return Nr(C,"POST","/v1/accounts:signInWithCustomToken",nn(C,_))})).apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(C,_){const E=$t(C),T=yield xc(E,{token:_,returnSecureToken:!0}),R=yield Gr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}class Gs{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?gr._fromServerResponse(_,E):Le(_,"internal-error")}}class gr extends Gs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new gr(E)}}function Ju(C,_,E){var T;pe((null===(T=E.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),pe(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(pe(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iosBundleId=E.iOS.bundleId),E.android&&(pe(E.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function Mc(){return(Mc=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C),R={requestType:"PASSWORD_RESET",email:_};E&&Ju(T,R,E),yield Bs(T,R)})).apply(this,arguments)}function Oc(){return(Oc=(0,y.Z)(function*(C,_,E){yield An((0,H.m9)(C),{oobCode:_,newPassword:E})})).apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(C,_){yield qu((0,H.m9)(C),{oobCode:_})})).apply(this,arguments)}function $_(C,_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,y.Z)(function*(C,_){const E=(0,H.m9)(C),T=yield An(E,{oobCode:_}),R=T.requestType;switch(pe(R,E,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(T.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(T.mfaInfo,E,"internal-error");default:pe(T.email,E,"internal-error")}let P=null;return T.mfaInfo&&(P=Gs._fromServerResponse($t(E),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:P},operation:R}})).apply(this,arguments)}function Xu(){return(Xu=(0,y.Z)(function*(C,_){const{data:E}=yield $_((0,H.m9)(C),_);return E.email})).apply(this,arguments)}function Po(){return(Po=(0,y.Z)(function*(C,_,E){const T=$t(C),R=yield $s(T,{returnSecureToken:!0,email:_,password:E}),P=yield Gr._fromIdTokenResponse(T,"signIn",R);return yield T._updateCurrentUser(P.user),P})).apply(this,arguments)}function At(){return(At=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C),R={requestType:"EMAIL_SIGNIN",email:_};pe(E.handleCodeInApp,T,"argument-error"),E&&Ju(T,R,E),yield Qt(T,R)})).apply(this,arguments)}function kc(){return(kc=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C),R=Ig.credentialWithLink(_,E||he());return pe(R._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Nc(T,R)})).apply(this,arguments)}function el(C,_){return li.apply(this,arguments)}function li(){return(li=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:createAuthUri",nn(C,_))})).apply(this,arguments)}function zs(){return(zs=(0,y.Z)(function*(C,_){const T={identifier:_,continueUri:J()?he():"http://localhost"},{signinMethods:R}=yield el((0,H.m9)(C),T);return R||[]})).apply(this,arguments)}function Mg(){return(Mg=(0,y.Z)(function*(C,_){const E=(0,H.m9)(C),R={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Ju(E.auth,R,_);const{email:P}=yield pr(E.auth,R);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};E&&Ju(T.auth,P,E);const{email:K}=yield kh(T.auth,P);K!==C.email&&(yield C.reload())})).apply(this,arguments)}function Mr(C,_){return ci.apply(this,arguments)}function ci(){return(ci=(0,y.Z)(function*(C,_){return Dt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(C,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const T=(0,H.m9)(C),P={idToken:yield T.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},K=yield He(T,Mr(T.auth,P));T.displayName=K.displayName||null,T.photoURL=K.photoUrl||null;const ve=T.providerData.find(({providerId:Fe})=>"password"===Fe);ve&&(ve.displayName=T.displayName,ve.photoURL=T.photoURL),yield T._updateTokensIfNecessary(K)})).apply(this,arguments)}function Yh(C,_,E){return tl.apply(this,arguments)}function tl(){return(tl=(0,y.Z)(function*(C,_,E){const{auth:T}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(P.email=_),E&&(P.password=E);const K=yield He(C,yn(T,P));yield C._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Ks{constructor(_,E,T={}){this.isNewUser=_,this.providerId=E,this.profile=T}}class Fc extends Ks{constructor(_,E,T,R){super(_,E,T),this.username=R}}class Pg extends Ks{constructor(_,E){super(_,"facebook.com",E)}}class kg extends Fc{constructor(_,E){super(_,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class q_ extends Ks{constructor(_,E){super(_,"google.com",E)}}class z_ extends Fc{constructor(_,E,T){super(_,"twitter.com",E,T)}}function nl(C){const{user:_,_tokenResponse:E}=C;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,E;if(!C)return null;const{providerId:T}=C,R=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const K=null===(E=null===(_=un(C.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(K)return new Ks(P,"anonymous"!==K&&"custom"!==K?K:null)}if(!T)return null;switch(T){case"facebook.com":return new Pg(P,R);case"github.com":return new kg(P,R);case"google.com":return new q_(P,R);case"twitter.com":return new z_(P,R,C.screenName||null);case"custom":case"anonymous":return new Ks(P,null);default:return new Ks(P,T,R)}}(E)}class Or{constructor(_,E){this.type=_,this.credential=E}static _fromIdtoken(_){return new Or("enroll",_)}static _fromMfaPendingCredential(_){return new Or("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,T;if(null==_?void 0:_.multiFactorSession){if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Or._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(T=_.multiFactorSession)||void 0===T?void 0:T.idToken)return Or._fromIdtoken(_.multiFactorSession.idToken)}return null}}class hn{constructor(_,E,T){this.session=_,this.hints=E,this.signInResolver=T}static _fromError(_,E){const T=$t(_),R=(E.serverResponse.mfaInfo||[]).map(K=>Gs._fromServerResponse(T,K));pe(E.serverResponse.mfaPendingCredential,T,"internal-error");const P=Or._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new hn(P,R,function(){var K=(0,y.Z)(function*(ve){const Fe=yield ve._process(T,P);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const ze=Object.assign(Object.assign({},E.serverResponse),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(E.operationType){case"signIn":const lt=yield Gr._fromIdTokenResponse(T,E.operationType,ze);return yield T._updateCurrentUser(lt.user),lt;case"reauthenticate":return pe(E.user,T,"internal-error"),Gr._forOperation(E.user,E.operationType,ze);default:Le(T,"internal-error")}});return function(ve){return K.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,y.Z)(function*(){return E.signInResolver(_)})()}}function K_(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},_))}class Jh{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(T=>Gs._fromServerResponse(_.auth,T)))})}static _fromUser(_){return new Jh(_)}getSession(){var _=this;return(0,y.Z)(function*(){return Or._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,E){var T=this;return(0,y.Z)(function*(){const R=_,P=yield T.getSession(),K=yield He(T.user,R._process(T.user.auth,P,E));return yield T.user._updateTokensIfNecessary(K),T.user.reload()})()}unenroll(_){var E=this;return(0,y.Z)(function*(){const T="string"==typeof _?_:_.uid,R=yield E.user.getIdToken(),P=yield He(E.user,function(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},_))}(E.user.auth,{idToken:R,mfaEnrollmentId:T}));E.enrolledFactors=E.enrolledFactors.filter(({uid:K})=>K!==T),yield E.user._updateTokensIfNecessary(P);try{yield E.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Xh=new WeakMap,Fo="__sak";class Vc{constructor(_,E){this.storage=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const qi=(()=>{class C extends Vc{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,H.z$)();return Ls(C)||as(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Ph(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const T of Object.keys(this.listeners)){const R=this.storage.getItem(T),P=this.localCache[T];R!==P&&E(T,P,R)}}onStorageEvent(E,T=!1){if(!E.key)return void this.forAllChangedKeys((ve,Fe,ze)=>{this.notifyListeners(ve,ze)});const R=E.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(R);if(E.newValue!==ve)null!==E.newValue?this.storage.setItem(R,E.newValue):this.storage.removeItem(R);else if(this.localCache[R]===E.newValue&&!T)return}const P=()=>{const ve=this.storage.getItem(R);!T&&this.localCache[R]===ve||this.notifyListeners(R,ve)},K=this.storage.getItem(R);(0,H.w1)()&&10===document.documentMode&&K!==E.newValue&&E.newValue!==E.oldValue?setTimeout(P,10):P()}notifyListeners(E,T){this.localCache[E]=T;const R=this.listeners[E];if(R)for(const P of Array.from(R))P(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,T,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:T,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(T)}_removeListener(E,T){this.listeners[E]&&(this.listeners[E].delete(T),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,T){var R=()=>super._set,P=this;return(0,y.Z)(function*(){yield R().call(P,E,T),P.localCache[E]=JSON.stringify(T)})()}_get(E){var T=()=>super._get,R=this;return(0,y.Z)(function*(){const P=yield T().call(R,E);return R.localCache[E]=JSON.stringify(P),P})()}_remove(E){var T=()=>super._remove,R=this;return(0,y.Z)(function*(){yield T().call(R,E),delete R.localCache[E]})()}}return C.type="LOCAL",C})(),Ys=(()=>{class C extends Vc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,T){}_removeListener(E,T){}}return C.type="SESSION",C})();let Bg=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const T=this.receivers.find(P=>P.isListeningto(E));if(T)return T;const R=new C(E);return this.receivers.push(R),R}isListeningto(E){return this.eventTarget===E}handleEvent(E){var T=this;return(0,y.Z)(function*(){const R=E,{eventId:P,eventType:K,data:ve}=R.data,Fe=T.handlersMap[K];if(!(null==Fe?void 0:Fe.size))return;R.ports[0].postMessage({status:"ack",eventId:P,eventType:K});const ze=Array.from(Fe).map(function(){var nt=(0,y.Z)(function*(on){return on(R.origin,ve)});return function(on){return nt.apply(this,arguments)}}()),lt=yield function(C){return Promise.all(C.map(function(){var _=(0,y.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(T){return{fulfilled:!1,reason:T}}});return function(E){return _.apply(this,arguments)}}()))}(ze);R.ports[0].postMessage({status:"done",eventId:P,eventType:K,response:lt})})()}_subscribe(E,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(T)}_unsubscribe(E,T){this.handlersMap[E]&&T&&this.handlersMap[E].delete(T),(!T||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function il(C="",_=10){let E="";for(let T=0;T<_;T++)E+=Math.floor(10*Math.random());return C+E}class Qs{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,T=50){var R=this;return(0,y.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let K,ve;return new Promise((Fe,ze)=>{const lt=il("",20);P.port1.start();const nt=setTimeout(()=>{ze(new Error("unsupported_event"))},T);ve={messageChannel:P,onMessage(on){const _n=on;if(_n.data.eventId===lt)switch(_n.data.status){case"ack":clearTimeout(nt),K=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Fe(_n.data.response);break;default:clearTimeout(nt),clearTimeout(K),ze(new Error("invalid_response"))}}},R.handlers.add(ve),P.port1.addEventListener("message",ve.onMessage),R.target.postMessage({eventType:_,eventId:lt,data:E},[P.port2])}).finally(()=>{ve&&R.removeMessageHandler(ve)})})()}}function Hn(){return window}function Js(){return void 0!==Hn().WorkerGlobalScope&&"function"==typeof Hn().importScripts}function Bc(){return(Bc=(0,y.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const nf="firebaseLocalStorageDb",jc="firebaseLocalStorage",Sa="fbase_key";class Aa{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Na(C,_){return C.transaction([jc],_?"readwrite":"readonly").objectStore(jc)}function rf(){const C=indexedDB.open(nf,1);return new Promise((_,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(jc,{keyPath:Sa})}catch(R){E(R)}}),C.addEventListener("success",(0,y.Z)(function*(){const T=C.result;T.objectStoreNames.contains(jc)?_(T):(T.close(),yield function(){const C=indexedDB.deleteDatabase(nf);return new Aa(C).toPromise()}(),_(yield rf()))}))})}function fn(C,_,E){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,y.Z)(function*(C,_,E){const T=Na(C,!0).put({[Sa]:_,value:E});return new Aa(T).toPromise()})).apply(this,arguments)}function dt(){return(dt=(0,y.Z)(function*(C,_){const E=Na(C,!1).get(_),T=yield new Aa(E).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function $c(C,_){const E=Na(C,!0).delete(_);return new Aa(E).toPromise()}const Si=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,y.Z)(function*(){return E.db||(E.db=yield rf()),E.db})()}_withRetries(E){var T=this;return(0,y.Z)(function*(){let R=0;for(;;)try{const P=yield T._openDb();return yield E(P)}catch(P){if(R++>3)throw P;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,y.Z)(function*(){return Js()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,y.Z)(function*(){E.receiver=Bg._getInstance(Js()?self:null),E.receiver._subscribe("keyChanged",function(){var T=(0,y.Z)(function*(R,P){return{keyProcessed:(yield E._poll()).includes(P.key)}});return function(R,P){return T.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var T=(0,y.Z)(function*(R,P){return["keyChanged"]});return function(R,P){return T.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,y.Z)(function*(){var T,R;if(E.activeServiceWorker=yield function(){return Bc.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Qs(E.activeServiceWorker);const P=yield E.sender._send("ping",{},800);!P||(null===(T=P[0])||void 0===T?void 0:T.fulfilled)&&(null===(R=P[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var T=this;return(0,y.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:E},T.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const E=yield rf();return yield fn(E,Fo,"1"),yield $c(E,Fo),!0}catch(E){}return!1})()}_withPendingWrite(E){var T=this;return(0,y.Z)(function*(){T.pendingWrites++;try{yield E()}finally{T.pendingWrites--}})()}_set(E,T){var R=this;return(0,y.Z)(function*(){return R._withPendingWrite((0,y.Z)(function*(){return yield R._withRetries(P=>fn(P,E,T)),R.localCache[E]=T,R.notifyServiceWorker(E)}))})()}_get(E){var T=this;return(0,y.Z)(function*(){const R=yield T._withRetries(P=>function(C,_){return dt.apply(this,arguments)}(P,E));return T.localCache[E]=R,R})()}_remove(E){var T=this;return(0,y.Z)(function*(){return T._withPendingWrite((0,y.Z)(function*(){return yield T._withRetries(R=>$c(R,E)),delete T.localCache[E],T.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,y.Z)(function*(){const T=yield E._withRetries(K=>{const ve=Na(K,!1).getAll();return new Aa(ve).toPromise()});if(!T)return[];if(0!==E.pendingWrites)return[];const R=[],P=new Set;for(const{fbase_key:K,value:ve}of T)P.add(K),JSON.stringify(E.localCache[K])!==JSON.stringify(ve)&&(E.notifyListeners(K,ve),R.push(K));for(const K of Object.keys(E.localCache))E.localCache[K]&&!P.has(K)&&(E.notifyListeners(K,null),R.push(K));return R})()}notifyListeners(E,T){this.localCache[E]=T;const R=this.listeners[E];if(R)for(const P of Array.from(R))P(T)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(T)}_removeListener(E,T){this.listeners[E]&&(this.listeners[E].delete(T),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Ai(C,_){return Dt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},_))}function Gc(){return(Gc=(0,y.Z)(function*(C){return(yield Dt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $g(C){return new Promise((_,E)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=_,T.onerror=R=>{const P=Be("internal-error");P.customData=R,E(P)},T.type="text/javascript",T.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(T)})}function ds(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Pn=1e12;class hs{constructor(_){this.auth=_,this.counter=Pn,this._widgets=new Map}render(_,E){const T=this.counter;return this._widgets.set(T,new Ra(_,this.auth.name,E||{})),this.counter++,T}reset(_){var E;const T=_||Pn;null===(E=this._widgets.get(T))||void 0===E||E.delete(),this._widgets.delete(T)}getResponse(_){var E;return(null===(E=this._widgets.get(_||Pn))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,y.Z)(function*(){var T;return null===(T=E._widgets.get(_||Pn))||void 0===T||T.execute(),""})()}}class Ra{constructor(_,E,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof _?document.getElementById(_):_;pe(R,"argument-error",{appName:E}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)_.push(E.charAt(Math.floor(Math.random()*E.length)));return _.join("")}();const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xa=ds("rcb"),qc=new Je(3e4,6e4);class Bo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Hn().grecaptcha}load(_,E=""){return pe((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(Hn().grecaptcha):new Promise((T,R)=>{const P=Hn().setTimeout(()=>{R(Be(_,"network-request-failed"))},qc.get());Hn()[xa]=()=>{Hn().clearTimeout(P),delete Hn()[xa];const ve=Hn().grecaptcha;if(!ve)return void R(Be(_,"internal-error"));const Fe=ve.render;ve.render=(ze,lt)=>{const nt=Fe(ze,lt);return this.counter++,nt},this.hostLanguage=E,T(ve)},$g(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:xa,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(P),R(Be(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Hn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(_){return(0,y.Z)(function*(){return new hs(_)})()}clearedOneInstance(){}}const ol="recaptcha",Xs={theme:"light",type:"image"};class $o{constructor(_,E=Object.assign({},Xs),T){this.parameters=E,this.type=ol,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(T),this.isInvisible="invisible"===this.parameters.size,pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof _?document.getElementById(_):_;pe(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new Bo,this.validateStartingState()}verify(){var _=this;return(0,y.Z)(function*(){_.assertNotDestroyed();const E=yield _.render(),T=_.getAssertedRecaptcha();return T.getResponse(E)||new Promise(P=>{const K=ve=>{!ve||(_.tokenChangeListeners.delete(K),P(ve))};_.tokenChangeListeners.add(K),_.isInvisible&&T.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(T=>T(E)),"function"==typeof _)_(E);else if("string"==typeof _){const T=Hn()[_];"function"==typeof T&&T(E)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,y.Z)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const T=document.createElement("div");E.appendChild(T),E=T}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,y.Z)(function*(){pe(J()&&!Js(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function(C){return Gc.apply(this,arguments)}(_.auth);pe(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class zc{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=Ta._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function Wc(){return(Wc=(0,y.Z)(function*(C,_,E){const T=$t(C),R=yield Yc(T,_,(0,H.m9)(E));return new zc(R,P=>Nc(T,P))})).apply(this,arguments)}function Zc(){return(Zc=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C);yield Yu(!1,T,"phone");const R=yield Yc(T.auth,_,(0,H.m9)(E));return new zc(R,P=>Ag(T,P))})).apply(this,arguments)}function Kc(){return(Kc=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C),R=yield Yc(T.auth,_,(0,H.m9)(E));return new zc(R,P=>Ng(T,P))})).apply(this,arguments)}function Yc(C,_,E){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,y.Z)(function*(C,_,E){var T;const R=yield E.verify();try{let P;if(pe("string"==typeof R,C,"argument-error"),pe(E.type===ol,C,"argument-error"),P="string"==typeof _?{phoneNumber:_}:_,"session"in P){const K=P.session;if("phoneNumber"in P)return pe("enroll"===K.type,C,"internal-error"),(yield K_(C,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{pe("signin"===K.type,C,"internal-error");const ve=(null===(T=P.multiFactorHint)||void 0===T?void 0:T.uid)||P.multiFactorUid;return pe(ve,C,"missing-multi-factor-info"),(yield Ai(C,{mfaPendingCredential:K.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Ec(C,{phoneNumber:P.phoneNumber,recaptchaToken:R});return K}}finally{E._reset()}})).apply(this,arguments)}function lf(){return(lf=(0,y.Z)(function*(C,_){yield qr((0,H.m9)(C),_)})).apply(this,arguments)}let al=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=$t(E)}verifyPhoneNumber(E,T){return Yc(this.auth,E,(0,H.m9)(T))}static credential(E,T){return Ta._fromVerification(E,T)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:T,temporaryProof:R}=E;return T&&R?Ta._fromTokenResponse(T,R):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function eo(C,_){return _?oe(_):(pe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ul extends oi{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ls(_,this._buildIdpRequest())}_linkToIdToken(_,E){return ls(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return ls(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function iv(C){return Ac(C.auth,new ul(C),C.bypassAuthState)}function Oa(C){const{auth:_,user:E}=C;return pe(E,_,"internal-error"),Da(E,new ul(C),C.bypassAuthState)}function sv(C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(C){const{auth:_,user:E}=C;return pe(E,_,"internal-error"),qr(E,new ul(C),C.bypassAuthState)})).apply(this,arguments)}class hi{constructor(_,E,T,R,P=!1){this.auth=_,this.resolver=T,this.user=R,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,y.Z)(function*(T,R){_.pendingPromise={resolve:T,reject:R};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(P){_.reject(P)}});return function(T,R){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,y.Z)(function*(){const{urlResponse:T,sessionId:R,postBody:P,tenantId:K,error:ve,type:Fe}=_;if(ve)return void E.reject(ve);const ze={auth:E.auth,requestUri:T,sessionId:R,tenantId:K||void 0,postBody:P||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Fe)(ze))}catch(lt){E.reject(lt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return iv;case"linkViaPopup":case"linkViaRedirect":return sv;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Le(this.auth,"internal-error")}}resolve(_){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ll=new Je(2e3,1e4);function Gg(){return(Gg=(0,y.Z)(function*(C,_,E){const T=$t(C);pe(_ instanceof js,C,"argument-error");const R=eo(T,E);return new Zr(T,"signInViaPopup",_,R).executeNotNull()})).apply(this,arguments)}function fi(){return(fi=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C);pe(_ instanceof js,T.auth,"argument-error");const R=eo(T.auth,E);return new Zr(T.auth,"reauthViaPopup",_,R,T).executeNotNull()})).apply(this,arguments)}function fs(){return(fs=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C);pe(_ instanceof js,T.auth,"argument-error");const R=eo(T.auth,E);return new Zr(T.auth,"linkViaPopup",_,R,T).executeNotNull()})).apply(this,arguments)}let Zr=(()=>{class C extends hi{constructor(E,T,R,P,K){super(E,T,P,K),this.provider=R,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,y.Z)(function*(){const T=yield E.execute();return pe(T,E.auth,"internal-error"),T})()}onExecution(){var E=this;return(0,y.Z)(function*(){gt(1===E.filter.length,"Popup operations only handle one event");const T=il();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],T),E.authWindow.associatedEvent=T,E.resolver._originValidation(E.auth).catch(R=>{E.reject(R)}),E.resolver._isIframeWebStorageSupported(E.auth,R=>{R||E.reject(Be(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var T,R;this.pollId=(null===(R=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,ll.get())};E()}}return C.currentPopupAction=null,C})();const ka=new Map;class Jc extends hi{constructor(_,E,T=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,T),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,y.Z)(function*(){let T=ka.get(E.auth._key());if(!T){try{const P=(yield function(C,_){return Xc.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;T=()=>Promise.resolve(P)}catch(R){T=()=>Promise.reject(R)}ka.set(E.auth._key(),T)}return T()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,T=this;return(0,y.Z)(function*(){if("signInViaRedirect"===_.type)return E().call(T,_);if("unknown"!==_.type){if(_.eventId){const R=yield T.auth._redirectUserForId(_.eventId);if(R)return T.user=R,E().call(T,_);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function Xc(){return(Xc=(0,y.Z)(function*(C,_){const E=ov(_),T="true"===(yield ps(C)._get(E));return yield ps(C)._remove(E),T})).apply(this,arguments)}function Ho(C,_){return yr.apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(C,_){return ps(C)._set(ov(_),"true")})).apply(this,arguments)}function ps(C){return oe(C._redirectPersistence)}function ov(C){return St("pendingRedirect",C.config.apiKey,C.name)}function qg(){return(qg=(0,y.Z)(function*(C,_,E){const T=$t(C);pe(_ instanceof js,C,"argument-error");const R=eo(T,E);return yield Ho(R,T),R._openRedirect(T,_,"signInViaRedirect")})).apply(this,arguments)}function ff(){return(ff=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C);pe(_ instanceof js,T.auth,"argument-error");const R=eo(T.auth,E);yield Ho(R,T.auth);const P=yield La(T);return R._openRedirect(T.auth,_,"reauthViaRedirect",P)})).apply(this,arguments)}function gs(){return(gs=(0,y.Z)(function*(C,_,E){const T=(0,H.m9)(C);pe(_ instanceof js,T.auth,"argument-error");const R=eo(T.auth,E);yield Yu(!1,T,_.providerId),yield Ho(R,T.auth);const P=yield La(T);return R._openRedirect(T.auth,_,"linkViaRedirect",P)})).apply(this,arguments)}function Ni(){return(Ni=(0,y.Z)(function*(C,_){return yield $t(C)._initializationPromise,ms(C,_,!1)})).apply(this,arguments)}function ms(C,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,y.Z)(function*(C,_,E=!1){const T=$t(C),R=eo(T,_),K=yield new Jc(T,R,E).execute();return K&&!E&&(delete K.user._redirectEventId,yield T._persistUserIfCurrent(K.user),yield T._setRedirectUser(null,_)),K})).apply(this,arguments)}function La(C){return pf.apply(this,arguments)}function pf(){return(pf=(0,y.Z)(function*(C){const _=il(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class dl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(_,T)&&(E=!0,this.sendToConsumer(_,T),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hl(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var T;if(_.error&&!hl(_)){const R=(null===(T=_.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";E.onError(Be(this.auth,R))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const T=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&T}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mf(_))}saveEventToCache(_){this.cachedEventUids.add(mf(_)),this.lastProcessedEventTime=Date.now()}}function mf(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function hl({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function ys(C){return Va.apply(this,arguments)}function Va(){return(Va=(0,y.Z)(function*(C,_={}){return Dt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const bn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zg=/^https?/;function to(){return(to=(0,y.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield ys(C);for(const E of _)try{if(_s(E))return}catch(T){}Le(C,"unauthorized-domain")})).apply(this,arguments)}function _s(C){const _=he(),{protocol:E,hostname:T}=new URL(_);if(C.startsWith("chrome-extension://")){const K=new URL(C);return""===K.hostname&&""===T?"chrome-extension:"===E&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&K.hostname===T}if(!zg.test(E))return!1;if(bn.test(C))return T===C;const R=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(T)}const yf=new Je(3e4,6e4);function ed(){const C=Hn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let _f=null;function qo(C){return _f=_f||function(C){return new Promise((_,E)=>{var T,R,P;function K(){ed(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{ed(),E(Be(C,"network-request-failed"))},timeout:yf.get()})}if(null===(R=null===(T=Hn().gapi)||void 0===T?void 0:T.iframes)||void 0===R?void 0:R.Iframe)_(gapi.iframes.getContext());else{if(!(null===(P=Hn().gapi)||void 0===P?void 0:P.load)){const ve=ds("iframefcb");return Hn()[ve]=()=>{gapi.load?K():E(Be(C,"network-request-failed"))},$g(`https://apis.google.com/js/api.js?onload=${ve}`)}K()}}).catch(_=>{throw _f=null,_})}(C),_f}const vs=new Je(5e3,15e3),td={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Wg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(C){const _=C.config;pe(_.authDomain,C,"auth-domain-config-required");const E=_.emulator?wt(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:_.apiKey,appName:C.name,v:se.SDK_VERSION},R=Wg.get(C.config.apiHost);R&&(T.eid=R);const P=C._getFrameworks();return P.length&&(T.fw=P.join(",")),`${E}?${(0,H.xO)(T).slice(1)}`}function nd(){return(nd=(0,y.Z)(function*(C){const _=yield qo(C),E=Hn().gapi;return pe(E,C,"internal-error"),_.open({where:document.body,url:Ef(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:td,dontclear:!0},T=>new Promise(function(){var R=(0,y.Z)(function*(P,K){yield T.restyle({setHideOnLeave:!1});const ve=Be(C,"network-request-failed"),Fe=Hn().setTimeout(()=>{K(ve)},vs.get());function ze(){Hn().clearTimeout(Fe),P(T)}T.ping(ze).then(ze,()=>{K(ve)})});return function(P,K){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const yb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kg{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function pl(C,_,E,T,R,P){pe(C.config.authDomain,C,"auth-domain-config-required"),pe(C.config.apiKey,C,"invalid-api-key");const K={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:T,v:se.SDK_VERSION,eventId:R};if(_ instanceof js){_.setDefaultLanguage(C.languageCode),K.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(K.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Fe,ze]of Object.entries(P||{}))K[Fe]=ze}if(_ instanceof Zu){const Fe=_.getScopes().filter(ze=>""!==ze);Fe.length>0&&(K.scopes=Fe.join(","))}C.tenantId&&(K.tid=C.tenantId);const ve=K;for(const Fe of Object.keys(ve))void 0===ve[Fe]&&delete ve[Fe];return`${function({config:C}){return C.emulator?wt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(ve).slice(1)}`}const no="webStorageSupport";class bf extends class{constructor(_){this.factorId=_}_process(_,E,T){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,T);case"signin":return this._finalizeSignIn(_,E.credential);default:return Lt("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new bf(_)}_finalizeEnroll(_,E,T){return function(C,_){return Dt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{idToken:E,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function(C,_){return Dt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class gv{constructor(){}static assertion(_){return bf._fromCredential(_)}}var C;class Qg{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,y.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(T=>{var R;_((null===(R=T)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);!E||(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ro(){return window}function gl(){return(gl=(0,y.Z)(function*(C,_,E){var T;const{BuildInfo:R}=ro();gt(_.sessionId,"AuthEvent did not contain a session ID");const P=yield em(_.sessionId),K={};return as()?K.ibi=R.packageName:va()?K.apn=R.packageName:Le(C,"operation-not-supported-in-this-environment"),R.displayName&&(K.appDisplayName=R.displayName),K.sessionId=P,pl(C,E,_.type,void 0,null!==(T=_.eventId)&&void 0!==T?T:void 0,K)})).apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(C){const{BuildInfo:_}=ro(),E={};as()?E.iosBundleId=_.packageName:va()?E.androidPackageName=_.packageName:Le(C,"operation-not-supported-in-this-environment"),yield ys(C,E)})).apply(this,arguments)}function ad(){return(ad=(0,y.Z)(function*(C,_,E){const{cordova:T}=ro();let R=()=>{};try{yield new Promise((P,K)=>{let ve=null;function Fe(){var nt;P();const on=null===(nt=T.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof on&&on(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function ze(){ve||(ve=window.setTimeout(()=>{K(Be(C,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===(null==document?void 0:document.visibilityState)&&ze()}_.addPassiveListener(Fe),document.addEventListener("resume",ze,!1),va()&&document.addEventListener("visibilitychange",lt,!1),R=()=>{_.removePassiveListener(Fe),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",lt,!1),ve&&window.clearTimeout(ve)}})}finally{R()}})).apply(this,arguments)}function em(C){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,y.Z)(function*(C){const _=vv(C),E=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(E)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vv(C){if(gt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),E=new Uint8Array(_);for(let T=0;T<C.length;T++)E[T]=C.charCodeAt(T);return E}C="Browser",(0,se._registerComponent)(new we.wA("auth",(_,{options:E})=>{const T=_.getProvider("app").getImmediate(),{apiKey:R,authDomain:P}=T.options;return(K=>{pe(R&&!R.includes(":"),"invalid-api-key",{appName:K.name}),pe(!(null==P?void 0:P.includes(":")),"argument-error",{appName:K.name});const ve={apiKey:R,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gi(C)},Fe=new Ao(K,ve);return function(C,_){const E=(null==_?void 0:_.persistence)||[],T=(Array.isArray(E)?E:[E]).map(oe);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(T,null==_?void 0:_.popupRedirectResolver)}(Fe,E),Fe})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,T)=>{_.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new we.wA("auth-internal",_=>{const E=$t(_.getProvider("auth").getImmediate());return new Qg(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)("@firebase/auth","0.17.1",void 0);class tm extends dl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(_)),super.onEvent(_)}initialized(){var _=this;return(0,y.Z)(function*(){yield _.initPromise})()}}function rm(C){return If.apply(this,arguments)}function If(){return(If=(0,y.Z)(function*(C){const _=yield ld()._get(Yr(C));return _&&(yield ld()._remove(Yr(C))),_})).apply(this,arguments)}function $a(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const T=Math.floor(Math.random()*_.length);C.push(_.charAt(T))}return C.join("")}function ld(){return oe(qi)}function Yr(C){return St("authEvent",C.config.apiKey,C.name)}function dd(C){if(!(null==C?void 0:C.includes("?")))return{};const[_,...E]=C.split("?");return(0,H.zd)(E.join("?"))}function Eb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}function hd(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Df(C=(0,H.z$)()){return!("file:"!==hd()&&"ionic:"!==hd()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function ml(){try{const C=self.localStorage,_=il();if(C)return C.setItem(_,"1"),C.removeItem(_),!function(C=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,H.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,H.hl)()}catch(C){return fd()&&(0,H.hl)()}return!1}function fd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ha(){return("http:"===hd()||"https:"===hd()||(0,H.ru)()||Df())&&!((0,H.b$)()||(0,H.UG)())&&ml()&&!fd()}function am(){return Df()&&"undefined"!=typeof document}function pd(){return(pd=(0,y.Z)(function*(){return!!am()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const mi={LOCAL:"local",NONE:"none",SESSION:"session"},zi=pe,Ga="persistence";function yl(C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,y.Z)(function*(C){yield C._initializationPromise;const _=lm(),E=St(Ga,C.config.apiKey,C.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function lm(){return"undefined"!=typeof window?window:null}const _l=pe;class In{constructor(){this.browserResolver=oe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ys,this._completeRedirectFn=ms}_openPopup(_,E,T,R){var P=this;return(0,y.Z)(function*(){var K;gt(null===(K=P.eventManagers[_._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ve=pl(_,E,T,he(),R);return function(C,_,E,T=500,R=600){const P=Math.max((window.screen.availHeight-R)/2,0).toString(),K=Math.max((window.screen.availWidth-T)/2,0).toString();let ve="";const Fe=Object.assign(Object.assign({},yb),{width:T.toString(),height:R.toString(),top:P,left:K}),ze=(0,H.z$)().toLowerCase();E&&(ve=_a(ze)?"_blank":E),$n(ze)&&(_=_||"http://localhost",Fe.scrollbars="yes");const lt=Object.entries(Fe).reduce((on,[_n,Ko])=>`${on}${_n}=${Ko},`,"");if(function(C=(0,H.z$)()){var _;return as(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(ze)&&"_self"!==ve)return function(C,_){const E=document.createElement("a");E.href=C,E.target=_;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(T)}(_||"",ve),new Kg(null);const nt=window.open(_||"",ve,lt);pe(nt,C,"popup-blocked");try{nt.focus()}catch(on){}return new Kg(nt)}(_,ve,il())})()}_openRedirect(_,E,T,R){var P=this;return(0,y.Z)(function*(){return yield P._originValidation(_),C=pl(_,E,T,he(),R),Hn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:R,promise:P}=this.eventManagers[E];return R?Promise.resolve(R):(gt(P,"If manager is not set, promise should be"),P)}const T=this.initAndGetManager(_);return this.eventManagers[E]={promise:T},T}initAndGetManager(_){var E=this;return(0,y.Z)(function*(){const T=yield function(C){return nd.apply(this,arguments)}(_),R=new dl(_);return T.register("authEvent",P=>(pe(null==P?void 0:P.authEvent,_,"invalid-auth-event"),{status:R.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:R},E.iframes[_._key()]=T,R})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(no,{type:no},R=>{var P;const K=null===(P=null==R?void 0:R[0])||void 0===P?void 0:P[no];void 0!==K&&E(!!K),Le(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return to.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return Ph()||Ls()||as()}}),this.cordovaResolver=oe(class{constructor(){this._redirectPersistence=Ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ms}_initialize(_){var E=this;return(0,y.Z)(function*(){const T=_._key();let R=E.eventManagers.get(T);return R||(R=new tm(_),E.eventManagers.set(T,R),E.attachCallbackListeners(_,R)),R})()}_openPopup(_){Le(_,"operation-not-supported-in-this-environment")}_openRedirect(_,E,T,R){var P=this;return(0,y.Z)(function*(){!function(C){var _,E,T,R,P,K,ve,Fe,ze,lt;const nt=ro();pe("function"==typeof(null===(_=null==nt?void 0:nt.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(void 0!==(null===(E=null==nt?void 0:nt.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(P=null===(R=null===(T=null==nt?void 0:nt.cordova)||void 0===T?void 0:T.plugins)||void 0===R?void 0:R.browsertab)||void 0===P?void 0:P.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(Fe=null===(ve=null===(K=null==nt?void 0:nt.cordova)||void 0===K?void 0:K.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Fe?void 0:Fe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(lt=null===(ze=null==nt?void 0:nt.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===lt?void 0:lt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const K=yield P._initialize(_);yield K.initialized(),K.resetRedirect(),ka.clear(),yield P._originValidation(_);const ve=function(C,_,E=null){return{type:_,eventId:E,urlResponse:null,sessionId:$a(),postBody:null,tenantId:C.tenantId,error:Be(C,"no-auth-event")}}(_,T,R);yield function(C,_){return ld()._set(Yr(C),_)}(_,ve);const Fe=yield function(C,_,E){return gl.apply(this,arguments)}(_,ve,E),ze=yield function(C){const{cordova:_}=ro();return new Promise(E=>{_.plugins.browsertab.isAvailable(T=>{let R=null;T?_.plugins.browsertab.openUrl(C):R=_.InAppBrowser.open(C,function(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(R)})})}(Fe);return function(C,_,E){return ad.apply(this,arguments)}(_,K,ze)})()}_isIframeWebStorageSupported(_,E){throw new Error("Method not implemented.")}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return pi.apply(this,arguments)}(_)),this.originValidationPromises[E]}attachCallbackListeners(_,E){const{universalLinks:T,handleOpenURL:R,BuildInfo:P}=ro(),K=setTimeout((0,y.Z)(function*(){yield rm(_),E.onEvent(Eb())}),500),ve=function(){var lt=(0,y.Z)(function*(nt){clearTimeout(K);const on=yield rm(_);let _n=null;on&&(null==nt?void 0:nt.url)&&(_n=function(C,_){var E,T;const R=function(C){const _=dd(C),E=_.link?decodeURIComponent(_.link):void 0,T=dd(E).link,R=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return dd(R).link||R||T||E||C}(_);if(R.includes("/__/auth/callback")){const P=dd(R),K=P.firebaseError?function(C){try{return JSON.parse(C)}catch(_){return null}}(decodeURIComponent(P.firebaseError)):null,ve=null===(T=null===(E=null==K?void 0:K.code)||void 0===E?void 0:E.split("auth/"))||void 0===T?void 0:T[1],Fe=ve?Be(ve):null;return Fe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:R,postBody:null}}return null}(on,nt.url)),E.onEvent(_n||Eb())});return function(on){return lt.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,ve);const Fe=R,ze=`${P.packageName.toLowerCase()}://`;ro().handleOpenURL=function(){var lt=(0,y.Z)(function*(nt){if(nt.toLowerCase().startsWith(ze)&&ve({url:nt}),"function"==typeof Fe)try{Fe(nt)}catch(on){console.error(on)}});return function(nt){return lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ys,this._completeRedirectFn=ms}_initialize(_){var E=this;return(0,y.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,E,T,R){var P=this;return(0,y.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(_,E,T,R)})()}_openRedirect(_,E,T,R){var P=this;return(0,y.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(_,E,T,R)})()}_isIframeWebStorageSupported(_,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,E)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return am()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _l(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,y.Z)(function*(){if(_.underlyingResolver)return;const E=yield function(){return pd.apply(this,arguments)}();_.underlyingResolver=E?_.cordovaResolver:_.browserResolver})()}}function qa(C){return C.unwrap()}function cm(C){return vl(C)}function Sf(C,_){var E;const T=null===(E=_.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new Dv(C,function(C,_){var E;const T=(0,H.m9)(C),R=_;return pe(_.operationType,T,"argument-error"),pe(null===(E=R.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,T,"argument-error"),hn._fromError(T,R)}(C,_));else if(T){const R=vl(_),P=_;R&&(P.credential=R,P.tenantId=T.tenantId||void 0,P.email=T.email||void 0,P.phoneNumber=T.phoneNumber||void 0)}}function vl(C){const{_tokenResponse:_}=C instanceof H.ZR?C.customData:C;if(!_)return null;if(!(C instanceof H.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return al.credentialFromResult(C);const E=_.providerId;if(!E||"password"===E)return null;let T;switch(E){case"google.com":T=Uh;break;case"facebook.com":T=B_;break;case"github.com":T=Bh;break;case"twitter.com":T=j_;break;default:const{oauthIdToken:R,oauthAccessToken:P,oauthTokenSecret:K,pendingToken:ve,nonce:Fe}=_;return P||K||R||ve?ve?E.startsWith("saml.")?xo._create(E,ve):ui._fromParams({providerId:E,signInMethod:E,pendingToken:ve,idToken:R,accessToken:P}):new Ku(E).credential({idToken:R,accessToken:P,rawNonce:Fe}):null}return C instanceof H.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function qt(C,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,y.Z)(function*(C,_){let E;try{E=yield _}catch(P){throw P instanceof H.ZR&&Sf(C,P),P}const{operationType:T,user:R}=E;return{operationType:T,credential:cm(E),additionalUserInfo:nl(E),user:Zi.getOrCreate(R)}})).apply(this,arguments)}function io(C,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,y.Z)(function*(C,_){const E=yield _;return{verificationId:E.verificationId,confirm:T=>qt(C,E.confirm(T))}})).apply(this,arguments)}class Dv{constructor(_,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return qt(qa(this.auth),this.resolver.resolveSignIn(_))}}class Zi{constructor(_){this._delegate=_,this.multiFactor=function(C){const _=(0,H.m9)(C);return Xh.has(_)||Xh.set(_,Jh._fromUser(_)),Xh.get(_)}(_)}static getOrCreate(_){return Zi.USER_MAP.has(_)||Zi.USER_MAP.set(_,new Zi(_)),Zi.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var E=this;return(0,y.Z)(function*(){return qt(E.auth,Ag(E._delegate,_))})()}linkWithPhoneNumber(_,E){var T=this;return(0,y.Z)(function*(){return io(T.auth,function(C,_,E){return Zc.apply(this,arguments)}(T._delegate,_,E))})()}linkWithPopup(_){var E=this;return(0,y.Z)(function*(){return qt(E.auth,function(C,_,E){return fs.apply(this,arguments)}(E._delegate,_,In))})()}linkWithRedirect(_){var E=this;return(0,y.Z)(function*(){return yield yl($t(E.auth)),function(C,_,E){return function(C,_,E){return gs.apply(this,arguments)}(C,_,E)}(E._delegate,_,In)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var E=this;return(0,y.Z)(function*(){return qt(E.auth,Ng(E._delegate,_))})()}reauthenticateWithPhoneNumber(_,E){return io(this.auth,function(C,_,E){return Kc.apply(this,arguments)}(this._delegate,_,E))}reauthenticateWithPopup(_){return qt(this.auth,function(C,_,E){return fi.apply(this,arguments)}(this._delegate,_,In))}reauthenticateWithRedirect(_){var E=this;return(0,y.Z)(function*(){return yield yl($t(E.auth)),function(C,_,E){return function(C,_,E){return ff.apply(this,arguments)}(C,_,E)}(E._delegate,_,In)})()}sendEmailVerification(_){return function(C,_){return Mg.apply(this,arguments)}(this._delegate,_)}unlink(_){var E=this;return(0,y.Z)(function*(){return yield function(C,_){return Hh.apply(this,arguments)}(E._delegate,_),E})()}updateEmail(_){return function(C,_){return Yh((0,H.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function(C,_){return Yh((0,H.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(C,_){return lf.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(C,_){return Zs.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,E){return function(C,_,E){return Ws.apply(this,arguments)}(this._delegate,_,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zi.USER_MAP=new WeakMap;const Qr=pe;let Af=(()=>{class C{constructor(E,T){if(this.app=E,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=E.options;Qr(R,"invalid-api-key",{appName:E.name});let P=[xt];if("undefined"!=typeof window){P=function(C,_){const E=lm();if(!(null==E?void 0:E.sessionStorage))return[];const T=St(Ga,C,_);switch(E.sessionStorage.getItem(T)){case mi.NONE:return[xt];case mi.LOCAL:return[Si,Ys];case mi.SESSION:return[Ys];default:return[]}}(R,E.name);for(const ve of[Si,qi,Ys])P.includes(ve)||P.push(ve)}Qr(R,"invalid-api-key",{appName:E.name});const K="undefined"!=typeof window?In:void 0;this._delegate=T.initialize({options:{persistence:P,popupRedirectResolver:K}}),this._delegate._updateErrorMap(fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,T){!function(C,_,E){const T=$t(C);pe(T._canInitEmulator,T,"emulator-config-failed"),pe(/^https?:\/\//.test(_),T,"invalid-emulator-scheme");const R=!!(null==E?void 0:E.disableWarnings),P=$e(_),{host:K,port:ve}=function(C){const _=$e(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!E)return{host:"",port:null};const T=E[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(T);if(R){const P=R[1];return{host:P,port:sn(T.substr(P.length+1))}}{const[P,K]=T.split(":");return{host:P,port:sn(K)}}}(_);T.config.emulator={url:`${P}//${K}${null===ve?"":`:${ve}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:K,port:ve,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(C){function _(){const E=document.createElement("p"),T=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(R)}(this._delegate,E,T)}applyActionCode(E){return function(C,_){return at.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return $_(this._delegate,E)}confirmPasswordReset(E,T){return function(C,_,E){return Oc.apply(this,arguments)}(this._delegate,E,T)}createUserWithEmailAndPassword(E,T){var R=this;return(0,y.Z)(function*(){return qt(R._delegate,function(C,_,E){return Po.apply(this,arguments)}(R._delegate,E,T))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,_){return zs.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,_){const E=wc.parseLink(_);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,y.Z)(function*(){Qr(Ha(),E._delegate,"operation-not-supported-in-this-environment");const T=yield function(C,_){return Ni.apply(this,arguments)}(E._delegate,In);return T?qt(E._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,_){$t(C)._logFramework(_)}(this._delegate,E)}onAuthStateChanged(E,T,R){const{next:P,error:K,complete:ve}=dm(E,T,R);return this._delegate.onAuthStateChanged(P,K,ve)}onIdTokenChanged(E,T,R){const{next:P,error:K,complete:ve}=dm(E,T,R);return this._delegate.onIdTokenChanged(P,K,ve)}sendSignInLinkToEmail(E,T){return function(C,_,E){return At.apply(this,arguments)}(this._delegate,E,T)}sendPasswordResetEmail(E,T){return function(C,_,E){return Mc.apply(this,arguments)}(this._delegate,E,T||void 0)}setPersistence(E){var T=this;return(0,y.Z)(function*(){let R;switch(function(C,_){zi(Object.values(mi).includes(_),C,"invalid-persistence-type"),(0,H.b$)()?zi(_!==mi.SESSION,C,"unsupported-persistence-type"):(0,H.UG)()?zi(_===mi.NONE,C,"unsupported-persistence-type"):fd()?zi(_===mi.NONE||_===mi.LOCAL&&(0,H.hl)(),C,"unsupported-persistence-type"):zi(_===mi.NONE||ml(),C,"unsupported-persistence-type")}(T._delegate,E),E){case mi.SESSION:R=Ys;break;case mi.LOCAL:R=(yield oe(Si)._isAvailable())?Si:qi;break;case mi.NONE:R=xt;break;default:return Le("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return qt(this._delegate,function(C){return Dg.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return qt(this._delegate,Nc(this._delegate,E))}signInWithCustomToken(E){return qt(this._delegate,function(C,_){return Hs.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,T){return qt(this._delegate,function(C,_,E){return Nc((0,H.m9)(C),Ig.credential(_,E))}(this._delegate,E,T))}signInWithEmailLink(E,T){return qt(this._delegate,function(C,_,E){return kc.apply(this,arguments)}(this._delegate,E,T))}signInWithPhoneNumber(E,T){return io(this._delegate,function(C,_,E){return Wc.apply(this,arguments)}(this._delegate,E,T))}signInWithPopup(E){var T=this;return(0,y.Z)(function*(){return Qr(Ha(),T._delegate,"operation-not-supported-in-this-environment"),qt(T._delegate,function(C,_,E){return Gg.apply(this,arguments)}(T._delegate,E,In))})()}signInWithRedirect(E){var T=this;return(0,y.Z)(function*(){return Qr(Ha(),T._delegate,"operation-not-supported-in-this-environment"),yield yl(T._delegate),function(C,_,E){return function(C,_,E){return qg.apply(this,arguments)}(C,_,E)}(T._delegate,E,In)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,_){return Xu.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=mi,C})();function dm(C,_,E){let T=C;"function"!=typeof C&&({next:T,error:_,complete:E}=C);const R=T;return{next:K=>R(K&&Zi.getOrCreate(K)),error:_,complete:E}}class Ki{constructor(){this.providerId="phone",this._delegate=new al(qa(le.Z.auth()))}static credential(_,E){return al.credential(_,E)}verifyPhoneNumber(_,E){return this._delegate.verifyPhoneNumber(_,E)}unwrap(){return this._delegate}}Ki.PHONE_SIGN_IN_METHOD=al.PHONE_SIGN_IN_METHOD,Ki.PROVIDER_ID=al.PROVIDER_ID;const Sv=pe;class Av{constructor(_,E,T=le.Z.app()){var R;Sv(null===(R=T.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new $o(_,E,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new we.wA("auth-compat",_=>{const E=_.getProvider("app-compat").getImmediate(),T=_.getProvider("auth");return new Af(E,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ig,FacebookAuthProvider:B_,GithubAuthProvider:Bh,GoogleAuthProvider:Uh,OAuthProvider:Ku,PhoneAuthProvider:Ki,PhoneMultiFactorGenerator:gv,RecaptchaVerifier:Av,TwitterAuthProvider:j_,Auth:Af,AuthCredential:oi,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(le.Z)},7574:(We,De,F)=>{"use strict";F.d(De,{y:()=>$});var y=F(7393),H=F(9181),se=F(6490),ae=F(6554),we=F(4487);var L=F(2494);let $=(()=>{class B{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const ie=new B;return ie.source=this,ie.operator=fe,ie}subscribe(fe,ie,ne){const{operator:Pe}=this,Ne=function(B,Z,fe){if(B){if(B instanceof y.L)return B;if(B[H.b])return B[H.b]()}return B||Z||fe?new y.L(B,Z,fe):new y.L(se.c)}(fe,ie,ne);if(Ne.add(Pe?Pe.call(Ne,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Ne.syncErrorThrowable?this._subscribe(Ne):this._trySubscribe(Ne)),L.v.useDeprecatedSynchronousErrorHandling&&Ne.syncErrorThrowable&&(Ne.syncErrorThrowable=!1,Ne.syncErrorThrown))throw Ne.syncErrorValue;return Ne}_trySubscribe(fe){try{return this._subscribe(fe)}catch(ie){L.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=ie),function(B){for(;B;){const{closed:Z,destination:fe,isStopped:ie}=B;if(Z||ie)return!1;B=fe&&fe instanceof y.L?fe:null}return!0}(fe)?fe.error(ie):console.warn(ie)}}forEach(fe,ie){return new(ie=q(ie))((ne,Pe)=>{let Ne;Ne=this.subscribe(Me=>{try{fe(Me)}catch(Le){Pe(Le),Ne&&Ne.unsubscribe()}},Pe,ne)})}_subscribe(fe){const{source:ie}=this;return ie&&ie.subscribe(fe)}[ae.L](){return this}pipe(...fe){return 0===fe.length?this:function(B){return 0===B.length?we.y:1===B.length?B[0]:function(fe){return B.reduce((ie,ne)=>ne(ie),fe)}}(fe)(this)}toPromise(fe){return new(fe=q(fe))((ie,ne)=>{let Pe;this.subscribe(Ne=>Pe=Ne,Ne=>ne(Ne),()=>ie(Pe))})}}return B.create=Z=>new B(Z),B})();function q(B){if(B||(B=L.v.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6490:(We,De,F)=>{"use strict";F.d(De,{c:()=>H});var y=F(2494),le=F(4449);const H={closed:!0,next(se){},error(se){if(y.v.useDeprecatedSynchronousErrorHandling)throw se;(0,le.z)(se)},complete(){}}},9765:(We,De,F)=>{"use strict";F.d(De,{Yc:()=>we,xQ:()=>ye});var y=F(7574),le=F(7393),H=F(5319),se=F(7971),Ee=F(8858),ae=F(9181);class we extends le.L{constructor($){super($),this.destination=$}}let ye=(()=>{class L extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new we(this)}lift(q){const B=new Y(this,this);return B.operator=q,B}next(q){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:B}=this,Z=B.length,fe=B.slice();for(let ie=0;ie<Z;ie++)fe[ie].next(q)}}error(q){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:B}=this,Z=B.length,fe=B.slice();for(let ie=0;ie<Z;ie++)fe[ie].error(q);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:q}=this,B=q.length,Z=q.slice();for(let fe=0;fe<B;fe++)Z[fe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new se.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new se.N;return this.hasError?(q.error(this.thrownError),H.w.EMPTY):this.isStopped?(q.complete(),H.w.EMPTY):(this.observers.push(q),new Ee.W(this,q))}asObservable(){const q=new y.y;return q.source=this,q}}return L.create=($,q)=>new Y($,q),L})();class Y extends ye{constructor($,q){super(),this.destination=$,this.source=q}next($){const{destination:q}=this;q&&q.next&&q.next($)}error($){const{destination:q}=this;q&&q.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:q}=this;return q?this.source.subscribe($):H.w.EMPTY}}},8858:(We,De,F)=>{"use strict";F.d(De,{W:()=>le});var y=F(5319);class le extends y.w{constructor(se,Ee){super(),this.subject=se,this.subscriber=Ee,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,Ee=se.observers;if(this.subject=null,!Ee||0===Ee.length||se.isStopped||se.closed)return;const ae=Ee.indexOf(this.subscriber);-1!==ae&&Ee.splice(ae,1)}}},7393:(We,De,F)=>{"use strict";F.d(De,{L:()=>we});var y=F(9105),le=F(6490),H=F(5319),se=F(9181),Ee=F(2494),ae=F(4449);class we extends H.w{constructor(L,$,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le.c;break;case 1:if(!L){this.destination=le.c;break}if("object"==typeof L){L instanceof we?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,L,$,q)}}[se.b](){return this}static create(L,$,q){const B=new we(L,$,q);return B.syncErrorThrowable=!1,B}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ye extends we{constructor(L,$,q,B){super(),this._parentSubscriber=L;let Z,fe=this;(0,y.m)($)?Z=$:$&&(Z=$.next,q=$.error,B=$.complete,$!==le.c&&(fe=Object.create($),(0,y.m)(fe.unsubscribe)&&this.add(fe.unsubscribe.bind(fe)),fe.unsubscribe=this.unsubscribe.bind(this))),this._context=fe,this._next=Z,this._error=q,this._complete=B}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;Ee.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:q}=Ee.v;if(this._error)q&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if($.syncErrorThrowable)q?($.syncErrorValue=L,$.syncErrorThrown=!0):(0,ae.z)(L),this.unsubscribe();else{if(this.unsubscribe(),q)throw L;(0,ae.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const $=()=>this._complete.call(this._context);Ee.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,$){try{L.call(this._context,$)}catch(q){if(this.unsubscribe(),Ee.v.useDeprecatedSynchronousErrorHandling)throw q;(0,ae.z)(q)}}__tryOrSetError(L,$,q){if(!Ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,q)}catch(B){return Ee.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=B,L.syncErrorThrown=!0,!0):((0,ae.z)(B),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(We,De,F)=>{"use strict";F.d(De,{w:()=>ae});var y=F(9796),le=F(1555),H=F(9105);const Ee=(()=>{function ye(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((L,$)=>`${$+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return ye.prototype=Object.create(Error.prototype),ye})();class ae{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:$,_unsubscribe:q,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ae)L.remove(this);else if(null!==L)for(let Z=0;Z<L.length;++Z)L[Z].remove(this);if((0,H.m)(q)){$&&(this._unsubscribe=void 0);try{q.call(this)}catch(Z){Y=Z instanceof Ee?we(Z.errors):[Z]}}if((0,y.k)(B)){let Z=-1,fe=B.length;for(;++Z<fe;){const ie=B[Z];if((0,le.K)(ie))try{ie.unsubscribe()}catch(ne){Y=Y||[],ne instanceof Ee?Y=Y.concat(we(ne.errors)):Y.push(ne)}}}if(Y)throw new Ee(Y)}add(Y){let L=Y;if(!Y)return ae.EMPTY;switch(typeof Y){case"function":L=new ae(Y);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ae)){const B=L;L=new ae,L._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:$}=L;if(null===$)L._parentOrParents=this;else if($ instanceof ae){if($===this)return L;L._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return L;$.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[L]:q.push(L),L}remove(Y){const L=this._subscriptions;if(L){const $=L.indexOf(Y);-1!==$&&L.splice($,1)}}}var ye;function we(ye){return ye.reduce((Y,L)=>Y.concat(L instanceof Ee?L.errors:L),[])}ae.EMPTY=((ye=new ae).closed=!0,ye)},2494:(We,De,F)=>{"use strict";F.d(De,{v:()=>le});let y=!1;const le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=H},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(We,De,F)=>{"use strict";F.d(De,{IY:()=>se,Ds:()=>ae,ft:()=>ye});var y=F(7393),le=F(7574),H=F(7444);class se extends y.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends y.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ye(Y,L){if(L.closed)return;if(Y instanceof le.y)return Y.subscribe(L);let $;try{$=(0,H.s)(Y)(L)}catch(q){L.error(q)}return $}},2441:(We,De,F)=>{"use strict";F.d(De,{c:()=>Ee,N:()=>ae});var y=F(9765),le=F(7574),H=F(5319),se=F(1307);class Ee extends le.y{constructor($,q){super(),this.source=$,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new H.w,$.add(this.source.subscribe(new we(this.getSubject(),this))),$.closed&&(this._connection=null,$=H.w.EMPTY)),$}refCount(){return(0,se.x)()(this)}}const ae=(()=>{const L=Ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class we extends y.Yc{constructor($,q){super($),this.connectable=q}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const q=$._connection;$._refCount=0,$._subject=null,$._connection=null,q&&q.unsubscribe()}}}},9193:(We,De,F)=>{"use strict";F.d(De,{E:()=>le,c:()=>H});var y=F(7574);const le=new y.y(Ee=>Ee.complete());function H(Ee){return Ee?function(Ee){return new y.y(ae=>Ee.schedule(()=>ae.complete()))}(Ee):le}},4402:(We,De,F)=>{"use strict";F.d(De,{D:()=>fe});var y=F(7574),le=F(7444),H=F(5319),se=F(6554),we=F(4087),ye=F(377),$=F(4072),q=F(9489);function fe(ie,ne){return ne?function(ie,ne){if(null!=ie){if(function(ie){return ie&&"function"==typeof ie[se.L]}(ie))return function(ie,ne){return new y.y(Pe=>{const Ne=new H.w;return Ne.add(ne.schedule(()=>{const Me=ie[se.L]();Ne.add(Me.subscribe({next(Le){Ne.add(ne.schedule(()=>Pe.next(Le)))},error(Le){Ne.add(ne.schedule(()=>Pe.error(Le)))},complete(){Ne.add(ne.schedule(()=>Pe.complete()))}}))})),Ne})}(ie,ne);if((0,$.t)(ie))return function(ie,ne){return new y.y(Pe=>{const Ne=new H.w;return Ne.add(ne.schedule(()=>ie.then(Me=>{Ne.add(ne.schedule(()=>{Pe.next(Me),Ne.add(ne.schedule(()=>Pe.complete()))}))},Me=>{Ne.add(ne.schedule(()=>Pe.error(Me)))}))),Ne})}(ie,ne);if((0,q.z)(ie))return(0,we.r)(ie,ne);if(function(ie){return ie&&"function"==typeof ie[ye.hZ]}(ie)||"string"==typeof ie)return function(ie,ne){if(!ie)throw new Error("Iterable cannot be null");return new y.y(Pe=>{const Ne=new H.w;let Me;return Ne.add(()=>{Me&&"function"==typeof Me.return&&Me.return()}),Ne.add(ne.schedule(()=>{Me=ie[ye.hZ](),Ne.add(ne.schedule(function(){if(Pe.closed)return;let Le,Be;try{const Ue=Me.next();Le=Ue.value,Be=Ue.done}catch(Ue){return void Pe.error(Ue)}Be?Pe.complete():(Pe.next(Le),this.schedule())}))})),Ne})}(ie,ne)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,ne):ie instanceof y.y?ie:new y.y((0,le.s)(ie))}},6693:(We,De,F)=>{"use strict";F.d(De,{n:()=>se});var y=F(7574),le=F(5015),H=F(4087);function se(Ee,ae){return ae?(0,H.r)(Ee,ae):new y.y((0,le.V)(Ee))}},6682:(We,De,F)=>{"use strict";F.d(De,{T:()=>Ee});var y=F(7574),le=F(4869),H=F(3282),se=F(6693);function Ee(...ae){let we=Number.POSITIVE_INFINITY,ye=null,Y=ae[ae.length-1];return(0,le.K)(Y)?(ye=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(we=ae.pop())):"number"==typeof Y&&(we=ae.pop()),null===ye&&1===ae.length&&ae[0]instanceof y.y?ae[0]:(0,H.J)(we)((0,se.n)(ae,ye))}},5917:(We,De,F)=>{"use strict";F.d(De,{of:()=>se});var y=F(4869),le=F(6693),H=F(4087);function se(...Ee){let ae=Ee[Ee.length-1];return(0,y.K)(ae)?(Ee.pop(),(0,H.r)(Ee,ae)):(0,le.n)(Ee)}},8002:(We,De,F)=>{"use strict";F.d(De,{U:()=>le});var y=F(7393);function le(Ee,ae){return function(ye){if("function"!=typeof Ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new H(Ee,ae))}}class H{constructor(ae,we){this.project=ae,this.thisArg=we}call(ae,we){return we.subscribe(new se(ae,this.project,this.thisArg))}}class se extends y.L{constructor(ae,we,ye){super(ae),this.project=we,this.count=0,this.thisArg=ye||this}_next(ae){let we;try{we=this.project.call(this.thisArg,ae,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(we)}}},3282:(We,De,F)=>{"use strict";F.d(De,{J:()=>H});var y=F(9773),le=F(4487);function H(se=Number.POSITIVE_INFINITY){return(0,y.zg)(le.y,se)}},9773:(We,De,F)=>{"use strict";F.d(De,{zg:()=>se});var y=F(8002),le=F(4402),H=F(5345);function se(ye,Y,L=Number.POSITIVE_INFINITY){return"function"==typeof Y?$=>$.pipe(se((q,B)=>(0,le.D)(ye(q,B)).pipe((0,y.U)((Z,fe)=>Y(q,Z,B,fe))),L)):("number"==typeof Y&&(L=Y),$=>$.lift(new Ee(ye,L)))}class Ee{constructor(Y,L=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=L}call(Y,L){return L.subscribe(new ae(Y,this.project,this.concurrent))}}class ae extends H.Ds{constructor(Y,L,$=Number.POSITIVE_INFINITY){super(Y),this.project=L,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let L;const $=this.index++;try{L=this.project(Y,$)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(L)}_innerSub(Y){const L=new H.IY(this),$=this.destination;$.add(L);const q=(0,H.ft)(Y,L);q!==L&&$.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(We,De,F)=>{"use strict";F.d(De,{ht:()=>$,QV:()=>Y});var y=F(7393),le=F(9193),H=F(5917),se=F(7574);class ye{constructor(Z,fe,ie){this.kind=Z,this.value=fe,this.error=ie,this.hasValue="N"===Z}observe(Z){switch(this.kind){case"N":return Z.next&&Z.next(this.value);case"E":return Z.error&&Z.error(this.error);case"C":return Z.complete&&Z.complete()}}do(Z,fe,ie){switch(this.kind){case"N":return Z&&Z(this.value);case"E":return fe&&fe(this.error);case"C":return ie&&ie()}}accept(Z,fe,ie){return Z&&"function"==typeof Z.next?this.observe(Z):this.do(Z,fe,ie)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return B=this.error,new se.y(fe=>fe.error(B));case"C":return(0,le.c)()}var B;throw new Error("unexpected notification kind value")}static createNext(Z){return void 0!==Z?new ye("N",Z):ye.undefinedValueNotification}static createError(Z){return new ye("E",void 0,Z)}static createComplete(){return ye.completeNotification}}function Y(B,Z=0){return function(ie){return ie.lift(new L(B,Z))}}ye.completeNotification=new ye("C"),ye.undefinedValueNotification=new ye("N",void 0);class L{constructor(Z,fe=0){this.scheduler=Z,this.delay=fe}call(Z,fe){return fe.subscribe(new $(Z,this.scheduler,this.delay))}}class $ extends y.L{constructor(Z,fe,ie=0){super(Z),this.scheduler=fe,this.delay=ie}static dispatch(Z){const{notification:fe,destination:ie}=Z;fe.observe(ie),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new q(Z,this.destination)))}_next(Z){this.scheduleMessage(ye.createNext(Z))}_error(Z){this.scheduleMessage(ye.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(ye.createComplete()),this.unsubscribe()}}class q{constructor(Z,fe){this.notification=Z,this.destination=fe}}},1307:(We,De,F)=>{"use strict";F.d(De,{x:()=>le});var y=F(7393);function le(){return function(ae){return ae.lift(new H(ae))}}class H{constructor(ae){this.connectable=ae}call(ae,we){const{connectable:ye}=this;ye._refCount++;const Y=new se(ae,ye),L=we.subscribe(Y);return Y.closed||(Y.connection=ye.connect()),L}}class se extends y.L{constructor(ae,we){super(ae),this.connectable=we}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const we=ae._refCount;if(we<=0)return void(this.connection=null);if(ae._refCount=we-1,we>1)return void(this.connection=null);const{connection:ye}=this,Y=ae._connection;this.connection=null,Y&&(!ye||Y===ye)&&Y.unsubscribe()}}},3101:(We,De,F)=>{"use strict";F.d(De,{R:()=>ne});var y=F(7574);let le=1;const H=Promise.resolve(),se={};function Ee(Ne){return Ne in se&&(delete se[Ne],!0)}const ae={setImmediate(Ne){const Me=le++;return se[Me]=!0,H.then(()=>Ee(Me)&&Ne()),Me},clearImmediate(Ne){Ee(Ne)}};var ye=F(6465),L=F(6102);const B=new class extends L.v{flush(Me){this.active=!0,this.scheduled=void 0;const{actions:Le}=this;let Be,Ue=-1,pe=Le.length;Me=Me||Le.shift();do{if(Be=Me.execute(Me.state,Me.delay))break}while(++Ue<pe&&(Me=Le.shift()));if(this.active=!1,Be){for(;++Ue<pe&&(Me=Le.shift());)Me.unsubscribe();throw Be}}}(class extends ye.o{constructor(Me,Le){super(Me,Le),this.scheduler=Me,this.work=Le}requestAsyncId(Me,Le,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Me,Le,Be):(Me.actions.push(this),Me.scheduled||(Me.scheduled=ae.setImmediate(Me.flush.bind(Me,null))))}recycleAsyncId(Me,Le,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(Me,Le,Be);0===Me.actions.length&&(ae.clearImmediate(Le),Me.scheduled=void 0)}});var Z=F(9796);class ie extends y.y{constructor(Me,Le=0,Be=B){var Ne;super(),this.source=Me,this.delayTime=Le,this.scheduler=Be,(!(!(0,Z.k)(Ne=Le)&&Ne-parseFloat(Ne)+1>=0)||Le<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=B)}static create(Me,Le=0,Be=B){return new ie(Me,Le,Be)}static dispatch(Me){const{source:Le,subscriber:Be}=Me;return this.add(Le.subscribe(Be))}_subscribe(Me){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:Me})}}function ne(Ne,Me=0){return function(Be){return Be.lift(new Pe(Ne,Me))}}class Pe{constructor(Me,Le){this.scheduler=Me,this.delay=Le}call(Me,Le){return new ie(Le,this.delay,this.scheduler).subscribe(Me)}}},3342:(We,De,F)=>{"use strict";F.d(De,{b:()=>se});var y=F(7393);function le(){}var H=F(9105);function se(we,ye,Y){return function($){return $.lift(new Ee(we,ye,Y))}}class Ee{constructor(ye,Y,L){this.nextOrObserver=ye,this.error=Y,this.complete=L}call(ye,Y){return Y.subscribe(new ae(ye,this.nextOrObserver,this.error,this.complete))}}class ae extends y.L{constructor(ye,Y,L,$){super(ye),this._tapNext=le,this._tapError=le,this._tapComplete=le,this._tapError=L||le,this._tapComplete=$||le,(0,H.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||le,this._tapError=Y.error||le,this._tapComplete=Y.complete||le)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(Y){return void this.destination.error(Y)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(Y){return void this.destination.error(Y)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},4087:(We,De,F)=>{"use strict";F.d(De,{r:()=>H});var y=F(7574),le=F(5319);function H(se,Ee){return new y.y(ae=>{const we=new le.w;let ye=0;return we.add(Ee.schedule(function(){ye!==se.length?(ae.next(se[ye++]),ae.closed||we.add(this.schedule())):ae.complete()})),we})}},6465:(We,De,F)=>{"use strict";F.d(De,{o:()=>H});var y=F(5319);class le extends y.w{constructor(Ee,ae){super()}schedule(Ee,ae=0){return this}}class H extends le{constructor(Ee,ae){super(Ee,ae),this.scheduler=Ee,this.work=ae,this.pending=!1}schedule(Ee,ae=0){if(this.closed)return this;this.state=Ee;const we=this.id,ye=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ye,we,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(ye,this.id,ae),this}requestAsyncId(Ee,ae,we=0){return setInterval(Ee.flush.bind(Ee,this),we)}recycleAsyncId(Ee,ae,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return ae;clearInterval(ae)}execute(Ee,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Ee,ae);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ae){let ye,we=!1;try{this.work(Ee)}catch(Y){we=!0,ye=!!Y&&Y||new Error(Y)}if(we)return this.unsubscribe(),ye}_unsubscribe(){const Ee=this.id,ae=this.scheduler,we=ae.actions,ye=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&we.splice(ye,1),null!=Ee&&(this.id=this.recycleAsyncId(ae,Ee,null)),this.delay=null}}},6102:(We,De,F)=>{"use strict";F.d(De,{v:()=>le});let y=(()=>{class H{constructor(Ee,ae=H.now){this.SchedulerAction=Ee,this.now=ae}schedule(Ee,ae=0,we){return new this.SchedulerAction(this,Ee).schedule(we,ae)}}return H.now=()=>Date.now(),H})();class le extends y{constructor(se,Ee=y.now){super(se,()=>le.delegate&&le.delegate!==this?le.delegate.now():Ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,Ee=0,ae){return le.delegate&&le.delegate!==this?le.delegate.schedule(se,Ee,ae):super.schedule(se,Ee,ae)}flush(se){const{actions:Ee}=this;if(this.active)return void Ee.push(se);let ae;this.active=!0;do{if(ae=se.execute(se.state,se.delay))break}while(se=Ee.shift());if(this.active=!1,ae){for(;se=Ee.shift();)se.unsubscribe();throw ae}}}},3637:(We,De,F)=>{"use strict";F.d(De,{z:()=>H});var y=F(6465);const H=new(F(6102).v)(y.o)},7771:(We,De,F)=>{"use strict";F.d(De,{c:()=>ae,N:()=>Ee});var y=F(6465),H=F(6102);const Ee=new class extends H.v{}(class extends y.o{constructor(ye,Y){super(ye,Y),this.scheduler=ye,this.work=Y}schedule(ye,Y=0){return Y>0?super.schedule(ye,Y):(this.delay=Y,this.state=ye,this.scheduler.flush(this),this)}execute(ye,Y){return Y>0||this.closed?super.execute(ye,Y):this._execute(ye,Y)}requestAsyncId(ye,Y,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ye,Y,L):ye.flush(this)}}),ae=Ee},377:(We,De,F)=>{"use strict";F.d(De,{hZ:()=>le});const le="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,De,F)=>{"use strict";F.d(De,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,De,F)=>{"use strict";F.d(De,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,De,F)=>{"use strict";F.d(De,{N:()=>le});const le=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(We,De,F)=>{"use strict";function y(le){setTimeout(()=>{throw le},0)}F.d(De,{z:()=>y})},4487:(We,De,F)=>{"use strict";function y(le){return le}F.d(De,{y:()=>y})},9796:(We,De,F)=>{"use strict";F.d(De,{k:()=>y});const y=Array.isArray||(le=>le&&"number"==typeof le.length)},9489:(We,De,F)=>{"use strict";F.d(De,{z:()=>y});const y=le=>le&&"number"==typeof le.length&&"function"!=typeof le},9105:(We,De,F)=>{"use strict";function y(le){return"function"==typeof le}F.d(De,{m:()=>y})},1555:(We,De,F)=>{"use strict";function y(le){return null!==le&&"object"==typeof le}F.d(De,{K:()=>y})},4072:(We,De,F)=>{"use strict";function y(le){return!!le&&"function"!=typeof le.subscribe&&"function"==typeof le.then}F.d(De,{t:()=>y})},4869:(We,De,F)=>{"use strict";function y(le){return le&&"function"==typeof le.schedule}F.d(De,{K:()=>y})},7444:(We,De,F)=>{"use strict";F.d(De,{s:()=>$});var y=F(5015),le=F(4449),se=F(377),ae=F(6554),ye=F(9489),Y=F(4072),L=F(1555);const $=q=>{if(q&&"function"==typeof q[ae.L])return(q=>B=>{const Z=q[ae.L]();if("function"!=typeof Z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Z.subscribe(B)})(q);if((0,ye.z)(q))return(0,y.V)(q);if((0,Y.t)(q))return(q=>B=>(q.then(Z=>{B.closed||(B.next(Z),B.complete())},Z=>B.error(Z)).then(null,le.z),B))(q);if(q&&"function"==typeof q[se.hZ])return(q=>B=>{const Z=q[se.hZ]();for(;;){let fe;try{fe=Z.next()}catch(ie){return B.error(ie),B}if(fe.done){B.complete();break}if(B.next(fe.value),B.closed)break}return"function"==typeof Z.return&&B.add(()=>{Z.return&&Z.return()}),B})(q);{const Z=`You provided ${(0,L.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Z)}}},5015:(We,De,F)=>{"use strict";F.d(De,{V:()=>y});const y=le=>H=>{for(let se=0,Ee=le.length;se<Ee&&!H.closed;se++)H.next(le[se]);H.complete()}},8276:(We,De,F)=>{"use strict";var y=F(3018);let le=null;function H(){return le}const we=new y.OlP("DocumentToken");let ye=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,y.Yz7)({factory:Y,token:s,providedIn:"platform"}),s})();function Y(){return(0,y.LFG)($)}const L=new y.OlP("Location Initialized");let $=(()=>{class s extends ye{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(i){const o=H().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=H().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,c){q()?this._history.pushState(i,o,c):this.location.hash=c}replaceState(i,o,c){q()?this._history.replaceState(i,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=(0,y.Yz7)({factory:B,token:s,providedIn:"platform"}),s})();function q(){return!!window.history.pushState}function B(){return new $((0,y.LFG)(we))}function Z(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function fe(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function ie(s){return s&&"?"!==s[0]?"?"+s:s}let ne=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,y.Yz7)({factory:Pe,token:s,providedIn:"root"}),s})();function Pe(s){const r=(0,y.LFG)(we).location;return new Me((0,y.LFG)(ye),r&&r.origin||"")}const Ne=new y.OlP("appBaseHref");let Me=(()=>{class s extends ne{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Z(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+ie(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${o}${c}`:o}pushState(i,o,c,h){const m=this.prepareExternalUrl(c+ie(h));this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,h){const m=this.prepareExternalUrl(c+ie(h));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(ye),y.LFG(Ne,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),Le=(()=>{class s extends ne{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=Z(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,c,h){let m=this.prepareExternalUrl(c+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,c,h){let m=this.prepareExternalUrl(c+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(ye),y.LFG(Ne,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),Be=(()=>{class s{constructor(i,o){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=fe(Lt(c)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+ie(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,Lt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",c=null){this._platformStrategy.pushState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ie(o)),c)}replaceState(i,o="",c=null){this._platformStrategy.replaceState(c,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ie(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(c=>c(i,o))}subscribe(i,o,c){return this._subject.subscribe({next:i,error:o,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(ne),y.LFG(ye))},s.normalizeQueryParams=ie,s.joinWithSlash=Z,s.stripTrailingSlash=fe,s.\u0275prov=(0,y.Yz7)({factory:Ue,token:s,providedIn:"root"}),s})();function Ue(){return new Be((0,y.LFG)(ne),(0,y.LFG)(ye))}function Lt(s){return s.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const rr=y.kL8;class ai{}let No=(()=>{class s extends ai{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(rr(o||this.locale)(i)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(y.soG))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),Bs=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new Hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Qt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Qt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(y.s_b),y.Y36(y.Rgc))},s.\u0275dir=y.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class Hr{constructor(){this.$implicit=null,this.ngIf=null}}function Qt(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,y.AaK)(r)}'.`)}let jh=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[{provide:ai,useClass:No}]}),s})();function Cc(s){return"server"===s}let Tc=(()=>{class s{}return s.\u0275prov=(0,y.Yz7)({token:s,providedIn:"root",factory:()=>new Sg((0,y.LFG)(we),window)}),s})();class Sg{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const h=c.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}c=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],c-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Dc(this.window.history)||Dc(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Dc(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class Mo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Mo,le||(le=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null);return null==i?null:function(s){Ac=Ac||document.createElement("a"),Ac.setAttribute("href",s);const r=Ac.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[c,h]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(c.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let Ac,Da=null;const Nc=new y.OlP("TRANSITION_ID"),Ag=[{provide:y.ip1,useFactory:function(s,r,i){return()=>{i.get(y.CZH).donePromise.then(()=>{const o=H(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<c.length;h++)o.remove(c[h])})}},deps:[Nc,we,y.zs3],multi:!0}];class dn{static init(){(0,y.VLi)(new dn)}addToWindow(r){y.dqk.getAngularTestability=(o,c=!0)=>{const h=r.findTestabilityInTree(o,c);if(null==h)throw new Error("Could not find testability for element.");return h},y.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(o=>{const c=y.dqk.getAllAngularTestabilities();let h=c.length,m=!1;const w=function(D){m=m||D,h--,0==h&&o(m)};c.forEach(function(D){D.whenStable(w)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:o?H().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Ng=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();const Oo=new y.OlP("EventManagerPlugins");let Pc=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,c){return this._findPluginFor(o).addEventListener(i,o,c)}addGlobalEventListener(i,o,c){return this._findPluginFor(o).addGlobalEventListener(i,o,c)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const c=this._plugins;for(let h=0;h<c.length;h++){const m=c[h];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(Oo),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class Xu{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const c=H().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,o)}}let zh=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),Po=(()=>{class s extends zh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,c){i.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,c.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(xg),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(i,c,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(xg))}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();function xg(s){H().remove(s)}const Se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function zs(s,r,i){for(let o=0;o<r.length;o++){let c=r[o];Array.isArray(c)?zs(s,c,i):(c=c.replace(At,s),i.push(c))}return i}function H_(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let ko=(()=>{class s{constructor(i,o,c){this.eventManager=i,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ws(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case y.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new Zs(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(i),c}case 1:case y.ifc.ShadowDom:return new cs(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const c=zs(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(Pc),y.LFG(Po),y.LFG(y.AFp))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class Ws{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Se[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,c){if(c){i=c+":"+i;const h=Se[c];h?r.setAttributeNS(h,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const c=Se[o];c?r.removeAttributeNS(c,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,c){c&(y.JOm.DashCase|y.JOm.Important)?r.style.setProperty(i,o,c&y.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&y.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,H_(o)):this.eventManager.addEventListener(r,i,H_(o))}}class Zs extends Ws{constructor(r,i,o,c){super(r),this.component=o;const h=zs(c+"-"+o.id,o.styles,[]);i.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(At,c+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(At,s)}(c+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class cs extends Ws{constructor(r,i,o,c){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=zs(c.id,c.styles,[]);for(let m=0;m<h.length;m++){const w=document.createElement("style");w.textContent=h[m],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let G_=(()=>{class s extends Xu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,c){return i.addEventListener(o,c,!1),()=>this.removeEventListener(i,o,c)}removeEventListener(i,o,c){return i.removeEventListener(o,c)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();const nl=["alt","control","meta","shift"],Z_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Kn={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Or=(()=>{class s extends Xu{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,c){const h=s.parseEventName(o),m=s.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(i,h.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const h=s._normalizeKey(o.pop());let m="";if(nl.forEach(D=>{const A=o.indexOf(D);A>-1&&(o.splice(A,1),m+=D+".")}),m+=h,0!=o.length||0===h.length)return null;const w={};return w.domEventName=c,w.fullKey=m,w}static getEventFullKey(i){let o="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Fg.hasOwnProperty(r)&&(r=Fg[r]))}return Z_[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),nl.forEach(h=>{h!=c&&Kn[h](i)&&(o+=h+".")}),o+=c,o}static eventCallback(i,o,c){return h=>{s.getEventFullKey(h)===i&&c.runGuarded(()=>o(h))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),rl=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,y.Yz7)({factory:function(){return(0,y.LFG)(Qh)},token:s,providedIn:"root"}),s})(),Qh=(()=>{class s extends rl{constructor(i){super(),this._doc=i}sanitize(i,o){if(null==o)return null;switch(i){case y.q3G.NONE:return o;case y.q3G.HTML:return(0,y.qzn)(o,"HTML")?(0,y.z3N)(o):(0,y.EiD)(this._doc,String(o)).toString();case y.q3G.STYLE:return(0,y.qzn)(o,"Style")?(0,y.z3N)(o):o;case y.q3G.SCRIPT:if((0,y.qzn)(o,"Script"))return(0,y.z3N)(o);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.yhl)(o),(0,y.qzn)(o,"URL")?(0,y.z3N)(o):(0,y.mCW)(String(o));case y.q3G.RESOURCE_URL:if((0,y.qzn)(o,"ResourceURL"))return(0,y.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return(0,y.JVY)(i)}bypassSecurityTrustStyle(i){return(0,y.L6k)(i)}bypassSecurityTrustScript(i){return(0,y.eBb)(i)}bypassSecurityTrustUrl(i){return(0,y.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,y.pB0)(i)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=(0,y.Yz7)({factory:function(){return function(s){return new Qh(s.get(we))}((0,y.LFG)(y.gxx))},token:s,providedIn:"root"}),s})();const Q_=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function(){Mo.makeCurrent(),dn.init()},multi:!0},{provide:we,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),Lo=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:Oo,useClass:G_,multi:!0,deps:[we,y.R0b,y.Lbi]},{provide:Oo,useClass:Or,multi:!0,deps:[we]},[],{provide:ko,useClass:ko,deps:[Pc,Po,y.AFp]},{provide:y.FYo,useExisting:ko},{provide:zh,useExisting:Po},{provide:Po,useClass:Po,deps:[we]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:Pc,useClass:Pc,deps:[Oo,y.R0b]},{provide:class{},useClass:Ng,deps:[]},[]];let qi=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:y.AFp,useValue:i.appId},{provide:Nc,useExisting:y.AFp},Ag]}}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(s,12))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:Lo,imports:[jh,y.hGG]}),s})();"undefined"!=typeof window&&window;var fn=F(4402),Wr=F(7574),sf=F(9796),dt=F(8002),$c=F(1555);function Vo(s,r){return new Wr.y(i=>{const o=s.length;if(0===o)return void i.complete();const c=new Array(o);let h=0,m=0;for(let w=0;w<o;w++){const D=(0,fn.D)(s[w]);let A=!1;i.add(D.subscribe({next:x=>{A||(A=!0,m++),c[w]=x},error:x=>i.error(x),complete:()=>{h++,(h===o||!A)&&(m===o&&i.next(r?r.reduce((x,O,j)=>(x[O]=c[j],x),{}):c),i.complete())}}))}})}let Hc=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(y.Qsj),y.Y36(y.SBq))},s.\u0275dir=y.lG2({type:s}),s})(),Si=(()=>{class s extends Hc{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=y.n5z(s)))(o||s)}}(),s.\u0275dir=y.lG2({type:s,features:[y.qOj]}),s})();const Ai=new y.OlP("NgValueAccessor"),Gc={provide:Ai,useExisting:(0,y.Gpc)(()=>ds),multi:!0},$g=new y.OlP("CompositionEventMode");let ds=(()=>{class s extends Hc{constructor(i,o,c){super(i,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=H()?H().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36($g,8))},s.\u0275dir=y.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&y.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[y._Bn([Gc]),y.qOj]}),s})();const Pn=new y.OlP("NgValidators"),hs=new y.OlP("NgAsyncValidators");function tv(s){return null!=s}function zc(s){const r=(0,y.QGY)(s)?(0,fn.D)(s):s;return(0,y.CqO)(r),r}function nv(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function Wc(s,r){return r.map(i=>i(s))}function Zc(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function Kc(s){return null!=s?function(s){if(!s)return null;const r=s.filter(tv);return 0==r.length?null:function(i){return nv(Wc(i,r))}}(Zc(s)):null}function Qc(s){return null!=s?function(s){if(!s)return null;const r=s.filter(tv);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,sf.k)(r))return Vo(r,null);if((0,$c.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Vo(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Vo(s=1===s.length&&(0,sf.k)(s[0])?s[0]:s,null).pipe((0,dt.U)(i=>r(...i)))}return Vo(s,null)}(Wc(i,r).map(zc)).pipe((0,dt.U)(nv))}}(Zc(s)):null}function rv(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function eo(s){return s?Array.isArray(s)?s:[s]:[]}function ul(s,r){return Array.isArray(s)?s.includes(r):s===r}function iv(s,r){const i=eo(r);return eo(s).forEach(c=>{ul(i,c)||i.push(c)}),i}function Oa(s,r){return eo(r).filter(i=>!ul(s,i))}let sv=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Kc(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Qc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.lG2({type:s}),s})(),Mt=(()=>{class s extends sv{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=y.n5z(s)))(o||s)}}(),s.\u0275dir=y.lG2({type:s,features:[y.qOj]}),s})();class hi extends sv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Pr=(()=>{class s extends class{constructor(r){this._cd=r}is(r){var i,o,c;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===c?void 0:c[r])}}{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(hi,2))},s.\u0275dir=y.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&y.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[y.qOj]}),s})();function Pa(s,r){(function(s,r){const i=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(rv(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(rv(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const c=()=>s.updateValueAndValidity();Jc(r._rawValidators,c),Jc(r._rawAsyncValidators,c)})(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&ps(s,r)})}(s,r),function(s,r){const i=(o,c)=>{r.valueAccessor.writeValue(o),c&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&ps(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function Jc(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function ps(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function gs(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Ni="VALID",ms="INVALID",Kr="PENDING",La="DISABLED";function gf(s){return(Go(s)?s.validators:s)||null}function dl(s){return Array.isArray(s)?Kc(s):s||null}function mf(s,r){return(Go(r)?r.asyncValidators:s)||null}function hl(s){return Array.isArray(s)?Qc(s):s||null}function Go(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class ys{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=dl(this._rawValidators),this._composedAsyncValidatorFn=hl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Ni}get invalid(){return this.status===ms}get pending(){return this.status==Kr}get disabled(){return this.status===La}get enabled(){return this.status!==La}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=dl(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=hl(r)}addValidators(r){this.setValidators(iv(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(iv(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Oa(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Oa(r,this._rawAsyncValidators))}hasValidator(r){return ul(this._rawValidators,r)}hasAsyncValidator(r){return ul(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Kr,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=La,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Ni,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ni||this.status===Kr)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?La:Ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Kr,this._hasOwnPendingAsyncValidator=!0;const i=zc(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(c=>{o=o instanceof bn?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof zg&&o.at(c)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?La:this.errors?ms:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kr)?Kr:this._anyControlsHaveStatus(ms)?ms:Ni}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Go(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Va extends ys{constructor(r=null,i,o){super(gf(i),mf(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){gs(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){gs(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class bn extends ys{constructor(r,i,o){super(gf(i),mf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof Va?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((c,h)=>{o=i(o,c,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class zg extends ys{constructor(r,i,o){super(gf(i),mf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,c)=>{o.reset(r[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof Va?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const vs={provide:hi,useExisting:(0,y.Gpc)(()=>td)},Es=(()=>Promise.resolve(null))();let td=(()=>{class s extends hi{constructor(i,o,c,h){super(),this.control=new Va,this._registered=!1,this.update=new y.vpe,this._parent=i,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=function(s,r){if(!r)return null;let i,o,c;return Array.isArray(r),r.forEach(h=>{h.constructor===ds?i=h:function(s){return Object.getPrototypeOf(s.constructor)===Si}(h)?o=h:c=h}),c||o||i||null}(0,h)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){Es.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const o=i.isDisabled.currentValue,c=""===o||o&&"false"!==o;Es.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(Mt,9),y.Y36(Pn,10),y.Y36(hs,10),y.Y36(Ai,10))},s.\u0275dir=y.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([vs]),y.qOj,y.TTD]}),s})(),Zg=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),s})(),Tf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[[Zg]]}),s})(),vb=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Tf]}),s})();var st=F(5917),kr=F(9765),hd=F(7971);class gi extends kr.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new hd.N;return this._value}next(r){super.next(this._value=r)}}var Df=F(4869),Ri=F(7393);class Cv extends Ri.L{notifyNext(r,i,o,c,h){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Iv extends Ri.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var om=F(7444);function ml(s,r,i,o,c=new Iv(s,i,o)){if(!c.closed)return r instanceof Wr.y?r.subscribe(c):(0,om.s)(r)(c)}var fd=F(6693);const Ha={};class Cn{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new pd(r,this.resultSelector))}}class pd extends Cv{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Ha),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(ml(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const c=this.values,m=this.toRespond?c[o]===Ha?--this.toRespond:this.toRespond:0;c[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const zi=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var Ga=F(3282);function yl(...s){return(0,Ga.J)(1)((0,st.of)(...s))}var Wi=F(9193);function um(s){return new Wr.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,fn.D)(i):(0,Wi.c)()).subscribe(r)})}var lm=F(2441),_l=F(5345);function In(s,r){return"function"==typeof r?i=>i.pipe(In((o,c)=>(0,fn.D)(s(o,c)).pipe((0,dt.U)((h,m)=>r(o,h,c,m))))):i=>i.lift(new qa(s))}class qa{constructor(r){this.project=r}call(r,i){return i.subscribe(new _r(r,this.project))}}class _r extends _l.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new _l.IY(this),c=this.destination;c.add(o),this.innerSubscription=(0,_l.ft)(r,o),this.innerSubscription!==o&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const Sf=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function vl(s){return r=>0===s?(0,Wi.c)():r.lift(new qt(s))}class qt{constructor(r){if(this.total=r,this.total<0)throw new Sf}call(r,i){return i.subscribe(new Wo(r,this.total))}}class Wo extends Ri.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function io(...s){const r=s[s.length-1];return(0,Df.K)(r)?(s.pop(),i=>yl(s,i,r)):i=>yl(s,i)}function Zo(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new Dv(s,r,i))}}class Dv{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new Zi(r,this.accumulator,this.seed,this.hasSeed))}}class Zi extends Ri.L{constructor(r,i,o,c){super(r),this.accumulator=i,this._seed=o,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)}}function Qr(s,r){return function(o){return o.lift(new Af(s,r))}}class Af{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new dm(r,this.predicate,this.thisArg))}}class dm extends Ri.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}function Ki(s){return function(i){const o=new Sv(s),c=i.lift(o);return o.caught=c}}class Sv{constructor(r){this.selector=r}call(r,i){return i.subscribe(new Av(r,this.selector,this.caught))}}class Av extends _l.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new _l.IY(this);this.add(o);const c=(0,_l.ft)(i,o);c!==o&&this.add(c)}}}var vr=F(9773);function za(s,r){return(0,vr.zg)(s,r,1)}function C(s){return function(i){return 0===s?(0,Wi.c)():i.lift(new _(s))}}class _{constructor(r){if(this.total=r,this.total<0)throw new Sf}call(r,i){return i.subscribe(new E(r,this.total))}}class E extends Ri.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,c=this.count++;i.length<o?i.push(r):i[c%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,c=this.ring;for(let h=0;h<o;h++){const m=i++%o;r.next(c[m])}}r.complete()}}function T(s=K){return r=>r.lift(new R(s))}class R{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new P(r,this.errorFactory))}}class P extends Ri.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function K(){return new zi}function ve(s=null){return r=>r.lift(new Fe(s))}class Fe{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new ze(r,this.defaultValue))}}class ze extends Ri.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var lt=F(4487);function on(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Qr((c,h)=>s(c,h,o)):lt.y,vl(1),i?ve(r):T(()=>new zi))}var _n=F(3342),Ko=F(1307),Fr=F(5319);class hm{constructor(r){this.callback=r}call(r,i){return i.subscribe(new fm(r,this.callback))}}class fm extends Ri.L{constructor(r,i){super(r),this.add(new Fr.w(i))}}class yi{constructor(r,i){this.id=r,this.url=i}}class Nf extends yi{constructor(r,i,o="imperative",c=null){super(r,i),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yo extends yi{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class md extends yi{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pm extends yi{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nv extends yi{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends yi{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yi extends yi{constructor(r,i,o,c,h){super(r,i),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xx extends yi{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mx extends yi{constructor(r,i,o,c){super(r,i),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rv{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class US{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oo{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xv{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mv{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BS{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ov{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const It="primary";class wb{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function El(s){return new wb(s)}const gm="ngNavigationCancelingError";function Rf(s){const r=Error("NavigationCancelingError: "+s);return r[gm]=!0,r}function Ox(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const c={};for(let h=0;h<o.length;h++){const m=o[h],w=s[h];if(m.startsWith(":"))c[m.substring(1)]=w;else if(m!==w.path)return null}return{consumed:s.slice(0,o.length),posParams:c}}function Qi(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let c;for(let h=0;h<i.length;h++)if(c=i[h],!Pv(s[c],r[c]))return!1;return!0}function Pv(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((c,h)=>o[h]===c)}return s===r}function Cb(s){return Array.prototype.concat.apply([],s)}function mm(s){return s.length>0?s[s.length-1]:null}function Er(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function ao(s){return(0,y.CqO)(s)?s:(0,y.QGY)(s)?(0,fn.D)(Promise.resolve(s)):(0,st.of)(s)}const $S={exact:function Lv(s,r,i){if(!wl(s.segments,r.segments)||!xf(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!Lv(s.children[o],r.children[o],i))return!1;return!0},subset:Tb},Ib={exact:function(s,r){return Qi(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>Pv(s[i],r[i]))},ignored:()=>!0};function kv(s,r,i){return $S[i.paths](s.root,r.root,i.matrixParams)&&Ib[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function Tb(s,r,i){return Db(s,r,r.segments,i)}function Db(s,r,i,o){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!wl(c,i)||r.hasChildren()||!xf(c,i,o))}if(s.segments.length===i.length){if(!wl(s.segments,i)||!xf(s.segments,i,o))return!1;for(const c in r.children)if(!s.children[c]||!Tb(s.children[c],r.children[c],o))return!1;return!0}{const c=i.slice(0,s.segments.length),h=i.slice(s.segments.length);return!!(wl(s.segments,c)&&xf(s.segments,c,o)&&s.children[It])&&Db(s.children[It],r,h,o)}}function xf(s,r,i){return r.every((o,c)=>Ib[i](s[c].parameters,o.parameters))}class Wa{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=El(this.queryParams)),this._queryParamMap}toString(){return Ab.serialize(this)}}class Tt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Er(i,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mf(this)}}class _d{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=El(this.parameters)),this._parameterMap}toString(){return Em(this)}}function wl(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class Uv{}class Bv{parse(r){const i=new kx(r);return new Wa(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${bl(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(c=>`${Cl(i)}=${Cl(c)}`).join("&"):`${Cl(i)}=${Cl(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const Ab=new Bv;function Mf(s){return s.segments.map(r=>Em(r)).join("/")}function bl(s,r){if(!s.hasChildren())return Mf(s);if(r){const i=s.children[It]?bl(s.children[It],!1):"",o=[];return Er(s.children,(c,h)=>{h!==It&&o.push(`${h}:${bl(c,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return Er(s.children,(o,c)=>{c===It&&(i=i.concat(r(o,c)))}),Er(s.children,(o,c)=>{c!==It&&(i=i.concat(r(o,c)))}),i}(s,(o,c)=>c===It?[bl(s.children[It],!1)]:[`${c}:${bl(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[It]?`${Mf(s)}/${i[0]}`:`${Mf(s)}/(${i.join("//")})`}}function jv(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cl(s){return jv(s).replace(/%3B/gi,";")}function vm(s){return jv(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vd(s){return decodeURIComponent(s)}function $v(s){return vd(s.replace(/\+/g,"%20"))}function Em(s){return`${vm(s.path)}${function(s){return Object.keys(s).map(r=>`;${vm(r)}=${vm(s[r])}`).join("")}(s.parameters)}`}const Nb=/^[^\/()?;=#]+/;function wm(s){const r=s.match(Nb);return r?r[0]:""}const GS=/^[^=?&#]+/,Hv=/^[^?&#]+/;class kx{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[It]=new Tt(r,i)),o}parseSegment(){const r=wm(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new _d(vd(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=wm(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const c=wm(this.remaining);c&&(o=c,this.capture(o))}r[vd(i)]=vd(o)}parseQueryParam(r){const i=function(s){const r=s.match(GS);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(Hv);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const c=$v(i),h=$v(o);if(r.hasOwnProperty(c)){let m=r[c];Array.isArray(m)||(m=[m],r[c]=m),m.push(h)}else r[c]=h}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=wm(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=It);const m=this.parseChildren();i[h]=1===Object.keys(m).length?m[It]:new Tt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Gv{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=qv(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=qv(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=bm(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return bm(r,this._root).map(i=>i.value)}}function qv(s,r){if(s===r.value)return r;for(const i of r.children){const o=qv(s,i);if(o)return o}return null}function bm(s,r){if(s===r.value)return[r];for(const i of r.children){const o=bm(s,i);if(o.length)return o.unshift(r),o}return[]}class Qo{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Pf(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class Ji extends Gv{constructor(r,i){super(r),this.snapshot=i,Wv(this,r)}toString(){return this.snapshot.toString()}}function Mb(s,r){const i=function(s,r){const m=new Cm([],{},{},"",{},It,r,null,s.root,-1,{});return new zv("",new Qo(m,[]))}(s,r),o=new gi([new _d("",{})]),c=new gi({}),h=new gi({}),m=new gi({}),w=new gi(""),D=new Ed(o,c,m,w,h,It,r,i.root);return D.snapshot=i.root,new Ji(new Qo(D,[]),i)}class Ed{constructor(r,i,o,c,h,m,w,D){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=m,this.component=w,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(r=>El(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(r=>El(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pb(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const c=i[o],h=i[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(h.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Cm{constructor(r,i,o,c,h,m,w,D,A,x,O){this.url=r,this.params=i,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=m,this.component=w,this.routeConfig=D,this._urlSegment=A,this._lastPathIndex=x,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=El(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=El(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zv extends Gv{constructor(r,i){super(i),this.url=r,Wv(this,i)}toString(){return kb(this._root)}}function Wv(s,r){r.value._routerState=s,r.children.forEach(i=>Wv(s,i))}function kb(s){const r=s.children.length>0?` { ${s.children.map(kb).join(", ")} } `:"";return`${s.value}${r}`}function Zv(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Qi(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),Qi(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!Qi(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),Qi(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function ht(s,r){return Qi(s.params,r.params)&&function(s,r){return wl(s,r)&&s.every((i,o)=>Qi(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||ht(s.parent,r.parent))}function kf(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(o=>{for(const c of i.children)if(s.shouldReuseRoute(o.value,c.value.snapshot))return kf(s,o,c);return kf(s,o)})}(s,r,i);return new Qo(o,c)}{if(s.shouldAttach(r.value)){const h=s.retrieve(r.value);if(null!==h){const m=h.route;return Ff(r,m),m}}const o=function(s){return new Ed(new gi(s.url),new gi(s.params),new gi(s.queryParams),new gi(s.fragment),new gi(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(h=>kf(s,h));return new Qo(o,c)}}function Ff(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Ff(s.children[i],r.children[i])}function wd(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function xi(s){return"object"==typeof s&&null!=s&&s.outlets}function Lf(s,r,i,o,c){let h={};return o&&Er(o,(m,w)=>{h[w]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new Wa(i.root===s?r:Kv(i.root,s,r),h,c)}function Kv(s,r,i){const o={};return Er(s.children,(c,h)=>{o[h]=c===r?i:Kv(c,r,i)}),new Tt(s.segments,o)}class Im{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&wd(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find(xi);if(c&&c!==mm(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tm{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function Vf(s,r,i){if(s||(s=new Tt([],{})),0===s.segments.length&&s.hasChildren())return bd(s,r,i);const o=function(s,r,i){let o=0,c=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(o>=i.length)return h;const m=s.segments[c],w=i[o];if(xi(w))break;const D=`${w}`,A=o<i.length-1?i[o+1]:null;if(c>0&&void 0===D)break;if(D&&A&&"object"==typeof A&&void 0===A.outlets){if(!Ub(D,A,m))return h;o+=2}else{if(!Ub(D,{},m))return h;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(s,r,i),c=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const h=new Tt(s.segments.slice(0,o.pathIndex),{});return h.children[It]=new Tt(s.segments.slice(o.pathIndex),s.children),bd(h,0,c)}return o.match&&0===c.length?new Tt(s.segments,{}):o.match&&!s.hasChildren()?Yv(s,r,i):o.match?bd(s,0,c):Yv(s,r,i)}function bd(s,r,i){if(0===i.length)return new Tt(s.segments,{});{const o=function(s){return xi(s[0])?s[0].outlets:{[It]:s}}(i),c={};return Er(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[m]=Vf(s.children[m],r,h))}),Er(s.children,(h,m)=>{void 0===o[m]&&(c[m]=h)}),new Tt(s.segments,c)}}function Yv(s,r,i){const o=s.segments.slice(0,r);let c=0;for(;c<i.length;){const h=i[c];if(xi(h)){const D=Vb(h.outlets);return new Tt(o,D)}if(0===c&&wd(i[0])){o.push(new _d(s.segments[r].path,WS(i[0]))),c++;continue}const m=xi(h)?h.outlets[It]:`${h}`,w=c<i.length-1?i[c+1]:null;m&&w&&wd(w)?(o.push(new _d(m,WS(w))),c+=2):(o.push(new _d(m,{})),c++)}return new Tt(o,{})}function Vb(s){const r={};return Er(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=Yv(new Tt([],{}),0,i))}),r}function WS(s){const r={};return Er(s,(i,o)=>r[o]=`${i}`),r}function Ub(s,r,i){return s==i.path&&Qi(r,i.parameters)}class Bb{constructor(r,i,o,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=c}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),Zv(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const c=Pf(i);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,c[m],o),delete c[m]}),Er(c,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,i,o){const c=r.value,h=i?i.value:null;if(c===h)if(c.component){const m=o.getContext(c.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else h&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const c=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:h})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),c=o&&r.value.component?o.children:i,h=Pf(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const c=Pf(i);r.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],o),this.forwardEvent(new BS(h.value.snapshot))}),r.children.length&&this.forwardEvent(new xv(r.value.snapshot))}activateRoutes(r,i,o){const c=r.value,h=i?i.value:null;if(Zv(c),c===h)if(c.component){const m=o.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(c.component){const m=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const w=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),m.children.onOutletReAttached(w.contexts),m.attachRef=w.componentRef,m.route=w.route.value,m.outlet&&m.outlet.attach(w.componentRef,w.route.value),Qv(w.route)}else{const w=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),D=w?w.module.componentFactoryResolver:null;m.attachRef=null,m.route=c,m.resolver=D,m.outlet&&m.outlet.activateWith(c,D),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function Qv(s){Zv(s.value),s.children.forEach(Qv)}class Uf{constructor(r,i){this.routes=r,this.module=i}}function Il(s){return"function"==typeof s}function Cd(s){return s instanceof Wa}const Sm=Symbol("INITIAL_VALUE");function Am(){return In(s=>function(...s){let r,i;return(0,Df.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,sf.k)(s[0])&&(s=s[0]),(0,fd.n)(s,i).lift(new Cn(r))}(s.map(r=>r.pipe(vl(1),io(Sm)))).pipe(Zo((r,i)=>{let o=!1;return i.reduce((c,h,m)=>c!==Sm?c:(h===Sm&&(o=!0),o||!1!==h&&m!==i.length-1&&!Cd(h)?c:h),r)},Sm),Qr(r=>r!==Sm),(0,dt.U)(r=>Cd(r)?r:!0===r),vl(1)))}let KS=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&y._UZ(0,"router-outlet")},directives:function(){return[Vm]},encapsulation:2}),s})();function YS(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];Za(o,Jv(r,o))}}function Za(s,r){s.children&&YS(s.children,r)}function Jv(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function Xv(s){const r=s.children&&s.children.map(Xv),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==It&&(i.component=KS),i}function Mi(s){return s.outlet||It}function Nm(s,r){const i=s.filter(o=>Mi(o)===r);return i.push(...s.filter(o=>Mi(o)!==r)),i}const eE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Id(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},eE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||Ox)(i,s,r);if(!h)return Object.assign({},eE);const m={};Er(h.posParams,(D,A)=>{m[A]=D.path});const w=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:w,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function Rm(s,r,i,o,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>Td(s,r,o)&&Mi(o)!==It)}(s,i,o)){const m=new Tt(r,function(s,r,i,o){const c={};c[It]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const h of i)if(""===h.path&&Mi(h)!==It){const m=new Tt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,c[Mi(h)]=m}return c}(s,r,o,new Tt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>Td(s,r,o))}(s,i,o)){const m=new Tt(s.segments,function(s,r,i,o,c,h){const m={};for(const w of o)if(Td(s,i,w)&&!c[Mi(w)]){const D=new Tt([],{});D._sourceSegment=s,D._segmentIndexShift="legacy"===h?s.segments.length:r.length,m[Mi(w)]=D}return Object.assign(Object.assign({},c),m)}(s,r,i,o,s.children,c));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const h=new Tt(s.segments,s.children);return h._sourceSegment=s,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:i}}function Td(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function $b(s,r,i,o){return!!(Mi(s)===o||o!==It&&Td(r,i,s))&&("**"===s.path||Id(r,s,i).matched)}function tE(s,r,i){return 0===r.length&&!s.children[i]}class Bf{constructor(r){this.segmentGroup=r||null}}class Hb{constructor(r){this.urlTree=r}}function Ya(s){return new Wr.y(r=>r.error(new Bf(s)))}function Tl(s){return new Wr.y(r=>r.error(new Hb(s)))}function nE(s){return new Wr.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Sd{constructor(r,i,o,c,h){this.configLoader=i,this.urlSerializer=o,this.urlTree=c,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(y.h0i)}apply(){const r=Rm(this.urlTree.root,[],[],this.config).segmentGroup,i=new Tt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,It).pipe((0,dt.U)(h=>this.createUrlTree(xm(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ki(h=>{if(h instanceof Hb)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Bf?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,It).pipe((0,dt.U)(c=>this.createUrlTree(xm(c),r.queryParams,r.fragment))).pipe(Ki(c=>{throw c instanceof Bf?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const c=r.segments.length>0?new Tt([],{[It]:r}):r;return new Wa(c,i,o)}expandSegmentGroup(r,i,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,dt.U)(h=>new Tt([],h))):this.expandSegment(r,o,i,o.segments,c,!0)}expandChildren(r,i,o){const c=[];for(const h of Object.keys(o.children))"primary"===h?c.unshift(h):c.push(h);return(0,fn.D)(c).pipe(za(h=>{const m=o.children[h],w=Nm(i,h);return this.expandSegmentGroup(r,w,m,h).pipe((0,dt.U)(D=>({segment:D,outlet:h})))}),Zo((h,m)=>(h[m.outlet]=m.segment,h),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Qr((c,h)=>s(c,h,o)):lt.y,C(1),i?ve(r):T(()=>new zi))}())}expandSegment(r,i,o,c,h,m){return(0,fn.D)(o).pipe(za(w=>this.expandSegmentAgainstRoute(r,i,o,w,c,h,m).pipe(Ki(A=>{if(A instanceof Bf)return(0,st.of)(null);throw A}))),on(w=>!!w),Ki((w,D)=>{if(w instanceof zi||"EmptyError"===w.name){if(tE(i,c,h))return(0,st.of)(new Tt([],{}));throw new Bf(i)}throw w}))}expandSegmentAgainstRoute(r,i,o,c,h,m,w){return $b(c,i,h,m)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,h,m):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m):Ya(i):Ya(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,c,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,c){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Tl(h):this.lineralizeSegments(o,h).pipe((0,vr.zg)(m=>{const w=new Tt(m,{});return this.expandSegment(r,w,i,m,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,c,h,m){const{matched:w,consumedSegments:D,lastChild:A,positionalParamSegments:x}=Id(i,c,h);if(!w)return Ya(i);const O=this.applyRedirectCommands(D,c.redirectTo,x);return c.redirectTo.startsWith("/")?Tl(O):this.lineralizeSegments(c,O).pipe((0,vr.zg)(j=>this.expandSegment(r,i,o,j.concat(h.slice(A)),m,!1)))}matchSegmentAgainstRoute(r,i,o,c,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,st.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,dt.U)(j=>(o._loadedConfig=j,new Tt(c,{})))):(0,st.of)(new Tt(c,{}));const{matched:m,consumedSegments:w,lastChild:D}=Id(i,o,c);if(!m)return Ya(i);const A=c.slice(D);return this.getChildConfig(r,o,c).pipe((0,vr.zg)(O=>{const j=O.module,G=O.routes,{segmentGroup:ee,slicedSegments:be}=Rm(i,w,A,G),xe=new Tt(ee.segments,ee.children);if(0===be.length&&xe.hasChildren())return this.expandChildren(j,G,xe).pipe((0,dt.U)(_t=>new Tt(w,_t)));if(0===G.length&&0===be.length)return(0,st.of)(new Tt(w,{}));const tt=Mi(o)===h;return this.expandSegment(j,xe,G,be,tt?It:h,!0).pipe((0,dt.U)(rt=>new Tt(w.concat(rt.segments),rt.children)))}))}getChildConfig(r,i,o){return i.children?(0,st.of)(new Uf(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,st.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,vr.zg)(c=>{return c?this.configLoader.load(r.injector,i).pipe((0,dt.U)(h=>(i._loadedConfig=h,h))):(s=i,new Wr.y(r=>r.error(Rf(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,st.of)(new Uf([],r))}runCanLoadGuards(r,i,o){const c=i.canLoad;if(!c||0===c.length)return(0,st.of)(!0);const h=c.map(m=>{const w=r.get(m);let D;if((s=w)&&Il(s.canLoad))D=w.canLoad(i,o);else{if(!Il(w))throw new Error("Invalid CanLoad guard");D=w(i,o)}var s;return ao(D)});return(0,st.of)(h).pipe(Am(),(0,_n.b)(m=>{if(!Cd(m))return;const w=Rf(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw w.url=m,w}),(0,dt.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],c=i.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return(0,st.of)(o);if(c.numberOfChildren>1||!c.children[It])return nE(r.redirectTo);c=c.children[It]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,c){const h=this.createSegmentGroup(r,i.root,o,c);return new Wa(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return Er(r,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const w=c.substring(1);o[h]=i[w]}else o[h]=c}),o}createSegmentGroup(r,i,o,c){const h=this.createSegments(r,i.segments,o,c);let m={};return Er(i.children,(w,D)=>{m[D]=this.createSegmentGroup(r,w,o,c)}),new Tt(h,m)}createSegments(r,i,o,c){return i.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,c):this.findOrReturn(h,o))}findPosParam(r,i,o){const c=o[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let o=0;for(const c of i){if(c.path===r.path)return i.splice(o),c;o++}return r}}function xm(s){const r={};for(const o of Object.keys(s.children)){const h=xm(s.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(s){if(1===s.numberOfChildren&&s.children[It]){const r=s.children[It];return new Tt(s.segments.concat(r.segments),r.children)}return s}(new Tt(s.segments,r))}class Mm{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Ad{constructor(r,i){this.component=r,this.route=i}}function qb(s,r,i){const o=s._root;return km(o,r?r._root:null,i,[o.value])}function Pm(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function km(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Pf(r);return s.children.forEach(m=>{(function(s,r,i,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=s.value,m=r?r.value:null,w=i?i.getContext(s.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!wl(s.url,r.url);case"pathParamsOrQueryParamsChange":return!wl(s.url,r.url)||!Qi(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ht(s,r)||!Qi(s.queryParams,r.queryParams);case"paramsChange":default:return!ht(s,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?c.canActivateChecks.push(new Mm(o)):(h.data=m.data,h._resolvedData=m._resolvedData),km(s,r,h.component?w?w.children:null:i,o,c),D&&w&&w.outlet&&w.outlet.isActivated&&c.canDeactivateChecks.push(new Ad(w.outlet.component,m))}else m&&$f(r,w,c),c.canActivateChecks.push(new Mm(o)),km(s,null,h.component?w?w.children:null:i,o,c)})(m,h[m.value.outlet],i,o.concat([m.value]),c),delete h[m.value.outlet]}),Er(h,(m,w)=>$f(m,i.getContext(w),c)),c}function $f(s,r,i){const o=Pf(s),c=s.value;Er(o,(h,m)=>{$f(h,c.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new Ad(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class Yb{}function rA(s){return new Wr.y(r=>r.error(s))}class rE{constructor(r,i,o,c,h,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const r=Rm(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,It);if(null===i)return null;const o=new Cm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new Qo(o,i),h=new zv(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const i=r.value,o=Pb(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const h of Object.keys(i.children)){const m=i.children[h],w=Nm(r,h),D=this.processSegmentGroup(w,m,h);if(null===D)return null;o.push(...D)}const c=Jb(o);return c.sort((r,i)=>r.value.outlet===It?-1:i.value.outlet===It?1:r.value.outlet.localeCompare(i.value.outlet)),c}processSegment(r,i,o,c){for(const h of r){const m=this.processSegmentAgainstRoute(h,i,o,c);if(null!==m)return m}return tE(i,o,c)?[]:null}processSegmentAgainstRoute(r,i,o,c){if(r.redirectTo||!$b(r,i,o,c))return null;let h,m=[],w=[];if("**"===r.path){const G=o.length>0?mm(o).parameters:{};h=new Cm(o,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eC(r),Mi(r),r.component,r,Xb(i),iE(i)+o.length,tC(r))}else{const G=Id(i,r,o);if(!G.matched)return null;m=G.consumedSegments,w=o.slice(G.lastChild),h=new Cm(m,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eC(r),Mi(r),r.component,r,Xb(i),iE(i)+m.length,tC(r))}const D=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:x}=Rm(i,m,w,D.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);var s;if(0===x.length&&A.hasChildren()){const G=this.processChildren(D,A);return null===G?null:[new Qo(h,G)]}if(0===D.length&&0===x.length)return[new Qo(h,[])];const O=Mi(r)===c,j=this.processSegment(D,A,x,O?It:c);return null===j?null:[new Qo(h,j)]}}function oA(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Jb(s){const r=[],i=new Set;for(const o of s){if(!oA(o)){r.push(o);continue}const c=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...o.children),i.add(c)):r.push(o)}for(const o of i){const c=Jb(o.children);r.push(new Qo(o.value,c))}return r.filter(o=>!i.has(o))}function Xb(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function iE(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function eC(s){return s.data||{}}function tC(s){return s.resolve||{}}function oE(s){return In(r=>{const i=s(r);return i?(0,fn.D)(i).pipe((0,dt.U)(()=>r)):(0,st.of)(r)})}class iC extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const aE=new y.OlP("ROUTES");class sC{constructor(r,i,o,c){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,dt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=h.create(r);return new Uf(Cb(m.injector.get(aE,void 0,y.XFs.Self|y.XFs.Optional)).map(Xv),m)}),Ki(h=>{throw i._loader$=void 0,h}));return i._loader$=new lm.c(c,()=>new kr.xQ).pipe((0,Ko.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,fn.D)(this.loader.load(r)):ao(r()).pipe((0,vr.zg)(i=>i instanceof y.YKP?(0,st.of)(i):(0,fn.D)(this.compiler.compileModuleAsync(i))))}}class cA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qa,this.attachRef=null}}class Qa{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cA,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class hA{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Fm(s){throw s}function uE(s,r,i){return r.parse("/")}function oC(s,r){return(0,st.of)(null)}const lE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class s{constructor(i,o,c,h,m,w,D,A){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=c,this.location=h,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kr.xQ,this.errorHandler=Fm,this.malformedUriErrorHandler=uE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oC,afterPreactivation:oC},this.urlHandlingStrategy=new hA,this.routeReuseStrategy=new iC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(y.h0i),this.console=m.get(y.c2e);const j=m.get(y.R0b);this.isNgZoneEnabled=j instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new Wa(new Tt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sC(w,D,G=>this.triggerEvent(new Rv(G)),G=>this.triggerEvent(new US(G))),this.routerState=Mb(this.currentUrlTree,this.rootComponentType),this.transitions=new gi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Qr(c=>0!==c.id),(0,dt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),In(c=>{let h=!1,m=!1;return(0,st.of)(c).pipe((0,_n.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),In(w=>{const D=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString(),A=("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl);if(Lm(w.source)&&(this.browserUrlTree=w.rawUrl),A)return(0,st.of)(w).pipe(In(x=>{const O=this.transitions.getValue();return o.next(new Nf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),O!==this.transitions.getValue()?Wi.E:Promise.resolve(x)}),function(s,r,i,o){return In(c=>function(s,r,i,o,c){return new Sd(s,r,i,o,c).apply()}(s,r,i,c.extractedUrl,o).pipe((0,dt.U)(h=>Object.assign(Object.assign({},c),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(s,r,i,o,c){return(0,vr.zg)(h=>function(s,r,i,o,c="emptyOnly",h="legacy"){try{const m=new rE(s,r,i,o,c,h).recognize();return null===m?rA(new Yb):(0,st.of)(m)}catch(m){return rA(m)}}(s,r,h.urlAfterRedirects,i(h.urlAfterRedirects),o,c).pipe((0,dt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const O=new Nv(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(O)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:j,source:G,restoredState:ee,extras:be}=w,xe=new Nf(O,this.serializeUrl(j),G,ee);o.next(xe);const tt=Mb(j,this.rootComponentType).snapshot;return(0,st.of)(Object.assign(Object.assign({},w),{targetSnapshot:tt,urlAfterRedirects:j,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),Wi.E}),oE(w=>{const{targetSnapshot:D,id:A,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:G}}=w;return this.hooks.beforePreactivation(D,{navigationId:A,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!G})}),(0,_n.b)(w=>{const D=new so(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),(0,dt.U)(w=>Object.assign(Object.assign({},w),{guards:qb(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(s,r){return(0,vr.zg)(i=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:m}}=i;return 0===m.length&&0===h.length?(0,st.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,fn.D)(s).pipe((0,vr.zg)(c=>function(s,r,i,o,c){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,st.of)(!0);const m=h.map(w=>{const D=Pm(w,r,c);let A;if(function(s){return s&&Il(s.canDeactivate)}(D))A=ao(D.canDeactivate(s,r,i,o));else{if(!Il(D))throw new Error("Invalid CanDeactivate guard");A=ao(D(s,r,i,o))}return A.pipe(on())});return(0,st.of)(m).pipe(Am())}(c.component,c.route,i,r,o)),on(c=>!0!==c,!0))}(m,o,c,s).pipe((0,vr.zg)(w=>w&&function(s){return"boolean"==typeof s}(w)?function(s,r,i,o){return(0,fn.D)(r).pipe(za(c=>yl(function(s,r){return null!==s&&r&&r(new oo(s)),(0,st.of)(!0)}(c.route.parent,o),function(s,r){return null!==s&&r&&r(new Mv(s)),(0,st.of)(!0)}(c.route,o),function(s,r,i){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>um(()=>{const w=m.guards.map(D=>{const A=Pm(D,m.node,i);let x;if(function(s){return s&&Il(s.canActivateChild)}(A))x=ao(A.canActivateChild(o,s));else{if(!Il(A))throw new Error("Invalid CanActivateChild guard");x=ao(A(o,s))}return x.pipe(on())});return(0,st.of)(w).pipe(Am())}));return(0,st.of)(h).pipe(Am())}(s,c.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,st.of)(!0);const c=o.map(h=>um(()=>{const m=Pm(h,r,i);let w;if(function(s){return s&&Il(s.canActivate)}(m))w=ao(m.canActivate(r,s));else{if(!Il(m))throw new Error("Invalid CanActivate guard");w=ao(m(r,s))}return w.pipe(on())}));return(0,st.of)(c).pipe(Am())}(s,c.route,i))),on(c=>!0!==c,!0))}(o,h,s,r):(0,st.of)(w)),(0,dt.U)(w=>Object.assign(Object.assign({},i),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,_n.b)(w=>{if(Cd(w.guardsResult)){const A=Rf(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw A.url=w.guardsResult,A}const D=new Yi(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(D)}),Qr(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),oE(w=>{if(w.guards.canActivateChecks.length)return(0,st.of)(w).pipe((0,_n.b)(D=>{const A=new xx(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}),In(D=>{let A=!1;return(0,st.of)(D).pipe(function(s,r){return(0,vr.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,st.of)(i);let h=0;return(0,fn.D)(c).pipe(za(m=>function(s,r,i,o){return function(s,r,i,o){const c=Object.keys(s);if(0===c.length)return(0,st.of)({});const h={};return(0,fn.D)(c).pipe((0,vr.zg)(m=>function(s,r,i,o){const c=Pm(s,r,o);return ao(c.resolve?c.resolve(r,i):c(r,i))}(s[m],r,i,o).pipe((0,_n.b)(w=>{h[m]=w}))),C(1),(0,vr.zg)(()=>Object.keys(h).length===c.length?(0,st.of)(h):Wi.E))}(s._resolve,s,r,o).pipe((0,dt.U)(h=>(s._resolvedData=h,s.data=Object.assign(Object.assign({},s.data),Pb(s,i).resolve),null)))}(m.route,o,s,r)),(0,_n.b)(()=>h++),C(1),(0,vr.zg)(m=>h===c.length?(0,st.of)(i):Wi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(D=>{const A=new Mx(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(A)}))}),oE(w=>{const{targetSnapshot:D,id:A,extractedUrl:x,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:G}}=w;return this.hooks.afterPreactivation(D,{navigationId:A,appliedUrlTree:x,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!G})}),(0,dt.U)(w=>{const D=function(s,r,i){const o=kf(s,r._root,i?i._root:void 0);return new Ji(o,r)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:D})}),(0,_n.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((s,r,i)=>(0,dt.U)(o=>(new Bb(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,_n.b)({next(){h=!0},complete(){h=!0}}),function(s){return r=>r.lift(new hm(s))}(()=>{if(!h&&!m){const w=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,w)):this.cancelNavigationTransition(c,w)}this.currentNavigation=null}),Ki(w=>{if(m=!0,function(s){return s&&s[gm]}(w)){const D=Cd(w.url);D||(this.navigated=!0,this.restoreHistory(c,!0));const A=new md(c.id,this.serializeUrl(c.extractedUrl),w.message);o.next(A),D?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),O={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lm(c.source)};this.scheduleNavigation(x,"imperative",null,O,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const D=new pm(c.id,this.serializeUrl(c.extractedUrl),w);o.next(D);try{c.resolve(this.errorHandler(w))}catch(A){c.reject(A)}}return Wi.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:c,state:h,urlTree:m}=o,w={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(w.state=D)}this.scheduleNavigation(m,c,h,w)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const c=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!c||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){YS(i),this.config=i.map(Xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:c,queryParams:h,fragment:m,queryParamsHandling:w,preserveFragment:D}=o,A=c||this.routerState.root,x=D?this.currentUrlTree.fragment:m;let O=null;switch(w){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=h||null}return null!==O&&(O=this.removeEmptyProps(O)),function(s,r,i,o,c){if(0===i.length)return Lf(r.root,r.root,r,o,c);const h=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Im(!0,0,s);let r=0,i=!1;const o=s.reduce((c,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const w={};return Er(h.outlets,(D,A)=>{w[A]="string"==typeof D?D.split("/"):D}),[...c,{outlets:w}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===m?(h.split("/").forEach((w,D)=>{0==D&&"."===w||(0==D&&""===w?i=!0:".."===w?r++:""!=w&&c.push(w))}),c):[...c,h]},[]);return new Im(i,r,o)}(i);if(h.toRoot())return Lf(r.root,new Tt([],{}),r,o,c);const m=function(s,r,i){if(s.isAbsolute)return new Tm(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const h=i.snapshot._urlSegment;return new Tm(h,h===r.root,0)}const o=wd(s.commands[0])?0:1;return function(s,r,i){let o=s,c=r,h=i;for(;h>c;){if(h-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new Tm(o,!1,c-h)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(h,r,s),w=m.processChildren?bd(m.segmentGroup,m.index,h.commands):Vf(m.segmentGroup,m.index,h.commands);return Lf(m.segmentGroup,w,r,o,c)}(A,this.currentUrlTree,i,O,null!=x?x:null)}navigateByUrl(i,o={skipLocationChange:!1}){const c=Cd(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return o}isActive(i,o){let c;if(c=!0===o?Object.assign({},lE):!1===o?Object.assign({},cE):o,Cd(i))return kv(this.currentUrlTree,i,c);const h=this.parseUrl(i);return kv(this.currentUrlTree,h,c)}removeEmptyProps(i){return Object.keys(i).reduce((o,c)=>{const h=i[c];return null!=h&&(o[c]=h),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Yo(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,c,h,m){var w,D;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),x=Lm(o)&&A&&!Lm(A.source),G=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===i.toString();if(x&&G)return Promise.resolve(!0);let ee,be,xe;m?(ee=m.resolve,be=m.reject,xe=m.promise):xe=new Promise((rt,_t)=>{ee=rt,be=_t});const tt=++this.navigationId;let it;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),it=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):it=0,this.setTransition({id:tt,targetPageId:it,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:h,resolve:ee,reject:be,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(rt=>Promise.reject(rt))}setBrowserUrl(i,o){const c=this.urlSerializer.serialize(i),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(i,o=!1){var c,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const c=new md(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(y.DyG),y.LFG(Uv),y.LFG(Qa),y.LFG(Be),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();function Lm(s){return"imperative"!==s}let dE=(()=>{class s{constructor(i,o,c){this.router=i,this.route=o,this.locationStrategy=c,this.commands=[],this.onChanges=new kr.xQ,this.subscription=i.events.subscribe(h=>{h instanceof Yo&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,c,h,m){if(0!==i||o||c||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:Nd(this.skipLocationChange),replaceUrl:Nd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nd(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(wr),y.Y36(Ed),y.Y36(ne))},s.\u0275dir=y.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&y.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&(y.Ikx("href",o.href,y.LSH),y.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.TTD]}),s})();function Nd(s){return""===s||!!s}let Vm=(()=>{class s{constructor(i,o,c,h,m){this.parentContexts=i,this.location=o,this.resolver=c,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=h||It,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,D=new lC(i,w,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(Qa),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},s.\u0275dir=y.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class lC{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===Ed?this.route:r===Qa?this.childContexts:this.parent.get(r,i)}}class hE{}class Gf{preload(r,i){return(0,st.of)(null)}}let cC=(()=>{class s{constructor(i,o,c,h,m){this.router=i,this.injector=h,this.preloadingStrategy=m,this.loader=new sC(o,c,A=>i.triggerEvent(new Rv(A)),A=>i.triggerEvent(new US(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(i=>i instanceof Yo),za(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(y.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const c=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;c.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?c.push(this.preloadConfig(i,h)):h.children&&c.push(this.processRoutes(i,h.children));return(0,fn.D)(c).pipe((0,Ga.J)(),(0,dt.U)(h=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,st.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,vr.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(wr),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(hE))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),fE=(()=>{class s{constructor(i,o,c={}){this.router=i,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Nf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Yo&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Ov&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new Ov(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(wr),y.LFG(Tc),y.LFG(void 0))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();const Xi=new y.OlP("ROUTER_CONFIGURATION"),pE=new y.OlP("ROUTER_FORROOT_GUARD"),zf=[Be,{provide:Uv,useClass:Bv},{provide:wr,useFactory:function(s,r,i,o,c,h,m,w={},D,A){const x=new wr(null,s,r,i,o,c,h,Cb(m));return D&&(x.urlHandlingStrategy=D),A&&(x.routeReuseStrategy=A),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(w,x),w.enableTracing&&x.events.subscribe(O=>{var j,G;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(G=console.groupEnd)||void 0===G||G.call(console)}),x},deps:[Uv,Qa,Be,y.zs3,y.v3s,y.Sil,aE,Xi,[class{},new y.FiY],[class{},new y.FiY]]},Qa,{provide:Ed,useFactory:function(s){return s.routerState.root},deps:[wr]},{provide:y.v3s,useClass:y.EAV},cC,Gf,class{preload(r,i){return i().pipe(Ki(()=>(0,st.of)(null)))}},{provide:Xi,useValue:{enableTracing:!1}}];function pA(){return new y.PXZ("Router",wr)}let Um=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[zf,fC(i),{provide:pE,useFactory:hC,deps:[[wr,new y.FiY,new y.tp0]]},{provide:Xi,useValue:o||{}},{provide:ne,useFactory:gA,deps:[ye,[new y.tBr(Ne),new y.FiY],Xi]},{provide:fE,useFactory:dC,deps:[wr,Tc,Xi]},{provide:hE,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Gf},{provide:y.PXZ,multi:!0,useFactory:pA},[Bm,{provide:y.ip1,multi:!0,useFactory:Rd,deps:[Bm]},{provide:gC,useFactory:pC,deps:[Bm]},{provide:y.tb,multi:!0,useExisting:gC}]]}}static forChild(i){return{ngModule:s,providers:[fC(i)]}}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(pE,8),y.LFG(wr,8))},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),s})();function dC(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new fE(s,r,i)}function gA(s,r,i={}){return i.useHash?new Le(s,r):new Me(s,r)}function hC(s){return"guarded"}function fC(s){return[{provide:y.deG,multi:!0,useValue:s},{provide:aE,multi:!0,useValue:s}]}let Bm=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kr.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(w=>o=w),h=this.injector.get(wr),m=this.injector.get(Xi);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,st.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),c})}bootstrapListener(i){const o=this.injector.get(Xi),c=this.injector.get(cC),h=this.injector.get(fE),m=this.injector.get(wr),w=this.injector.get(y.z2F);i===w.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),c.setUpPreloading(),h.init(),m.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(y.zs3))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();function Rd(s){return s.appInitializer.bind(s)}function pC(s){return s.bootstrapListener.bind(s)}const gC=new y.OlP("Router Initializer");var vA=F(3637),br=F(9126);function mE(){return s=>s.lift(new EA)}class EA{call(r,i){return i.subscribe(new Kx(r))}}class Kx extends Ri.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}class mC{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new Jt(r,this.compare,this.keySelector))}}class Jt extends Ri.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}var Ja=F(309),Xa=F(8939),yE=(F(9083),F(4486)),Ie=F(8239),yC=F(5452),_C=F(6034),Dl=F(300),Gt=F(4685),jm=function(s,r){return(jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])})(s,r)};function _E(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ge,bA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sl=Sl||{},ft=bA||self;function Zf(){}function $m(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function xd(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var vE="closure_uid_"+(1e9*Math.random()>>>0),CA=0;function IA(s,r,i){return s.call.apply(s.bind,arguments)}function TA(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function ir(s,r,i){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IA:TA).apply(null,arguments)}function EE(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function sr(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,c,h){for(var m=Array(arguments.length-2),w=2;w<arguments.length;w++)m[w-2]=arguments[w];return r.prototype[c].apply(o,m)}}function tu(){this.s=this.s,this.o=this.o}var Yx={};tu.prototype.s=!1,tu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,vE)&&s[vE]||(s[vE]=++CA)}(this);delete Yx[s]}},tu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var SA=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},Hm=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,c="string"==typeof s?s.split(""):s,h=0;h<o;h++)h in c&&r.call(i,c[h],h,s)};function wE(s){return Array.prototype.concat.apply([],arguments)}function Gm(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function bE(s){return/^[\s\xa0]*$/.test(s)}var vi,es=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function _i(s,r){return-1!=s.indexOf(r)}function wC(s,r){return s<r?-1:s>r?1:0}e:{var CE=ft.navigator;if(CE){var IE=CE.userAgent;if(IE){vi=IE;break e}}vi=""}function qm(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function bC(s){var r={};for(var i in s)r[i]=s[i];return r}var NA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TE(s,r){for(var i,o,c=1;c<arguments.length;c++){for(i in o=arguments[c])s[i]=o[i];for(var h=0;h<NA.length;h++)i=NA[h],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function Kf(s){return Kf[" "](s),s}Kf[" "]=Zf;var Al,s,DE=_i(vi,"Opera"),Md=_i(vi,"Trident")||_i(vi,"MSIE"),CC=_i(vi,"Edge"),SE=CC||Md,IC=_i(vi,"Gecko")&&!(_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge"))&&!(_i(vi,"Trident")||_i(vi,"MSIE"))&&!_i(vi,"Edge"),xA=_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge");function TC(){var s=ft.document;return s?s.documentMode:void 0}e:{var nu="",zm=(s=vi,IC?/rv:([^\);]+)(\)|;)/.exec(s):CC?/Edge\/([\d\.]+)/.exec(s):Md?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):xA?/WebKit\/(\S+)/.exec(s):DE?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(zm&&(nu=zm?zm[1]:""),Md){var Pi=TC();if(null!=Pi&&Pi>parseFloat(nu)){Al=String(Pi);break e}}Al=nu}var Yf={};function MA(){return r=Yf,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=es(String(Al)).split("."),i=es("9").split("."),o=Math.max(r.length,i.length),c=0;0==s&&c<o;c++){var h=r[c]||"",m=i[c]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=wC(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||wC(0==h[2].length,0==m[2].length)||wC(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s}();var r}var lo=ft.document&&Md&&(TC()||parseInt(Al,10))||void 0,Qf=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ft.addEventListener("test",Zf,r),ft.removeEventListener("test",Zf,r)}catch(i){}return s}();function zt(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Cs(s,r){if(zt.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(IC){e:{try{Kf(r.nodeName);var c=!0;break e}catch(h){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Zm[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Cs.Z.h.call(this)}}zt.prototype.h=function(){this.defaultPrevented=!0},sr(Cs,zt);var Zm={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Lr="closure_listenable_"+(1e6*Math.random()|0),NE=0;function Od(s,r,i,o,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=c,this.key=++NE,this.ca=this.fa=!1}function ea(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function ta(s){this.src=s,this.g={},this.h=0}function ru(s,r){var i=r.type;if(i in s.g){var h,o=s.g[i],c=SA(o,r);(h=0<=c)&&Array.prototype.splice.call(o,c,1),h&&(ea(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function iu(s,r,i,o){for(var c=0;c<s.length;++c){var h=s[c];if(!h.ca&&h.listener==r&&h.capture==!!i&&h.ia==o)return c}return-1}ta.prototype.add=function(s,r,i,o,c){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var m=iu(s,r,o,c);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new Od(r,this.src,h,!!o,c)).fa=i,s.push(r)),r};var su="closure_lm_"+(1e6*Math.random()|0),ou={};function Nl(s,r,i,o,c){if(o&&o.once)return RE(s,r,i,o,c);if(Array.isArray(r)){for(var h=0;h<r.length;h++)Nl(s,r[h],i,o,c);return null}return i=Jm(i),s&&s[Lr]?s.N(r,i,xd(o)?!!o.capture:!!o,c):Rl(s,r,i,!1,o,c)}function Rl(s,r,i,o,c,h){if(!r)throw Error("Invalid event type");var m=xd(c)?!!c.capture:!!c,w=Ym(s);if(w||(s[su]=w=new ta(s)),(i=w.add(r,i,o,m,h)).proxy)return i;if(o=function(){var r=SC;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)Qf||(c=m),void 0===c&&(c=!1),s.addEventListener(r.toString(),o,c);else if(s.attachEvent)s.attachEvent(ME(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function RE(s,r,i,o,c){if(Array.isArray(r)){for(var h=0;h<r.length;h++)RE(s,r[h],i,o,c);return null}return i=Jm(i),s&&s[Lr]?s.O(r,i,xd(o)?!!o.capture:!!o,c):Rl(s,r,i,!0,o,c)}function xE(s,r,i,o,c){if(Array.isArray(r))for(var h=0;h<r.length;h++)xE(s,r[h],i,o,c);else o=xd(o)?!!o.capture:!!o,i=Jm(i),s&&s[Lr]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=iu(h=s.g[r],i,o,c))&&(ea(h[i]),Array.prototype.splice.call(h,i,1),0==h.length&&(delete s.g[r],s.h--))):s&&(s=Ym(s))&&(r=s.g[r.toString()],s=-1,r&&(s=iu(r,i,o,c)),(i=-1<s?r[s]:null)&&Km(i))}function Km(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Lr])ru(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(ME(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=Ym(r))?(ru(i,s),0==i.h&&(i.src=null,r[su]=null)):ea(s)}}}function ME(s){return s in ou?ou[s]:ou[s]="on"+s}function SC(s,r){if(s.ca)s=!0;else{r=new Cs(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&Km(s),s=i.call(o,r)}return s}function Ym(s){return(s=s[su])instanceof ta?s:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jm(s){return"function"==typeof s?s:(s[Qm]||(s[Qm]=function(r){return s.handleEvent(r)}),s[Qm])}function or(){tu.call(this),this.i=new ta(this),this.P=this,this.I=null}function ar(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new zt(r,s);else if(r instanceof zt)r.target=r.target||s;else{var c=r;TE(r=new zt(o,s),c)}if(c=!0,i)for(var h=i.length-1;0<=h;h--){var m=r.g=i[h];c=Xm(m,o,!0,r)&&c}if(c=Xm(m=r.g=s,o,!0,r)&&c,c=Xm(m,o,!1,r)&&c,i)for(h=0;h<i.length;h++)c=Xm(m=r.g=i[h],o,!1,r)&&c}function Xm(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,h=0;h<r.length;++h){var m=r[h];if(m&&!m.ca&&m.capture==i){var w=m.listener,D=m.ia||m.src;m.fa&&ru(s.i,m),c=!1!==w.call(D,o)&&c}}return c&&!o.defaultPrevented}sr(or,tu),or.prototype[Lr]=!0,or.prototype.removeEventListener=function(s,r,i,o){xE(this,s,r,i,o)},or.prototype.M=function(){if(or.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)ea(i[o]);delete s.g[r],s.h--}}this.I=null},or.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},or.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var OE=ft.JSON.stringify;function AC(){var s=LA,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var ey,OA=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=PA.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),PA=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new kA},function(s){return s.reset()}),kA=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function NC(s){ft.setTimeout(function(){throw s},0)}function PE(s,r){ey||function(){var s=ft.Promise.resolve(void 0);ey=function(){s.then(VA)}}(),kE||(ey(),kE=!0),LA.add(s,r)}var kE=!1,LA=new OA;function VA(){for(var s;s=AC();){try{s.h.call(s.g)}catch(i){NC(i)}var r=PA;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}kE=!1}function Jf(s,r){or.call(this),this.h=s||1,this.g=r||ft,this.j=ir(this.kb,this),this.l=Date.now()}function RC(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function xC(s,r,i){if("function"==typeof s)i&&(s=ir(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=ir(s.handleEvent,s)}return 2147483647<Number(r)?-1:ft.setTimeout(s,r||0)}function UA(s){s.g=xC(function(){s.g=null,s.i&&(s.i=!1,UA(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}sr(Jf,or),(Ge=Jf.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(RC(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){Jf.Z.M.call(this),RC(this),delete this.g};var BA=function(s){function r(i,o){var c=s.call(this)||this;return c.m=i,c.j=o,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}jm(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:UA(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(tu);function ty(s){tu.call(this),this.h=s,this.g={}}sr(ty,tu);var MC=[];function OC(s,r,i,o){Array.isArray(i)||(i&&(MC[0]=i.toString()),i=MC);for(var c=0;c<i.length;c++){var h=Nl(r,i[c],o||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function ny(s){qm(s.g,function(r,i){this.g.hasOwnProperty(i)&&Km(r)},s),s.g={}}function Pd(){this.g=!0}function Xf(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<c.length;m++)c[m]=""}}}return OE(i)}catch(w){return r}}(s,i)+(o?" "+o:"")})}ty.prototype.M=function(){ty.Z.M.call(this),ny(this)},ty.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pd.prototype.Aa=function(){this.g=!1},Pd.prototype.info=function(){};var au={},HA=null;function ry(){return HA=HA||new or}function xl(s){zt.call(this,au.Ma,s)}function ep(s){var r=ry();ar(r,new xl(r,s))}function FE(s,r){zt.call(this,au.STAT_EVENT,s),this.stat=r}function Jr(s){var r=ry();ar(r,new FE(r,s))}function LE(s,r){zt.call(this,au.Na,s),this.size=r}function uu(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){s()},r)}au.Ma="serverreachability",sr(xl,zt),au.STAT_EVENT="statevent",sr(FE,zt),au.Na="timingevent",sr(LE,zt);var iy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},VE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function UE(){}function kC(){}UE.prototype.h=null;var jE,tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function BE(){zt.call(this,"d")}function sy(){zt.call(this,"c")}function np(){}function kd(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new ty(this),this.P=Xx,this.W=new Jf(s=SE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new oy}function oy(){this.i=null,this.g="",this.h=!1}sr(BE,zt),sr(sy,zt),sr(np,UE),np.prototype.g=function(){return new XMLHttpRequest},np.prototype.i=function(){return{}},jE=new np;var Xx=45e3,rp={},ay={};function FC(s,r,i){s.K=1,s.v=fy(co(r)),s.s=i,s.U=!0,Fd(s,null)}function Fd(s,r){s.F=Date.now(),ip(s),s.A=co(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),GC(i.h,"t",o),s.C=0,i=s.l.H,s.h=new oy,s.g=aI(s.l,i?r:null,!s.s),0<s.O&&(s.L=new BA(ir(s.Ia,s,s.g),s.O)),OC(s.V,s.g,"readystatechange",s.gb),r=s.H?bC(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),ep(1),function(s,r,i,o,c,h){s.info(function(){if(s.g)if(h)for(var m="",w=h.split("&"),D=0;D<w.length;D++){var A=w[D].split("=");if(1<A.length){var x=A[0];A=A[1];var O=x.split("_");m=2<=O.length&&"type"==O[1]?m+(x+"=")+A+"&":m+(x+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function LC(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function uy(s,r,i){for(var c,o=!0;!s.I&&s.C<i.length;){if((c=$E(s,i))==ay){4==r&&(s.o=4,Jr(14),o=!1),Xf(s.j,s.m,null,"[Incomplete Response]");break}if(c==rp){s.o=4,Jr(15),Xf(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Xf(s.j,s.m,c,null),HE(s,c)}LC(s)&&c!=ay&&c!=rp&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,Jr(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Ey(r),r.L=!0,Jr(11))):(Xf(s.j,s.m,i,"[Invalid Chunked Response]"),Ud(s),Vd(s))}function $E(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?ay:(i=Number(r.substring(i,o)),isNaN(i)?rp:(o+=1)+i>r.length?ay:(r=r.substr(o,i),s.C=o+i,r))}function ip(s){s.Y=Date.now()+s.P,ly(s,s.P)}function ly(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=uu(ir(s.eb,s),r)}function Ld(s){s.B&&(ft.clearTimeout(s.B),s.B=null)}function Vd(s){0==s.l.G||s.I||rI(s.l,s)}function Ud(s){Ld(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,RC(s.W),ny(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function HE(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||YE(i.i,s)))if(i.I=s.N,!s.J&&YE(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(xe){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=uu(ir(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;wy(i),dp(i)}vy(i),Jr(18)}if(1>=KE(i.i)&&i.ka){try{i.ka()}catch(xe){}i.ka=void 0}}else kl(i,11)}else if((s.J||i.g==s)&&wy(i),!bE(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var h=c[r];if(i.U=h[0],h=h[1],2==i.G)if("c"==h[0]){i.J=h[1],i.la=h[2];var m=h[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var w=h[4];null!=w&&(i.za=w,i.h.info("SVER="+i.za));var D=h[5];null!=D&&"number"==typeof D&&0<D&&(i.K=o=1.5*D,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var A=s.g;if(A){var x=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var O=o.i;!O.g&&(_i(x,"spdy")||_i(x,"quic")||_i(x,"h2"))&&(O.j=O.l,O.g=new Set,O.h&&(py(O,O.h),O.h=null))}if(o.D){var j=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(o.sa=j,vn(o.F,o.D,j))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var G=s;if((o=i).oa=oI(o,o.H?o.la:null,o.W),G.J){QE(o.i,G);var ee=G,be=o.K;be&&ee.setTimeout(be),ee.B&&(Ld(ee),ip(ee)),o.g=G}else n0(o);0<i.l.length&&hp(i)}else"stop"!=h[0]&&"close"!=h[0]||kl(i,7);else 3==i.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?kl(i,7):_y(i):"noop"!=h[0]&&i.j&&i.j.wa(h),i.A=0)}ep(4)}catch(xe){}}function sp(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if($m(s)||"string"==typeof s)Hm(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if($m(s)||"string"==typeof s){i=[];for(var o=s.length,c=0;c<o;c++)i.push(c)}else for(c in i=[],o=0,s)i[o++]=c;c=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if($m(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var h=0;h<c;h++)r.call(void 0,o[h],i&&i[h],s)}}function Bd(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Bd)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function cy(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];na(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)na(c,o=s.g[r])||(s.g[i++]=o,c[o]=1),r++;s.g.length=i}}function na(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Ge=kd.prototype).setTimeout=function(s){this.P=s},Ge.gb=function(s){s=s.target;var r=this.L;r&&3==fo(s)?r.l():this.Ia(s)},Ge.Ia=function(s){try{if(s==this.g)e:{var r=fo(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||SE||this.g&&(this.h.h||this.g.ga()||JC(this.g)))){this.I||4!=r||7==i||ep(8==i||0>=o?3:2),Ld(this);var c=this.g.ba();this.N=c;t:if(LC(this)){var h=JC(this.g);s="";var m=h.length,w=4==fo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ud(this),Vd(this);var D="";break t}this.h.i=new ft.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(h[i],{stream:w&&i==m-1});h.splice(0,m),this.h.g+=s,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function(s,r,i,o,c,h,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var A,x=this.g;if((A=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bE(A)){var O=A;break t}}O=null}if(!(c=O)){this.i=!1,this.o=3,Jr(12),Ud(this),Vd(this);break e}Xf(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HE(this,c)}this.U?(uy(this,r,D),SE&&this.i&&3==r&&(OC(this.V,this.W,"tick",this.fb),this.W.start())):(Xf(this.j,this.m,D,null),HE(this,D)),4==r&&Ud(this),this.i&&!this.I&&(4==r?rI(this.l,this):(this.i=!1,ip(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),Ud(this),Vd(this)}}}catch(j){}},Ge.fb=function(){if(this.g){var s=fo(this.g),r=this.g.ga();this.C<r.length&&(Ld(this),uy(this,s,r),this.i&&4!=s&&ip(this))}},Ge.cancel=function(){this.I=!0,Ud(this)},Ge.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(ep(3),Jr(17)),Ud(this),this.o=2,Vd(this)):ly(this,this.Y-s)},(Ge=Bd.prototype).R=function(){cy(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Ge.T=function(){return cy(this),this.g.concat()},Ge.get=function(s,r){return na(this.h,s)?this.h[s]:r},Ge.set=function(s,r){na(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Ge.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var c=i[o],h=this.get(c);s.call(r,h,c,this)}};var qE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ra(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof ra){this.g=void 0!==r?r:s.g,dy(this,s.j),this.s=s.s,op(this,s.i),ap(this,s.m),this.l=s.l,r=s.h;var i=new $d;i.i=r.i,r.g&&(i.g=new Bd(r.g),i.h=r.h),hy(this,i),this.o=s.o}else s&&(i=String(s).match(qE))?(this.g=!!r,dy(this,i[1]||"",!0),this.s=jd(i[2]||""),op(this,i[3]||"",!0),ap(this,i[4]),this.l=jd(i[5]||"",!0),hy(this,i[6]||"",!0),this.o=jd(i[7]||"")):(this.g=!!r,this.h=new $d(null,this.g))}function co(s){return new ra(s)}function dy(s,r,i){s.j=i?jd(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function op(s,r,i){s.i=i?jd(r,!0):r}function ap(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function hy(s,r,i){r instanceof $d?(s.h=r,function(s,r){r&&!s.j&&(ia(s),s.i=null,s.g.forEach(function(i,o){var c=o.toLowerCase();o!=c&&(zA(this,o),GC(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=Ml(r,jC)),s.h=new $d(r,s.g))}function vn(s,r,i){s.h.set(r,i)}function fy(s){return vn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function jd(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ml(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,VC),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function VC(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ra.prototype.toString=function(){var s=[],r=this.j;r&&s.push(Ml(r,WE,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(Ml(r,WE,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Ml(i,"/"==i.charAt(0)?BC:UC,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Ml(i,$C)),s.join("")};var WE=/[#\/\?@]/g,UC=/[#\?:]/g,BC=/[#\?]/g,jC=/[#\?@]/g,$C=/#/g;function $d(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function ia(s){s.g||(s.g=new Bd,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),c=null;if(0<=o){var h=s[i].substring(0,o);c=s[i].substring(o+1)}else h=s[i];r(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function zA(s,r){ia(s),r=Ol(s,r),na(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,na((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&cy(s)))}function HC(s,r){return ia(s),r=Ol(s,r),na(s.g.h,r)}function GC(s,r,i){zA(s,r),0<i.length&&(s.i=null,s.g.set(Ol(s,r),Gm(i)),s.h+=i.length)}function Ol(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Ge=$d.prototype).add=function(s,r){ia(this),this.i=null,s=Ol(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Ge.forEach=function(s,r){ia(this),this.g.forEach(function(i,o){Hm(i,function(c){s.call(r,c,o,this)},this)},this)},Ge.T=function(){ia(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var c=s[o],h=0;h<c.length;h++)i.push(r[o]);return i},Ge.R=function(s){ia(this);var r=[];if("string"==typeof s)HC(this,s)&&(r=wE(r,this.g.get(Ol(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=wE(r,s[i])}return r},Ge.set=function(s,r){return ia(this),this.i=null,HC(this,s=Ol(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Ge.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],c=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var m=c;""!==o[h]&&(m+="="+encodeURIComponent(String(o[h]))),s.push(m)}}return this.i=s.join("&")};var Yn=function(r,i){this.h=r,this.g=i};function ZE(s){this.l=s||ZA,s=ft.PerformanceNavigationTiming?0<(s=ft.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(ft.g&&ft.g.Ea&&ft.g.Ea()&&ft.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZA=10;function qC(s){return!!s.h||!!s.g&&s.g.size>=s.j}function KE(s){return s.h?1:s.g?s.g.size:0}function YE(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function py(s,r){s.g?s.g.add(r):s.h=r}function QE(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function Pl(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var c=_E(s.g.values()),h=c.next();!h.done;h=c.next())o=o.concat(h.value.D)}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return o}return Gm(s.i)}function JE(){}function KA(){this.g=new JE}function zC(s,r,i){var o=i||"";try{sp(s,function(c,h){var m=c;xd(c)&&(m=OE(c)),r.push(o+h+"="+encodeURIComponent(m))})}catch(c){throw r.push(o+"type="+encodeURIComponent("_badmap")),c}}function up(s,r,i,o,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(o)}catch(h){}}function gy(s){this.l=s.$b||null,this.j=s.ib||!1}function Hd(s,r){or.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=lp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZE.prototype.cancel=function(){var s,r;if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=_E(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(h){s={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},JE.prototype.stringify=function(s){return ft.JSON.stringify(s,void 0)},JE.prototype.parse=function(s){return ft.JSON.parse(s,void 0)},sr(gy,UE),gy.prototype.g=function(){return new Hd(this.l,this.j)},gy.prototype.i=function(s){return function(){return s}}({}),sr(Hd,or);var lp=0;function Is(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function cp(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Gd(s)}function Gd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ge=Hd.prototype).open=function(s,r){if(this.readyState!=lp)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,Gd(this)},Ge.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||ft).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cp(this)),this.readyState=lp},Ge.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Gd(this)),this.g&&(this.readyState=3,Gd(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ft.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Is(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?cp(this):Gd(this),3==this.readyState&&Is(this)}},Ge.Ua=function(s){this.g&&(this.response=this.responseText=s,cp(this))},Ge.Ta=function(s){this.g&&(this.response=s,cp(this))},Ge.ha=function(){this.g&&cp(this)},Ge.setRequestHeader=function(s,r){this.v.append(s,r)},Ge.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ho=ft.JSON.parse;function Kt(s){or.call(this),this.headers=new Bd,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ts,this.K=this.L=!1}sr(Kt,or);var ts="",WC=/^https?$/i,ZC=["POST","PUT"];function JA(s){return"content-type"==s.toLowerCase()}function KC(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,YC(s),lu(s)}function YC(s){s.D||(s.D=!0,ar(s,"complete"),ar(s,"error"))}function my(s){if(s.h&&void 0!==Sl&&(!s.C[1]||4!=fo(s)||2!=s.ba()))if(s.v&&4==fo(s))xC(s.Fa,0,s);else if(ar(s,"readystatechange"),4==fo(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var c;if(c=0===r){var h=String(s.H).match(qE)[1]||null;if(!h&&ft.self&&ft.self.location){var m=ft.self.location.protocol;h=m.substr(0,m.length-1)}c=!WC.test(h?h.toLowerCase():"")}o=c}if(o)ar(s,"complete"),ar(s,"success");else{s.m=6;try{var w=2<fo(s)?s.g.statusText:""}catch(D){w=""}s.j=w+" ["+s.ba()+"]",YC(s)}}finally{lu(s)}}}function lu(s,r){if(s.g){QC(s);var i=s.g,o=s.C[0]?Zf:null;s.g=null,s.C=null,r||ar(s,"ready");try{i.onreadystatechange=o}catch(c){}}}function QC(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(ft.clearTimeout(s.A),s.A=null)}function fo(s){return s.g?s.g.readyState:0}function JC(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ts:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function yy(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return qm(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):vn(s,r,i))}function cu(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function eI(s){this.za=0,this.l=[],this.h=new Pd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cu("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cu("baseRetryDelayMs",5e3,s),this.$a=cu("retryDelaySeedMs",1e4,s),this.Ya=cu("forwardChannelMaxRetries",2,s),this.ra=cu("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new ZE(s&&s.concurrentRequestLimit),this.Ca=new KA,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function _y(s){if(XE(s),3==s.G){var r=s.V++,i=co(s.F);vn(i,"SID",s.J),vn(i,"RID",r),vn(i,"TYPE","terminate"),zd(s,i),(r=new kd(s,s.h,r,void 0)).K=2,r.v=fy(co(i)),i=!1,ft.navigator&&ft.navigator.sendBeacon&&(i=ft.navigator.sendBeacon(r.v.toString(),"")),!i&&ft.Image&&((new Image).src=r.v,i=!0),i||(r.g=aI(r.l,null),r.g.ea(r.v)),r.F=Date.now(),ip(r)}sI(s)}function dp(s){s.g&&(Ey(s),s.g.cancel(),s.g=null)}function XE(s){dp(s),s.u&&(ft.clearTimeout(s.u),s.u=null),wy(s),s.i.cancel(),s.m&&("number"==typeof s.m&&ft.clearTimeout(s.m),s.m=null)}function qd(s,r){s.l.push(new Yn(s.Za++,r)),3==s.G&&hp(s)}function hp(s){qC(s.i)||s.m||(s.m=!0,PE(s.Ha,s),s.C=0)}function e0(s,r){var i;i=r?r.m:s.V++;var o=co(s.F);vn(o,"SID",s.J),vn(o,"RID",i),vn(o,"AID",s.U),zd(s,o),s.o&&s.s&&yy(o,s.o,s.s),i=new kd(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=t0(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),py(s.i,i),FC(i,o,r)}function zd(s,r){s.j&&sp({},function(i,o){vn(r,o,i)})}function t0(s,r,i){i=Math.min(s.l.length,i);var o=s.j?ir(s.j.Oa,s.j,s):null;e:for(var c=s.l,h=-1;;){var m=["count="+i];-1==h?0<i?m.push("ofs="+(h=c[0].h)):h=0:m.push("ofs="+h);for(var w=!0,D=0;D<i;D++){var A=c[D].h,x=c[D].g;if(0>(A-=h))h=Math.max(0,c[D].h-100),w=!1;else try{zC(x,m,"req"+A+"_")}catch(O){o&&o(x)}}if(w){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function n0(s){s.g||s.u||(s.Y=1,PE(s.Ga,s),s.A=0)}function vy(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=uu(ir(s.Ga,s),iI(s,s.A)),s.A++,0))}function Ey(s){null!=s.B&&(ft.clearTimeout(s.B),s.B=null)}function nI(s){s.g=new kd(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=co(s.oa);vn(r,"RID","rpc"),vn(r,"SID",s.J),vn(r,"CI",s.N?"0":"1"),vn(r,"AID",s.U),zd(s,r),vn(r,"TYPE","xmlhttp"),s.o&&s.s&&yy(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=fy(co(r)),i.s=null,i.U=!0,Fd(i,s)}function wy(s){null!=s.v&&(ft.clearTimeout(s.v),s.v=null)}function rI(s,r){var i=null;if(s.g==r){wy(s),Ey(s),s.g=null;var o=2}else{if(!YE(s.i,r))return;i=r.D,QE(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;ar(o=ry(),new LE(o,i,r,c)),hp(s)}else n0(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==o&&function(s,r){return!(KE(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=uu(ir(s.Ha,s,r),iI(s,s.C)),s.C++,0)))}(s,r)||2==o&&vy(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:kl(s,5);break;case 4:kl(s,10);break;case 3:kl(s,6);break;default:kl(s,2)}}function iI(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function kl(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=ir(s.jb,s);i||(i=new ra("//www.google.com/images/cleardot.gif"),ft.location&&"http"==ft.location.protocol||dy(i,"https"),fy(i)),function(s,r){var i=new Pd;if(ft.Image){var o=new Image;o.onload=EE(up,i,o,"TestLoadImage: loaded",!0,r),o.onerror=EE(up,i,o,"TestLoadImage: error",!1,r),o.onabort=EE(up,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=EE(up,i,o,"TestLoadImage: timeout",!1,r),ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else Jr(2);s.G=0,s.j&&s.j.va(r),sI(s),XE(s)}function sI(s){s.G=0,s.I=-1,s.j&&((0!=Pl(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Gm(s.l),s.l.length=0),s.j.ua())}function oI(s,r,i){var o=function(s){return s instanceof ra?co(s):new ra(s,void 0)}(i);if(""!=o.i)r&&op(o,r+"."+o.i),ap(o,o.m);else{var c=ft.location;o=function(s,r,i,o){var c=new ra(null,void 0);return s&&dy(c,s),r&&op(c,r),i&&ap(c,i),o&&(c.l=o),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&qm(s.aa,function(h,m){vn(o,m,h)}),i=s.sa,(r=s.D)&&i&&vn(o,r,i),vn(o,"VER",s.ma),zd(s,o),o}function aI(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Kt(i&&s.Ba&&!s.qa?new gy({ib:!0}):s.qa)).L=s.H,r}function uI(){}function by(){if(Md&&!(10<=Number(lo)))throw Error("Environmental error: no available transport.")}function ki(s,r){or.call(this),this.g=new eI(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!bE(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!bE(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new Wd(this)}function lI(s){BE.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function cI(){sy.call(this),this.status=1}function Wd(s){this.g=s}(Ge=Kt.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jE.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:jE),this.g.onreadystatechange=ir(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(h){return void KC(this,h)}s=i||"";var c=new Bd(this.headers);o&&sp(o,function(h,m){c.set(m,h)}),o=function(s){e:{for(var r=JA,i=s.length,o="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in o&&r.call(void 0,o[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=ft.FormData&&s instanceof ft.FormData,!(0<=SA(ZC,r))||o||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QC(this),0<this.B&&((this.K=function(s){return Md&&MA()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.pa,this)):this.A=xC(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){KC(this,h)}},Ge.pa=function(){void 0!==Sl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Ge.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,ar(this,"complete"),ar(this,"abort"),lu(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lu(this,!0)),Kt.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?my(this):this.cb())},Ge.cb=function(){my(this)},Ge.ba=function(){try{return 2<fo(this)?this.g.status:-1}catch(s){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ge.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),ho(r)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=eI.prototype).ma=8,Ge.G=1,Ge.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Ge.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new kd(this,this.h,s,void 0),i=this.s;if(this.P&&(i?TE(i=bC(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(o+=h)){o=c;break e}if(4096===o||c===this.l.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=t0(this,r,o),vn(c=co(this.F),"RID",s),vn(c,"CVER",22),this.D&&vn(c,"X-HTTP-Session-Id",this.D),zd(this,c),this.o&&i&&yy(c,this.o,i),py(this.i,r),this.Ra&&vn(c,"TYPE","init"),this.ja?(vn(c,"$req",o),vn(c,"SID","null"),r.$=!0,FC(r,c,null)):FC(r,c,o),this.G=2}}else 3==this.G&&(s?e0(this,s):0==this.l.length||qC(this.i)||e0(this))},Ge.Ga=function(){if(this.u=null,nI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=uu(ir(this.bb,this),s)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jr(10),dp(this),nI(this))},Ge.ab=function(){null!=this.v&&(this.v=null,dp(this),vy(this),Jr(19))},Ge.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Jr(2)):(this.h.info("Failed to ping google.com"),Jr(1))},(Ge=uI.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},by.prototype.g=function(s,r){return new ki(s,r)},sr(ki,or),ki.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),PE(ir(s.hb,s,r))),Jr(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=oI(s,null,s.W),hp(s)},ki.prototype.close=function(){_y(this.g)},ki.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,qd(this.g,r)}else this.v?((r={}).__data__=OE(s),qd(this.g,r)):qd(this.g,s)},ki.prototype.M=function(){this.g.j=null,delete this.j,_y(this.g),delete this.g,ki.Z.M.call(this)},sr(lI,BE),sr(cI,sy),sr(Wd,uI),Wd.prototype.xa=function(){ar(this.g,"a")},Wd.prototype.wa=function(s){ar(this.g,new lI(s))},Wd.prototype.va=function(s){ar(this.g,new cI(s))},Wd.prototype.ua=function(){ar(this.g,"b")},by.prototype.createWebChannel=by.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,iy.NO_ERROR=0,iy.TIMEOUT=8,iy.HTTP_ERROR=6,VE.COMPLETE="complete",kC.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",or.prototype.listen=or.prototype.N,Kt.prototype.listenOnce=Kt.prototype.O,Kt.prototype.getLastError=Kt.prototype.La,Kt.prototype.getLastErrorCode=Kt.prototype.Da,Kt.prototype.getStatus=Kt.prototype.ba,Kt.prototype.getResponseJson=Kt.prototype.Qa,Kt.prototype.getResponseText=Kt.prototype.ga,Kt.prototype.send=Kt.prototype.ea;var Cy=iy,fI=VE,r0=au,Iy_PROXY=10,Iy_NOPROXY=11,i0=gy,Zd=kC,s0=Kt;class ur{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let Fl="9.0.1";const po=new Dl.Yd("@firebase/firestore");function fp(){return po.logLevel}function Ve(s,...r){if(po.logLevel<=Dl.in.DEBUG){const i=r.map(pI);po.debug(`Firestore (${Fl}): ${s}`,...i)}}function Gn(s,...r){if(po.logLevel<=Dl.in.ERROR){const i=r.map(pI);po.error(`Firestore (${Fl}): ${s}`,...i)}}function go(s,...r){if(po.logLevel<=Dl.in.WARN){const i=r.map(pI);po.warn(`Firestore (${Fl}): ${s}`,...i)}}function pI(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Ze(s="Unexpected state"){const r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+s;throw Gn(r),new Error(r)}function pt(s,r){s||Ze()}function je(s,r){return s}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class mI{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class tN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(ur.UNAUTHENTICATED))}shutdown(){}}class Ty{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class nN{constructor(r){this.t=r,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let c=this.i;const h=D=>this.i!==c?(c=this.i,i(D)):Promise.resolve();let m=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new lr,r.enqueueRetryable(()=>h(this.currentUser))};const w=D=>{r.enqueueRetryable((0,Ie.Z)(function*(){Ve("FirebaseCredentialsProvider","Auth detected"),o.auth=D,o.auth.addAuthTokenListener(o.o),yield m.promise,yield h(o.currentUser)}))};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new lr)}},0),r.enqueueRetryable((0,Ie.Z)(function*(){0===o.i&&(yield m.promise,yield h(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(pt("string"==typeof o.accessToken),new mI(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return pt(null===r||"string"==typeof r),new ur(r)}}class Dy{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=ur.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Sy{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new Dy(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bt{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function eM(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}Bt.T=-1;class o0{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const c=eM(40);for(let h=0;h<c.length;++h)o.length<20&&c[h]<i&&(o+=r.charAt(c[h]%r.length))}return o}}function Rt(s,r){return s<r?-1:s>r?1:0}function Kd(s,r,i){return s.length===r.length&&s.every((o,c)=>i(o,r[c]))}function a0(s){return s+"\0"}class Qn{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new re(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Qn.fromMillis(Date.now())}static fromDate(r){return Qn.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new Qn(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Rt(this.nanoseconds,r.nanoseconds):Rt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new vt(r)}static min(){return new vt(new Qn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function u0(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function Vl(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function yI(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class pp{constructor(r,i,o){void 0===i?i=0:i>r.length&&Ze(),void 0===o?o=r.length-i:o>r.length-i&&Ze(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===pp.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof pp?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let c=0;c<o;c++){const h=r.get(c),m=i.get(c);if(h<m)return-1;if(h>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class kt extends pp{construct(r,i,o){return new kt(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new re(me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new kt(i)}static emptyPath(){return new kt([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends pp{construct(r,i,o){return new Cr(r,i,o)}static isValidIdentifier(r){return rN.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(r){const i=[];let o="",c=0;const h=()=>{if(0===o.length)throw new re(me.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;c<r.length;){const w=r[c];if("\\"===w){if(c+1===r.length)throw new re(me.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const D=r[c+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new re(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=D,c+=2}else"`"===w?(m=!m,c++):"."!==w||m?(o+=w,c++):(h(),c++)}if(h(),m)throw new re(me.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Cr(i)}static emptyPath(){return new Cr([])}}class Yd{constructor(r){this.fields=r,r.sort(Cr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return Kd(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class Jn{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new Jn(i)}static fromUint8Array(r){const i=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(r);return new Jn(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Rt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const _I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(s){if(pt(!!s),"string"==typeof s){let r=0;const i=_I.exec(s);if(pt(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:qn(s.seconds),nanos:qn(s.nanos)}}function qn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function mo(s){return"string"==typeof s?Jn.fromBase64String(s):Jn.fromUint8Array(s)}function Ul(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function vI(s){const r=s.mapValue.fields.__previous_value__;return Ul(r)?vI(r):r}function gp(s){const r=sa(s.mapValue.fields.__local_write_time__.timestampValue);return new Qn(r.seconds,r.nanos)}function Bl(s){return null==s}function mp(s){return 0===s&&1/s==-1/0}function l0(s){return"number"==typeof s&&Number.isInteger(s)&&!mp(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Ke{constructor(r){this.path=r}static fromPath(r){return new Ke(kt.fromString(r))}static fromName(r){return new Ke(kt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===kt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return kt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Ke(new kt(r.slice()))}}function jl(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Ul(s)?4:10:Ze()}function Ts(s,r){const i=jl(s);if(i!==jl(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return gp(s).isEqual(gp(r));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=sa(o.timestampValue),m=sa(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,mo(s.bytesValue).isEqual(mo(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,c){return qn(o.geoPointValue.latitude)===qn(c.geoPointValue.latitude)&&qn(o.geoPointValue.longitude)===qn(c.geoPointValue.longitude)}(s,r);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return qn(o.integerValue)===qn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=qn(o.doubleValue),m=qn(c.doubleValue);return h===m?mp(h)===mp(m):isNaN(h)&&isNaN(m)}return!1}(s,r);case 9:return Kd(s.arrayValue.values||[],r.arrayValue.values||[],Ts);case 10:return function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(u0(h)!==u0(m))return!1;for(const w in h)if(h.hasOwnProperty(w)&&(void 0===m[w]||!Ts(h[w],m[w])))return!1;return!0}(s,r);default:return Ze()}var c}function yp(s,r){return void 0!==(s.values||[]).find(i=>Ts(i,r))}function Qd(s,r){const i=jl(s),o=jl(r);if(i!==o)return Rt(i,o);switch(i){case 0:return 0;case 1:return Rt(s.booleanValue,r.booleanValue);case 2:return function(c,h){const m=qn(c.integerValue||c.doubleValue),w=qn(h.integerValue||h.doubleValue);return m<w?-1:m>w?1:m===w?0:isNaN(m)?isNaN(w)?0:-1:1}(s,r);case 3:return iN(s.timestampValue,r.timestampValue);case 4:return iN(gp(s),gp(r));case 5:return Rt(s.stringValue,r.stringValue);case 6:return function(c,h){const m=mo(c),w=mo(h);return m.compareTo(w)}(s.bytesValue,r.bytesValue);case 7:return function(c,h){const m=c.split("/"),w=h.split("/");for(let D=0;D<m.length&&D<w.length;D++){const A=Rt(m[D],w[D]);if(0!==A)return A}return Rt(m.length,w.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,h){const m=Rt(qn(c.latitude),qn(h.latitude));return 0!==m?m:Rt(qn(c.longitude),qn(h.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,h){const m=c.values||[],w=h.values||[];for(let D=0;D<m.length&&D<w.length;++D){const A=Qd(m[D],w[D]);if(A)return A}return Rt(m.length,w.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,h){const m=c.fields||{},w=Object.keys(m),D=h.fields||{},A=Object.keys(D);w.sort(),A.sort();for(let x=0;x<w.length&&x<A.length;++x){const O=Rt(w[x],A[x]);if(0!==O)return O;const j=Qd(m[w[x]],D[A[x]]);if(0!==j)return j}return Rt(w.length,A.length)}(s.mapValue,r.mapValue);default:throw Ze()}}function iN(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Rt(s,r);const i=sa(s),o=sa(r),c=Rt(i.seconds,o.seconds);return 0!==c?c:Rt(i.nanos,o.nanos)}function EI(s){return wI(s)}function wI(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const c=sa(o);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?mo(s.bytesValue).toBase64():"referenceValue"in s?Ke.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let c="[",h=!0;for(const m of o.values||[])h?h=!1:c+=",",c+=wI(m);return c+"]"}(s.arrayValue):"mapValue"in s?function(o){const c=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const w of c)m?m=!1:h+=",",h+=`${w}:${wI(o.fields[w])}`;return h+"}"}(s.mapValue):Ze();var r}function c0(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Ny(s){return!!s&&"integerValue"in s}function Jd(s){return!!s&&"arrayValue"in s}function bI(s){return!!s&&"nullValue"in s}function CI(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _p(s){return!!s&&"mapValue"in s}function oa(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return Vl(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=oa(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=oa(s.arrayValue.values[i]);return r}return Object.assign({},s)}class Vr{constructor(r){this.value=r}static empty(){return new Vr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!_p(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=oa(i)}setAll(r){let i=Cr.emptyPath(),o={},c=[];r.forEach((m,w)=>{if(!i.isImmediateParentOf(w)){const D=this.getFieldsMap(i);this.applyChanges(D,o,c),o={},c=[],i=w.popLast()}m?o[w.lastSegment()]=oa(m):c.push(w.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,c)}delete(r){const i=this.field(r.popLast());_p(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Ts(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let c=i.mapValue.fields[r.get(o)];_p(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,o){Vl(i,(c,h)=>r[c]=h);for(const c of o)delete r[c]}clone(){return new Vr(oa(this.value))}}function II(s){const r=[];return Vl(s.fields,(i,o)=>{const c=new Cr([i]);if(_p(o)){const h=II(o.mapValue).fields;if(0===h.length)r.push(c);else for(const m of h)r.push(c.child(m))}else r.push(c)}),new Yd(r)}class Tn{constructor(r,i,o,c,h){this.key=r,this.documentType=i,this.version=o,this.data=c,this.documentState=h}static newInvalidDocument(r){return new Tn(r,0,vt.min(),Vr.empty(),0)}static newFoundDocument(r,i,o){return new Tn(r,1,i,o,0)}static newNoDocument(r,i){return new Tn(r,2,i,Vr.empty(),0)}static newUnknownDocument(r,i){return new Tn(r,3,i,Vr.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Vr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Tn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Tn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sN{constructor(r,i=null,o=[],c=[],h=null,m=null,w=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=h,this.startAt=m,this.endAt=w,this.A=null}}function TI(s,r=null,i=[],o=[],c=null,h=null,m=null){return new sN(s,r,i,o,c,h,m)}function Xd(s){const r=je(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+EI(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Bl(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=xy(r.startAt)),r.endAt&&(i+="|ub:",i+=xy(r.endAt)),r.A=i}return r.A}function Ry(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!dN(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(o=r.filters[c]).op||!i.field.isEqual(o.field)||!Ts(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!NI(s.startAt,r.startAt)&&NI(s.endAt,r.endAt)}function aa(s){return Ke.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Xr extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new aN(r,i,o):"array-contains"===i?new lN(r,o):"in"===i?new h0(r,o):"not-in"===i?new cN(r,o):"array-contains-any"===i?new AI(r,o):new Xr(r,i,o)}static R(r,i,o){return"in"===i?new SI(r,o):new uN(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(Qd(i,this.value)):null!==i&&jl(this.value)===jl(i)&&this.P(Qd(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Ze()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aN extends Xr{constructor(r,i,o){super(r,i,o),this.key=Ke.fromName(o.referenceValue)}matches(r){const i=Ke.comparator(r.key,this.key);return this.P(i)}}class SI extends Xr{constructor(r,i){super(r,"in",i),this.keys=d0(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class uN extends Xr{constructor(r,i){super(r,"not-in",i),this.keys=d0(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function d0(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Ke.fromName(o.referenceValue))}class lN extends Xr{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return Jd(i)&&yp(i.arrayValue,this.value)}}class h0 extends Xr{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&yp(this.value.arrayValue,i)}}class cN extends Xr{constructor(r,i){super(r,"not-in",i)}matches(r){if(yp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!yp(this.value.arrayValue,i)}}class AI extends Xr{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!Jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>yp(this.value.arrayValue,o))}}class eh{constructor(r,i){this.position=r,this.before=i}}function xy(s){return`${s.before?"b":"a"}:${s.position.map(r=>EI(r)).join(",")}`}class th{constructor(r,i="asc"){this.field=r,this.dir=i}}function dN(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function My(s,r,i){let o=0;for(let c=0;c<s.position.length;c++){const h=r[c],m=s.position[c];if(o=h.field.isKeyField()?Ke.comparator(Ke.fromName(m.referenceValue),i.key):Qd(m,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function NI(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ts(s.position[i],r.position[i]))return!1;return!0}class yo{constructor(r,i=null,o=[],c=[],h=null,m="F",w=null,D=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=h,this.limitType=m,this.startAt=w,this.endAt=D,this.V=null,this.S=null}}function RI(s,r,i,o,c,h,m,w){return new yo(s,r,i,o,c,h,m,w)}function nh(s){return new yo(s)}function Oy(s){return!Bl(s.limit)&&"F"===s.limitType}function Py(s){return!Bl(s.limit)&&"L"===s.limitType}function f0(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function p0(s){for(const r of s.filters)if(r.v())return r.field;return null}function g0(s){return null!==s.collectionGroup}function rh(s){const r=je(s);if(null===r.V){r.V=[];const i=p0(r),o=f0(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new th(i)),r.V.push(new th(Cr.keyField(),"asc"));else{let c=!1;for(const h of r.explicitOrderBy)r.V.push(h),h.field.isKeyField()&&(c=!0);if(!c){const h=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new th(Cr.keyField(),h))}}}return r.V}function Fi(s){const r=je(s);if(!r.S)if("F"===r.limitType)r.S=TI(r.path,r.collectionGroup,rh(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const h of rh(r))i.push(new th(h.field,"desc"===h.dir?"asc":"desc"));const o=r.endAt?new eh(r.endAt.position,!r.endAt.before):null,c=r.startAt?new eh(r.startAt.position,!r.startAt.before):null;r.S=TI(r.path,r.collectionGroup,i,r.filters,r.limit,o,c)}return r.S}function m0(s,r,i){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function vp(s,r){return Ry(Fi(s),Fi(r))&&s.limitType===r.limitType}function xI(s){return`${Xd(Fi(s))}|lt:${s.limitType}`}function ky(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${EI(o.value)}`;var o}).join(", ")}]`),Bl(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+xy(s.startAt)),s.endAt&&(r+=", endAt: "+xy(s.endAt)),`Target(${r})`}(Fi(s))}; limitType=${s.limitType})`}function Ep(s,r){return r.isFoundDocument()&&function(i,o){const c=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ke.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,o){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(s,r)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!My(i.startAt,rh(i),o)||i.endAt&&My(i.endAt,rh(i),o)));var i,o}function MI(s){return(r,i)=>{let o=!1;for(const c of rh(s)){const h=hN(c,r,i);if(0!==h)return h;o=o||c.field.isKeyField()}return 0}}function hN(s,r,i){const o=s.field.isKeyField()?Ke.comparator(r.key,i.key):function(c,h,m){const w=h.data.field(c),D=m.data.field(c);return null!==w&&null!==D?Qd(w,D):Ze()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Ze()}}function Fy(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(r)?"-0":r}}function Ly(s){return{integerValue:""+s}}function y0(s,r){return l0(r)?Ly(r):Fy(s,r)}class ih{constructor(){this._=void 0}}function fN(s,r,i){return s instanceof sh?function(o,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(h.fields.__previous_value__=c),{mapValue:h}}(i,r):s instanceof du?OI(s,r):s instanceof hu?_0(s,r):function(o,c){const h=Vy(o,c),m=gN(h)+gN(o.C);return Ny(h)&&Ny(o.C)?Ly(m):Fy(o.N,m)}(s,r)}function pN(s,r,i){return s instanceof du?OI(s,r):s instanceof hu?_0(s,r):i}function Vy(s,r){return s instanceof $l?Ny(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class sh extends ih{}class du extends ih{constructor(r){super(),this.elements=r}}function OI(s,r){const i=PI(r);for(const o of s.elements)i.some(c=>Ts(c,o))||i.push(o);return{arrayValue:{values:i}}}class hu extends ih{constructor(r){super(),this.elements=r}}function _0(s,r){let i=PI(r);for(const o of s.elements)i=i.filter(c=>!Ts(c,o));return{arrayValue:{values:i}}}class $l extends ih{constructor(r,i){super(),this.N=r,this.C=i}}function gN(s){return qn(s.integerValue||s.doubleValue)}function PI(s){return Jd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ds{constructor(r,i){this.field=r,this.transform=i}}class v0{constructor(r,i){this.version=r,this.transformResults=i}}class Rn{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new Rn}static exists(r){return new Rn(void 0,r)}static updateTime(r){return new Rn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Uy(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class ua{}function mN(s,r,i){s instanceof By?function(o,c,h){const m=o.value.clone(),w=LI(o.fieldTransforms,c,h.transformResults);m.setAll(w),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,r,i):s instanceof As?function(o,c,h){if(!Uy(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=LI(o.fieldTransforms,c,h.transformResults),w=c.data;w.setAll(FI(o)),w.setAll(m),c.convertToFoundDocument(h.version,w).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function kI(s,r,i){var c;s instanceof By?function(o,c,h){if(!Uy(o.precondition,c))return;const m=o.value.clone(),w=_N(o.fieldTransforms,h,c);m.setAll(w),c.convertToFoundDocument(E0(c),m).setHasLocalMutations()}(s,r,i):s instanceof As?function(o,c,h){if(!Uy(o.precondition,c))return;const m=_N(o.fieldTransforms,h,c),w=c.data;w.setAll(FI(o)),w.setAll(m),c.convertToFoundDocument(E0(c),w).setHasLocalMutations()}(s,r,i):Uy(s.precondition,c=r)&&c.convertToNoDocument(vt.min())}function yN(s,r){let i=null;for(const o of s.fieldTransforms){const c=r.data.field(o.field),h=Vy(o.transform,c||null);null!=h&&(null==i&&(i=Vr.empty()),i.set(o.field,h))}return i||null}function Ss(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&Kd(i,o,(c,h)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof du&&o instanceof du||i instanceof hu&&o instanceof hu?Kd(i.elements,o.elements,Ts):i instanceof $l&&o instanceof $l?Ts(i.C,o.C):i instanceof sh&&o instanceof sh);var i,o}(c,h))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function E0(s){return s.isFoundDocument()?s.version:vt.min()}class By extends ua{constructor(r,i,o,c=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}}class As extends ua{constructor(r,i,o,c,h=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=h,this.type=1}}function FI(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function LI(s,r,i){const o=new Map;pt(s.length===i.length);for(let c=0;c<i.length;c++){const h=s[c],m=h.transform,w=r.data.field(h.field);o.set(h.field,pN(m,w,i[c]))}return o}function _N(s,r,i){const o=new Map;for(const c of s){const h=c.transform,m=i.data.field(c.field);o.set(c.field,fN(h,m,r))}return o}class wp extends ua{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class w0 extends ua{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class vN{constructor(r){this.count=r}}var kn,Ut;function jy(s){switch(s){case me.OK:return Ze();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ze()}}function b0(s){if(void 0===s)return Gn("GRPC error has no .code"),me.UNKNOWN;switch(s){case kn.OK:return me.OK;case kn.CANCELLED:return me.CANCELLED;case kn.UNKNOWN:return me.UNKNOWN;case kn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case kn.INTERNAL:return me.INTERNAL;case kn.UNAVAILABLE:return me.UNAVAILABLE;case kn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case kn.NOT_FOUND:return me.NOT_FOUND;case kn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case kn.ABORTED:return me.ABORTED;case kn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case kn.DATA_LOSS:return me.DATA_LOSS;default:return Ze()}}(Ut=kn||(kn={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class Xn{constructor(r,i){this.comparator=r,this.root=i||Ir.EMPTY}insert(r,i){return new Xn(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(r){return new Xn(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(r,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new C0(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new C0(this.root,r,this.comparator,!1)}getReverseIterator(){return new C0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new C0(this.root,r,this.comparator,!0)}}class C0{constructor(r,i,o,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!r.isEmpty();)if(h=i?o(r.key,i):1,c&&(h*=-1),h<0)r=this.isReverse?r.left:r.right;else{if(0===h){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Ir{constructor(r,i,o,c,h){this.key=r,this.value=i,this.color=null!=o?o:Ir.RED,this.left=null!=c?c:Ir.EMPTY,this.right=null!=h?h:Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,c,h){return new Ir(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let c=this;const h=o(r,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(r,i,o),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return Ir.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const r=this.left.check();if(r!==this.right.check())throw Ze();return r+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1,Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(s,r,i,o,c){return this}insert(s,r,i){return new Ir(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(r){this.comparator=r,this.data=new Xn(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new VI(this.data.getIterator())}getIteratorFrom(r){return new VI(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof Fn)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new Fn(this.comparator);return i.data=r,i}}class VI{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const UI=new Xn(Ke.comparator);function Li(){return UI}const BI=new Xn(Ke.comparator);function I0(){return BI}const EN=new Xn(Ke.comparator);function T0(){return EN}const $y=new Fn(Ke.comparator);function Xt(...s){let r=$y;for(const i of s)r=r.add(i);return r}const jI=new Fn(Rt);function Hl(){return jI}class fu{constructor(r,i,o,c,h){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,la.createSynthesizedTargetChangeForCurrentChange(r,i)),new fu(vt.min(),o,Hl(),Li(),Xt())}}class la{constructor(r,i,o,c,h){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(r,i){return new la(Jn.EMPTY_BYTE_STRING,i,Xt(),Xt(),Xt())}}class Hy{constructor(r,i,o,c){this.k=r,this.removedTargetIds=i,this.key=o,this.$=c}}class $I{constructor(r,i){this.targetId=r,this.O=i}}class wN{constructor(r,i,o=Jn.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=c}}class HI{constructor(){this.F=0,this.M=qI(),this.L=Jn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Xt(),i=Xt(),o=Xt();return this.M.forEach((c,h)=>{switch(h){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:Ze()}}),new la(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=qI()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class bN{constructor(r){this.tt=r,this.et=new Map,this.nt=Li(),this.st=GI(),this.it=new Fn(Rt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:Ze()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,o=r.O.count,c=this.dt(i);if(c){const h=c.target;if(aa(h))if(0===o){const m=new Ke(h.path);this.at(i,m,Tn.newNoDocument(m,vt.min()))}else pt(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((h,m)=>{const w=this.dt(m);if(w){if(h.current&&aa(w.target)){const D=new Ke(w.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,Tn.newNoDocument(D,r))}h.K&&(i.set(m,h.W()),h.G())}});let o=Xt();this.st.forEach((h,m)=>{let w=!0;m.forEachWhile(D=>{const A=this.dt(D);return!A||2===A.purpose||(w=!1,!1)}),w&&(o=o.add(h))});const c=new fu(r,i,this.it,this.nt,o);return this.nt=Li(),this.st=GI(),this.it=new Fn(Rt),c}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new HI,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new Fn(Rt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Ve("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new HI),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function GI(){return new Xn(Ke.comparator)}function qI(){return new Xn(Ke.comparator)}const CN={asc:"ASCENDING",desc:"DESCENDING"},IN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TN{constructor(r,i){this.databaseId=r,this.D=i}}function bp(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function zI(s,r){return s.D?r.toBase64():r.toUint8Array()}function nM(s,r){return bp(s,r.toTimestamp())}function cr(s){return pt(!!s),vt.fromTimestamp(function(r){const i=sa(r);return new Qn(i.seconds,i.nanos)}(s))}function Gl(s,r){return(i=s,new kt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function WI(s){const r=kt.fromString(s);return pt(ql(r)),r}function Cp(s,r){return Gl(s.databaseId,r.path)}function _o(s,r){const i=WI(r);if(i.get(1)!==s.databaseId.projectId)throw new re(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new re(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ke(ZI(i))}function oh(s,r){return Gl(s.databaseId,r)}function pu(s){const r=WI(s);return 4===r.length?kt.emptyPath():ZI(r)}function ah(s){return new kt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ZI(s){return pt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function DN(s,r,i){return{name:Cp(s,r),fields:i.value.mapValue.fields}}function KI(s,r,i){const o=_o(s,r.name),c=cr(r.updateTime),h=new Vr({mapValue:{fields:r.fields}}),m=Tn.newFoundDocument(o,c,h);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function qy(s,r){let i;if(r instanceof By)i={update:DN(s,r.key,r.value)};else if(r instanceof wp)i={delete:Cp(s,r.key)};else if(r instanceof As)i={update:DN(s,r.key,r.data),updateMask:gu(r.fieldMask)};else{if(!(r instanceof w0))return Ze();i={verify:Cp(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(c,h){const m=h.transform;if(m instanceof sh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $l)return{fieldPath:h.field.canonicalString(),increment:m.C};throw Ze()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:nM(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ze()),i;var c}function D0(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?Rn.updateTime(cr(c.updateTime)):void 0!==c.exists?Rn.exists(c.exists):Rn.none():Rn.none(),o=r.updateTransforms?r.updateTransforms.map(c=>function(h,m){let w=null;"setToServerValue"in m?(pt("REQUEST_TIME"===m.setToServerValue),w=new sh):"appendMissingElements"in m?w=new du(m.appendMissingElements.values||[]):"removeAllFromArray"in m?w=new hu(m.removeAllFromArray.values||[]):"increment"in m?w=new $l(h,m.increment):Ze();const D=Cr.fromServerFormat(m.fieldPath);return new Ds(D,w)}(s,c)):[];var c;if(r.update){const c=_o(s,r.update.name),h=new Vr({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new Yd((r.updateMask.fieldPaths||[]).map(A=>Cr.fromServerFormat(A)));return new As(c,h,m,i,o)}return new By(c,h,i,o)}if(r.delete){const c=_o(s,r.delete);return new wp(c,i)}if(r.verify){const c=_o(s,r.verify);return new w0(c,i)}return Ze()}function zy(s,r){return{documents:[oh(s,r.path)]}}function S0(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=oh(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=oh(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(w){if(0===w.length)return;const D=w.map(A=>function(x){if("=="===x.op){if(CI(x.value))return{unaryFilter:{field:ca(x.field),op:"IS_NAN"}};if(bI(x.value))return{unaryFilter:{field:ca(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(CI(x.value))return{unaryFilter:{field:ca(x.field),op:"IS_NOT_NAN"}};if(bI(x.value))return{unaryFilter:{field:ca(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(x.field),op:Wy(x.op),value:x.value}}}(A));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(r.filters);c&&(i.structuredQuery.where=c);const h=function(w){if(0!==w.length)return w.map(D=>{return{field:ca((A=D).field),direction:XI(A.dir)};var A})}(r.orderBy);h&&(i.structuredQuery.orderBy=h);const m=(D=r.limit,s.D||Bl(D)?D:{value:D});var D;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=N0(r.startAt)),r.endAt&&(i.structuredQuery.endAt=N0(r.endAt)),i}function A0(s){let r=pu(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){pt(1===o);const x=i.from[0];x.allDescendants?c=x.collectionId:r=r.child(x.collectionId)}let h=[];i.where&&(h=QI(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(x=>{return new th(Ip((O=x).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let w=null;i.limit&&(w=function(x){let O;return O="object"==typeof x?x.value:x,Bl(O)?null:O}(i.limit));let D=null;i.startAt&&(D=JI(i.startAt));let A=null;return i.endAt&&(A=JI(i.endAt)),RI(r,c,m,h,w,"F",D,A)}function QI(s){return s?void 0!==s.unaryFilter?[Yt(s)]:void 0!==s.fieldFilter?[Tp(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>QI(r)).reduce((r,i)=>r.concat(i)):Ze():[]}function N0(s){return{before:s.before,values:s.position}}function JI(s){return new eh(s.values||[],!!s.before)}function XI(s){return CN[s]}function Wy(s){return IN[s]}function ca(s){return{fieldPath:s.canonicalString()}}function Ip(s){return Cr.fromServerFormat(s.fieldPath)}function Tp(s){return Xr.create(Ip(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ze()}}(s.fieldFilter.op),s.fieldFilter.value)}function Yt(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ip(s.unaryFilter.field);return Xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ip(s.unaryFilter.field);return Xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ip(s.unaryFilter.field);return Xr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ip(s.unaryFilter.field);return Xr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ze()}}function gu(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function ql(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function ei(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=mt(r)),r=rM(s.get(i),r);return mt(r)}function rM(s,r){let i=r;const o=s.length;for(let c=0;c<o;c++){const h=s.charAt(c);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function mt(s){return s+"\x01\x01"}function zn(s){const r=s.length;if(pt(r>=2),2===r)return pt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),kt.emptyPath();const i=r-2,o=[];let c="";for(let h=0;h<r;){const m=s.indexOf("\x01",h);switch((m<0||m>i)&&Ze(),s.charAt(m+1)){case"\x01":const w=s.substring(h,m);let D;0===c.length?D=w:(c+=w,D=c,c=""),o.push(D);break;case"\x10":c+=s.substring(h,m),c+="\0";break;case"\x11":c+=s.substring(h,m+1);break;default:Ze()}h=m+2}return new kt(o)}class R0{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class er{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}er.store="owner",er.key="owner";class zl{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}zl.store="mutationQueues",zl.keyPath="userId";class pn{constructor(r,i,o,c,h){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=c,this.mutations=h}}pn.store="mutations",pn.keyPath="batchId",pn.userMutationsIndex="userMutationsIndex",pn.userMutationsKeyPath=["userId","batchId"];class Tr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,ei(i)]}static key(r,i,o){return[r,ei(i),o]}}Tr.store="documentMutations",Tr.PLACEHOLDER=new Tr;class iM{constructor(r,i){this.path=r,this.readTime=i}}class NN{constructor(r,i){this.path=r,this.version=i}}class Ln{constructor(r,i,o,c,h,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=c,this.readTime=h,this.parentPath=m}}Ln.store="remoteDocuments",Ln.readTimeIndex="readTimeIndex",Ln.readTimeIndexPath="readTime",Ln.collectionReadTimeIndex="collectionReadTimeIndex",Ln.collectionReadTimeIndexPath=["parentPath","readTime"];class Vn{constructor(r){this.byteSize=r}}Vn.store="remoteDocumentGlobal",Vn.key="remoteDocumentGlobalKey";class Ft{constructor(r,i,o,c,h,m,w){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=c,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=w}}Ft.store="targets",Ft.keyPath="targetId",Ft.queryTargetsIndexName="queryTargetsIndex",Ft.queryTargetsKeyPath=["canonicalId","targetId"];class an{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];class Ei{constructor(r,i,o,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=c}}Ei.key="targetGlobalKey",Ei.store="targetGlobal";class Wl{constructor(r,i){this.collectionId=r,this.parent=i}}Wl.store="collectionParents",Wl.keyPath=["collectionId","parent"];class vo{constructor(r,i,o,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=c}}vo.store="clientMetadata",vo.keyPath="clientId";class mu{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}mu.store="bundles",mu.keyPath="bundleId";class Ns{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}Ns.store="namedQueries",Ns.keyPath="name";const Dp=[zl.store,pn.store,Tr.store,Ln.store,Ft.store,er.store,Ei.store,an.store,vo.store,Vn.store,Wl.store,mu.store,Ns.store],eT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ae{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ae((o,c)=>{this.nextCallback=h=>{this.wrapSuccess(r,h).next(o,c)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ae?i:Ae.resolve(i)}catch(i){return Ae.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.reject(i)}static resolve(r){return new Ae((i,o)=>{i(r)})}static reject(r){return new Ae((i,o)=>{o(r)})}static waitFor(r){return new Ae((i,o)=>{let c=0,h=0,m=!1;r.forEach(w=>{++c,w.next(()=>{++h,m&&h===c&&i()},D=>o(D))}),m=!0,h===c&&i()})}static or(r){let i=Ae.resolve(!1);for(const o of r)i=i.next(c=>c?Ae.resolve(c):o());return i}static forEach(r,i){const o=[];return r.forEach((c,h)=>{o.push(i.call(this,c,h))}),this.waitFor(o)}}class Sp{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new lr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new Zl(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const c=Zy(o.target.error);this.Tt.reject(new Zl(r,c))}}static open(r,i,o,c){try{return new Sp(i,r.transaction(c,o))}catch(h){throw new Zl(i,h)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Ve("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new uh(i)}}class Vi{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Vi.Rt((0,Gt.z$)())&&Gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Ve("SimpleDb","Removing database:",r),Kl(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Vi.bt())return!0;const r=(0,Gt.z$)(),i=Vi.Rt(r),o=0<i&&i<10,c=Vi.vt(r),h=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||h)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Ie.Z)(function*(){return i.db||(Ve("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,c)=>{const h=indexedDB.open(i.name,i.version);h.onsuccess=m=>{o(m.target.result)},h.onblocked=()=>{c(new Zl(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const w=m.target.error;c("VersionError"===w.name?new re(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Zl(r,w))},h.onupgradeneeded=m=>{Ve("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,h.transaction,m.oldVersion,i.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,c){var h=this;return(0,Ie.Z)(function*(){const m="readonly"===i;let w=0;for(;;){++w;try{h.db=yield h.Dt(r);const D=Sp.open(h.db,r,m?"readonly":"readwrite",o),A=c(D).catch(x=>(D.abort(x),Ae.reject(x))).toPromise();return A.catch(()=>{}),yield D.It,A}catch(D){const A="FirebaseError"!==D.name&&w<3;if(Ve("SimpleDb","Transaction failed with error:",D.message,"Retrying:",A),h.close(),!A)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ap{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return Kl(this.kt.delete())}}class Zl extends re{constructor(r,i){super(me.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function _u(s){return"IndexedDbTransactionError"===s.name}class uh{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(Ve("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),Kl(o)}add(r){return Ve("SimpleDb","ADD",this.store.name,r,r),Kl(this.store.add(r))}get(r){return Kl(this.store.get(r)).next(i=>(void 0===i&&(i=null),Ve("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Ve("SimpleDb","DELETE",this.store.name,r),Kl(this.store.delete(r))}count(){return Ve("SimpleDb","COUNT",this.store.name),Kl(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),c=[];return this.Bt(o,(h,m)=>{c.push(m)}).next(()=>c)}Ut(r,i){Ve("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const c=this.cursor(o);return this.Bt(c,(h,m,w)=>w.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const c=this.cursor(o);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new Ae((o,c)=>{i.onerror=h=>{const m=Zy(h.target.error);c(m)},i.onsuccess=h=>{const m=h.target.result;m?r(m.primaryKey,m.value).next(w=>{w?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Ae((c,h)=>{r.onerror=m=>{h(m.target.error)},r.onsuccess=m=>{const w=m.target.result;if(!w)return void c();const D=new Ap(w),A=i(w.primaryKey,w.value,D);if(A instanceof Ae){const x=A.catch(O=>(D.done(),Ae.reject(O)));o.push(x)}D.isDone?c():null===D.Ft?w.continue():w.continue(D.Ft)}}).next(()=>Ae.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function Kl(s){return new Ae((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const c=Zy(o.target.error);i(c)}})}let Np=!1;function Zy(s){const r=Vi.Rt((0,Gt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Np||(Np=!0,setTimeout(()=>{throw o},0)),o}}return s}class x0 extends yu{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function ti(s,r){const i=je(s);return Vi.St(i.Qt,r)}class lh{constructor(r,i,o,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(r.key)&&mN(h,r,o[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&kI(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&kI(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),c=o;this.applyToLocalView(c),o.isValidDocument()||c.convertToNoDocument(vt.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),Xt())}isEqual(r){return this.batchId===r.batchId&&Kd(this.mutations,r.mutations,(i,o)=>Ss(i,o))&&Kd(this.baseMutations,r.baseMutations,(i,o)=>Ss(i,o))}}class M0{constructor(r,i,o,c){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(r,i,o){pt(r.mutations.length===o.length);let c=T0();const h=r.mutations;for(let m=0;m<h.length;m++)c=c.insert(h[m].key,o[m].version);return new M0(r,i,o,c)}}class Eo{constructor(r,i,o,c,h=vt.min(),m=vt.min(),w=Jn.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=w}withSequenceNumber(r){return new Eo(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class Ky{constructor(r){this.Wt=r}}function tT(s,r){if(r.document)return KI(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=Ke.fromSegments(r.noDocument.path),o=ch(r.noDocument.readTime),c=Tn.newNoDocument(i,o);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=Ke.fromSegments(r.unknownDocument.path),o=ch(r.unknownDocument.version);return Tn.newUnknownDocument(i,o)}return Ze()}function RN(s,r,i){const o=ct(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const h={name:Cp(w=s.Wt,(D=r).key),fields:D.data.value.mapValue.fields,updateTime:bp(w,D.version.toTimestamp())};return new Ln(null,null,h,r.hasCommittedMutations,o,c)}var w,D;if(r.isNoDocument()){const h=r.key.path.toArray(),m=wo(r.version),w=r.hasCommittedMutations;return new Ln(null,new iM(h,m),null,w,o,c)}if(r.isUnknownDocument()){const h=r.key.path.toArray(),m=wo(r.version);return new Ln(new NN(h,m),null,null,!0,o,c)}return Ze()}function ct(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function xN(s){const r=new Qn(s[0],s[1]);return vt.fromTimestamp(r)}function wo(s){const r=s.toTimestamp();return new R0(r.seconds,r.nanoseconds)}function ch(s){const r=new Qn(s.seconds,s.nanoseconds);return vt.fromTimestamp(r)}function dh(s,r){const i=(r.baseMutations||[]).map(h=>D0(s.Wt,h));for(let h=0;h<r.mutations.length-1;++h){const m=r.mutations[h];h+1<r.mutations.length&&void 0!==r.mutations[h+1].transform&&(m.updateTransforms=r.mutations[h+1].transform.fieldTransforms,r.mutations.splice(h+1,1),++h)}const o=r.mutations.map(h=>D0(s.Wt,h)),c=Qn.fromMillis(r.localWriteTimeMs);return new lh(r.batchId,c,i,o)}function Rp(s){const r=ch(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?ch(s.lastLimboFreeSnapshotVersion):vt.min();let o;var c;return void 0!==s.query.documents?(pt(1===(c=s.query).documents.length),o=Fi(nh(pu(c.documents[0])))):o=Fi(A0(s.query)),new Eo(o,s.targetId,0,s.lastListenSequenceNumber,r,i,Jn.fromBase64String(s.resumeToken))}function MN(s,r){const i=wo(r.snapshotVersion),o=wo(r.lastLimboFreeSnapshotVersion);let c;c=aa(r.target)?zy(s.Wt,r.target):S0(s.Wt,r.target);const h=r.resumeToken.toBase64();return new Ft(r.targetId,Xd(r.target),i,h,r.sequenceNumber,o,c)}function nT(s){const r=A0({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?m0(r,r.limit,"L"):r}class ON{getBundleMetadata(r,i){return Dr(r).get(i).next(o=>{if(o)return{id:(c=o).bundleId,createTime:ch(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return Dr(r).put({bundleId:(o=i).id,createTime:wo(cr(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return rT(r).get(i).next(o=>{if(o)return{name:(c=o).name,query:nT(c.bundledQuery),readTime:ch(c.readTime)};var c})}saveNamedQuery(r,i){return rT(r).put({name:(o=i).name,readTime:wo(cr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Dr(s){return ti(s,mu.store)}function rT(s){return ti(s,Ns.store)}class PN{constructor(){this.Gt=new xp}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ae.resolve()}getCollectionParents(r,i){return Ae.resolve(this.Gt.getEntries(i))}}class xp{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i]||new Fn(kt.comparator),h=!c.has(o);return this.index[i]=c.add(o),h}has(r){const i=r.lastSegment(),o=r.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(r){return(this.index[r]||new Fn(kt.comparator)).toArray()}}class kN{constructor(){this.zt=new xp}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const h={collectionId:o,parent:ei(c)};return iT(r).put(h)}return Ae.resolve()}getCollectionParents(r,i){const o=[],c=IDBKeyRange.bound([i,""],[a0(i),""],!1,!0);return iT(r).Lt(c).next(h=>{for(const m of h){if(m.collectionId!==i)break;o.push(zn(m.parent))}return o})}}function iT(s){return ti(s,Wl.store)}const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wi{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new wi(r,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oT(s,r,i){const o=s.store(pn.store),c=s.store(Tr.store),h=[],m=IDBKeyRange.only(i.batchId);let w=0;const D=o.Kt({range:m},(x,O,j)=>(w++,j.delete()));h.push(D.next(()=>{pt(1===w)}));const A=[];for(const x of i.mutations){const O=Tr.key(r,x.key.path,i.batchId);h.push(c.delete(O)),A.push(x.key)}return Ae.waitFor(h).next(()=>A)}function Yy(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Ze();r=s.noDocument}return JSON.stringify(r).length}wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(41943040,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);class Mp{constructor(r,i,o,c){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,o,c){pt(""!==r.uid);const h=r.isAuthenticated()?r.uid:"";return new Mp(h,i,o,c)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vu(r).Kt({index:pn.userMutationsIndex,range:o},(c,h,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,c){const h=Yl(r),m=vu(r);return m.add({}).next(w=>{pt("number"==typeof w);const D=new lh(w,i,o,c),A=function(j,G,ee){const be=ee.baseMutations.map(tt=>qy(j.Wt,tt)),xe=ee.mutations.map(tt=>qy(j.Wt,tt));return new pn(G,ee.batchId,ee.localWriteTime.toMillis(),be,xe)}(this.N,this.userId,D),x=[];let O=new Fn((j,G)=>Rt(j.canonicalString(),G.canonicalString()));for(const j of c){const G=Tr.key(this.userId,j.key.path,w);O=O.add(j.key.path.popLast()),x.push(m.put(A)),x.push(h.put(G,Tr.PLACEHOLDER))}return O.forEach(j=>{x.push(this.Ht.addToCollectionParentIndex(r,j))}),r.addOnCommittedListener(()=>{this.Jt[w]=D.keys()}),Ae.waitFor(x).next(()=>D)})}lookupMutationBatch(r,i){return vu(r).get(i).next(o=>o?(pt(o.userId===this.userId),dh(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Ae.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const c=o.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,c=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return vu(r).Kt({index:pn.userMutationsIndex,range:c},(m,w,D)=>{w.userId===this.userId&&(pt(w.batchId>=o),h=dh(this.N,w)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return vu(r).Kt({index:pn.userMutationsIndex,range:i,reverse:!0},(c,h,m)=>{o=h.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vu(r).Lt(pn.userMutationsIndex,i).next(o=>o.map(c=>dh(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=Tr.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(o),h=[];return Yl(r).Kt({range:c},(m,w,D)=>{const[A,x,O]=m,j=zn(x);if(A===this.userId&&i.path.isEqual(j))return vu(r).get(O).next(G=>{if(!G)throw Ze();pt(G.userId===this.userId),h.push(dh(this.N,G))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Fn(Rt);const c=[];return i.forEach(h=>{const m=Tr.prefixForPath(this.userId,h.path),w=IDBKeyRange.lowerBound(m),D=Yl(r).Kt({range:w},(A,x,O)=>{const[j,G,ee]=A,be=zn(G);j===this.userId&&h.path.isEqual(be)?o=o.add(ee):O.done()});c.push(D)}),Ae.waitFor(c).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1,h=Tr.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(h);let w=new Fn(Rt);return Yl(r).Kt({range:m},(D,A,x)=>{const[O,j,G]=D,ee=zn(j);O===this.userId&&o.isPrefixOf(ee)?ee.length===c&&(w=w.add(G)):x.done()}).next(()=>this.Zt(r,w))}Zt(r,i){const o=[],c=[];return i.forEach(h=>{c.push(vu(r).get(h).next(m=>{if(null===m)throw Ze();pt(m.userId===this.userId),o.push(dh(this.N,m))}))}),Ae.waitFor(c).next(()=>o)}removeMutationBatch(r,i){return oT(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ae.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ae.resolve();const o=IDBKeyRange.lowerBound(Tr.prefixForUser(this.userId)),c=[];return Yl(r).Kt({range:o},(h,m,w)=>{if(h[0]===this.userId){const D=zn(h[1]);c.push(D)}else w.done()}).next(()=>{pt(0===c.length)})})}containsKey(r,i){return aT(r,this.userId,i)}ee(r){return Qy(r).get(this.userId).next(i=>i||new zl(this.userId,-1,""))}}function aT(s,r,i){const o=Tr.prefixForPath(r,i.path),c=o[1],h=IDBKeyRange.lowerBound(o);let m=!1;return Yl(s).Kt({range:h,qt:!0},(w,D,A)=>{const[x,O,j]=w;x===r&&O===c&&(m=!0),A.done()}).next(()=>m)}function vu(s){return ti(s,pn.store)}function Yl(s){return ti(s,Tr.store)}function Qy(s){return ti(s,zl.store)}class Ql{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Ql(0)}static ie(){return new Ql(-1)}}class sM{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new Ql(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>vt.fromTimestamp(new Qn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>hh(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(pt(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let c=0;const h=[];return hh(r).Kt((m,w)=>{const D=Rp(w);D.sequenceNumber<=i&&null===o.get(D.targetId)&&(c++,h.push(this.removeTargetData(r,D)))}).next(()=>Ae.waitFor(h)).next(()=>c)}forEachTarget(r,i){return hh(r).Kt((o,c)=>{const h=Rp(c);i(h)})}re(r){return uT(r).get(Ei.key).next(i=>(pt(null!==i),i))}oe(r,i){return uT(r).put(Ei.key,i)}ae(r,i){return hh(r).put(MN(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=Xd(i),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return hh(r).Kt({range:c,index:Ft.queryTargetsIndexName},(m,w,D)=>{const A=Rp(w);Ry(i,A.target)&&(h=A,D.done())}).next(()=>h)}addMatchingKeys(r,i,o){const c=[],h=Eu(r);return i.forEach(m=>{const w=ei(m.path);c.push(h.put(new an(o,w))),c.push(this.referenceDelegate.addReference(r,o,m))}),Ae.waitFor(c)}removeMatchingKeys(r,i,o){const c=Eu(r);return Ae.forEach(i,h=>{const m=ei(h.path);return Ae.waitFor([c.delete([o,m]),this.referenceDelegate.removeReference(r,o,h)])})}removeMatchingKeysForTargetId(r,i){const o=Eu(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),c=Eu(r);let h=Xt();return c.Kt({range:o,qt:!0},(m,w,D)=>{const A=zn(m[1]),x=new Ke(A);h=h.add(x)}).next(()=>h)}containsKey(r,i){const o=ei(i.path),c=IDBKeyRange.bound([o],[a0(o)],!1,!0);let h=0;return Eu(r).Kt({index:an.documentTargetsIndex,qt:!0,range:c},([m,w],D,A)=>{0!==m&&(h++,A.done())}).next(()=>h>0)}Et(r,i){return hh(r).get(i).next(o=>o?Rp(o):null)}}function hh(s){return ti(s,Ft.store)}function uT(s){return ti(s,Ei.store)}function Eu(s){return ti(s,an.store)}function Jl(s){return O0.apply(this,arguments)}function O0(){return(O0=(0,Ie.Z)(function*(s){if(s.code!==me.FAILED_PRECONDITION||s.message!==eT)throw s;Ve("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function lT([s,r],[i,o]){const c=Rt(s,i);return 0===c?Rt(r,o):c}class Op{constructor(r){this.ue=r,this.buffer=new Fn(lT),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();lT(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FN{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ie.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){_u(c)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Jl(c)}yield i._e(r)}))}}class LN{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Ae.resolve(Bt.T);const o=new Op(i);return this.me.forEachTarget(r,c=>o.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>o.fe(c))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(sT)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,c,h,m,w,D,A;const x=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),c=this.params.maximumSequenceNumbersToCollect):c=O,m=Date.now(),this.nthSequenceNumber(r,c))).next(O=>(o=O,w=Date.now(),this.removeTargets(r,o,i))).next(O=>(h=O,D=Date.now(),this.removeOrphanedDocuments(r,o))).next(O=>(A=Date.now(),fp()<=Dl.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${c} in `+(w-m)+`ms\n\tRemoved ${h} targets in `+(D-w)+`ms\n\tRemoved ${O} documents in `+(A-D)+`ms\nTotal Duration: ${A-x}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:O})))}}class cT{constructor(r,i){this.db=r,this.garbageCollector=new LN(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(c=>o+c))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,c)=>i(c))}addReference(r,i,o){return wu(r,o)}removeReference(r,i,o){return wu(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return wu(r,i)}Ie(r,i){return function(o,c){let h=!1;return Qy(o).jt(m=>aT(o,m,c).next(w=>(w&&(h=!0),Ae.resolve(!w)))).next(()=>h)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let h=0;return this.Te(r,(m,w)=>{if(w<=i){const D=this.Ie(r,m).next(A=>{if(!A)return h++,o.getEntry(r,m).next(()=>(o.removeEntry(m),Eu(r).delete([0,ei(m.path)])))});c.push(D)}}).next(()=>Ae.waitFor(c)).next(()=>o.apply(r)).next(()=>h)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return wu(r,i)}Te(r,i){const o=Eu(r);let c,h=Bt.T;return o.Kt({index:an.documentTargetsIndex},([m,w],{path:D,sequenceNumber:A})=>{0===m?(h!==Bt.T&&i(new Ke(zn(c)),h),h=A,c=D):h=Bt.T}).next(()=>{h!==Bt.T&&i(new Ke(zn(c)),h)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function wu(s,r){return Eu(s).put((o=s.currentSequenceNumber,new an(0,ei(r.path),o)));var o}class Pp{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[c,h]of o)if(this.equalsFn(c,r))return h}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),c=this.inner[o];if(void 0!==c){for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return void(c[h]=[r,i]);c.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],r))return 1===o.length?delete this.inner[i]:o.splice(c,1),!0;return!1}forEach(r){Vl(this.inner,(i,o)=>{for(const[c,h]of o)r(c,h)})}isEmpty(){return yI(this.inner)}}class P0{constructor(){this.changes=new Pp(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:vt.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:Tn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Ae.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class VN{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return bu(r).put(Jy(i),o)}removeEntry(r,i){const o=bu(r),c=Jy(i);return o.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return bu(r).get(Jy(i)).next(o=>this.Re(i,o))}Pe(r,i){return bu(r).get(Jy(i)).next(o=>({document:this.Re(i,o),size:Yy(o)}))}getEntries(r,i){let o=Li();return this.be(r,i,(c,h)=>{const m=this.Re(c,h);o=o.insert(c,m)}).next(()=>o)}ve(r,i){let o=Li(),c=new Xn(Ke.comparator);return this.be(r,i,(h,m)=>{const w=this.Re(h,m);o=o.insert(h,w),c=c.insert(h,Yy(m))}).next(()=>({documents:o,Ve:c}))}be(r,i,o){if(i.isEmpty())return Ae.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),h=i.getIterator();let m=h.getNext();return bu(r).Kt({range:c},(w,D,A)=>{const x=Ke.fromSegments(w);for(;m&&Ke.comparator(m,x)<0;)o(m,null),m=h.getNext();m&&m.isEqual(x)&&(o(m,D),m=h.hasNext()?h.getNext():null),m?A.Mt(m.path.toArray()):A.done()}).next(()=>{for(;m;)o(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(r,i,o){let c=Li();const h=i.path.length+1,m={};if(o.isEqual(vt.min())){const w=i.path.toArray();m.range=IDBKeyRange.lowerBound(w)}else{const w=i.path.toArray(),D=ct(o);m.range=IDBKeyRange.lowerBound([w,D],!0),m.index=Ln.collectionReadTimeIndex}return bu(r).Kt(m,(w,D,A)=>{if(w.length!==h)return;const x=tT(this.N,D);i.path.isPrefixOf(x.key.path)?Ep(i,x)&&(c=c.insert(x.key,x)):A.done()}).next(()=>c)}newChangeBuffer(r){return new UN(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return dT(r).get(Vn.key).next(i=>(pt(!!i),i))}Ae(r,i){return dT(r).put(Vn.key,i)}Re(r,i){if(i){const o=tT(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(vt.min()))return o}return Tn.newInvalidDocument(r)}}class UN extends P0{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new Pp(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(r){const i=[];let o=0,c=new Fn((h,m)=>Rt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const w=this.De.get(h);if(m.document.isValidDocument()){const D=RN(this.Se.N,m.document,this.getReadTime(h));c=c.add(h.path.popLast()),o+=Yy(D)-w,i.push(this.Se.addEntry(r,h,D))}else if(o-=w,this.trackRemovals){const D=RN(this.Se.N,Tn.newNoDocument(h,vt.min()),this.getReadTime(h));i.push(this.Se.addEntry(r,h,D))}else i.push(this.Se.removeEntry(r,h))}),c.forEach(h=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,h))}),i.push(this.Se.updateMetadata(r,o)),Ae.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:c})=>(c.forEach((h,m)=>{this.De.set(h,m)}),o))}}function dT(s){return ti(s,Vn.store)}function bu(s){return ti(s,Ln.store)}function Jy(s){return s.path.toArray()}class hT{constructor(r){this.N=r}Ct(r,i,o,c){pt(o<c&&o>=0&&c<=11);const h=new Sp("createOrUpgrade",i);var w;o<1&&c>=1&&(r.createObjectStore(er.store),(w=r).createObjectStore(zl.store,{keyPath:zl.keyPath}),w.createObjectStore(pn.store,{keyPath:pn.keyPath,autoIncrement:!0}).createIndex(pn.userMutationsIndex,pn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(Tr.store),fT(r),function(w){w.createObjectStore(Ln.store)}(r));let m=Ae.resolve();return o<3&&c>=3&&(0!==o&&(function(w){w.deleteObjectStore(an.store),w.deleteObjectStore(Ft.store),w.deleteObjectStore(Ei.store)}(r),fT(r)),m=m.next(()=>function(w){const D=w.store(Ei.store),A=new Ei(0,0,vt.min().toTimestamp(),0);return D.put(Ei.key,A)}(h))),o<4&&c>=4&&(0!==o&&(m=m.next(()=>function(w,D){return D.store(pn.store).Lt().next(A=>{w.deleteObjectStore(pn.store),w.createObjectStore(pn.store,{keyPath:pn.keyPath,autoIncrement:!0}).createIndex(pn.userMutationsIndex,pn.userMutationsKeyPath,{unique:!0});const x=D.store(pn.store),O=A.map(j=>x.put(j));return Ae.waitFor(O)})}(r,h))),m=m.next(()=>{!function(w){w.createObjectStore(vo.store,{keyPath:vo.keyPath})}(r)})),o<5&&c>=5&&(m=m.next(()=>this.Ce(h))),o<6&&c>=6&&(m=m.next(()=>(function(w){w.createObjectStore(Vn.store)}(r),this.Ne(h)))),o<7&&c>=7&&(m=m.next(()=>this.xe(h))),o<8&&c>=8&&(m=m.next(()=>this.ke(r,h))),o<9&&c>=9&&(m=m.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(r),function(w){const D=w.objectStore(Ln.store);D.createIndex(Ln.readTimeIndex,Ln.readTimeIndexPath,{unique:!1}),D.createIndex(Ln.collectionReadTimeIndex,Ln.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&c>=10&&(m=m.next(()=>this.$e(h))),o<11&&c>=11&&(m=m.next(()=>{(function(w){w.createObjectStore(mu.store,{keyPath:mu.keyPath})})(r),function(w){w.createObjectStore(Ns.store,{keyPath:Ns.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(Ln.store).Kt((o,c)=>{i+=Yy(c)}).next(()=>{const o=new Vn(i);return r.store(Vn.store).put(Vn.key,o)})}Ce(r){const i=r.store(zl.store),o=r.store(pn.store);return i.Lt().next(c=>Ae.forEach(c,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.Lt(pn.userMutationsIndex,m).next(w=>Ae.forEach(w,D=>{pt(D.userId===h.userId);const A=dh(this.N,D);return oT(r,h.userId,A).next(()=>{})}))}))}xe(r){const i=r.store(an.store),o=r.store(Ln.store);return r.store(Ei.store).get(Ei.key).next(c=>{const h=[];return o.Kt((m,w)=>{const D=new kt(m),A=[0,ei(D)];h.push(i.get(A).next(x=>x?Ae.resolve():i.put(new an(0,ei(D),c.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(h))})}ke(r,i){r.createObjectStore(Wl.store,{keyPath:Wl.keyPath});const o=i.store(Wl.store),c=new xp,h=m=>{if(c.add(m)){const w=m.lastSegment(),D=m.popLast();return o.put({collectionId:w,parent:ei(D)})}};return i.store(Ln.store).Kt({qt:!0},(m,w)=>{const D=new kt(m);return h(D.popLast())}).next(()=>i.store(Tr.store).Kt({qt:!0},([m,w,D],A)=>{const x=zn(w);return h(x.popLast())}))}$e(r){const i=r.store(Ft.store);return i.Kt((o,c)=>{const h=Rp(c),m=MN(this.N,h);return i.put(m)})}}function fT(s){s.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Ft.store,{keyPath:Ft.keyPath}).createIndex(Ft.queryTargetsIndexName,Ft.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Ei.store)}const k0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pT{constructor(r,i,o,c,h,m,w,D,A,x){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=h,this.window=m,this.document=w,this.Fe=A,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!pT.Pt())throw new re(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cT(this,c),this.We=i+"main",this.N=new Ky(D),this.Ge=new Vi(this.We,11,new hT(this.N)),this.ze=new sM(this.referenceDelegate,this.N),this.Ht=new kN,this.He=new VN(this.N,this.Ht),this.Je=new ON,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&Gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(me.FAILED_PRECONDITION,k0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Bt(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Ie.Z)(function*(c){if(i.started)return r(c)});return function(c){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Ie.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ie.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>F0(r).put(new vo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(_u(r))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Xy(r).get(er.key).next(i=>Ae.resolve(this.cn(i)))}un(r){return F0(r).delete(this.clientId)}hn(){var r=this;return(0,Ie.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=ti(o,vo.store);return c.Lt().next(h=>{const m=r.fn(h,18e5),w=h.filter(D=>-1===m.indexOf(D));return Ae.forEach(w,D=>c.delete(D.clientId)).next(()=>w)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ae.resolve(!0):Xy(r).get(er.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new re(me.FAILED_PRECONDITION,k0);return!1}}return!(!this.networkEnabled||!this.inForeground)||F0(r).Lt().next(o=>void 0===this.fn(o,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,w=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&w)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Ve("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Ie.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[er.store,vo.store],i=>{const o=new x0(i,Bt.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>F0(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return Mp.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let h;return Ve("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",Dp,m=>(h=new x0(m,this.Le?this.Le.next():Bt.T),"readwrite-primary"===i?this.sn(h).next(w=>!!w||this.rn(h)).next(w=>{if(!w)throw Gn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new re(me.FAILED_PRECONDITION,eT);return o(h)}).next(w=>this.an(h).next(()=>w)):this.En(h).next(()=>o(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(r){return Xy(r).get(er.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new re(me.FAILED_PRECONDITION,k0)})}an(r){const i=new er(this.clientId,this.allowTabSynchronization,Date.now());return Xy(r).put(er.key,i)}static Pt(){return Vi.Pt()}on(r){const i=Xy(r);return i.get(er.key).next(o=>this.cn(o)?(Ve("IndexedDbPersistence","Releasing primary lease."),i.delete(er.key)):Ae.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(Gn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Gt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Ve("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Gn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Gn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Xy(s){return ti(s,er.store)}function F0(s){return ti(s,vo.store)}function kp(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class BN{constructor(r,i){this.progress=r,this.Tn=i}}class gT{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(c=>{for(const h of o)h.applyToLocalView(c);return c})}Pn(r,i){r.forEach((o,c)=>{for(const h of i)h.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return Ke.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):g0(i)?this.Sn(r,i,o):this.Dn(r,i,o);var c}Vn(r,i){return this.An(r,new Ke(i)).next(o=>{let c=I0();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}Sn(r,i,o){const c=i.collectionGroup;let h=I0();return this.Ht.getCollectionParents(r,c).next(m=>Ae.forEach(m,w=>{const D=(A=i,x=w.child(c),new yo(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,x;return this.Dn(r,D,o).next(A=>{A.forEach((x,O)=>{h=h.insert(x,O)})})}).next(()=>h))}Dn(r,i,o){let c,h;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(c=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(h=m,this.Cn(r,h,c).next(w=>{c=w;for(const D of h)for(const A of D.mutations){const x=A.key;let O=c.get(x);null==O&&(O=Tn.newInvalidDocument(x),c=c.insert(x,O)),kI(A,O,D.localWriteTime),O.isFoundDocument()||(c=c.remove(x))}}))).next(()=>(c.forEach((m,w)=>{Ep(i,w)||(c=c.remove(m))}),c))}Cn(r,i,o){let c=Xt();for(const m of i)for(const w of m.mutations)w instanceof As&&null===o.get(w.key)&&(c=c.add(w.key));let h=o;return this.He.getEntries(r,c).next(m=>(m.forEach((w,D)=>{D.isFoundDocument()&&(h=h.insert(w,D))}),h))}}class L0{constructor(r,i,o,c){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=c}static kn(r,i){let o=Xt(),c=Xt();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new L0(r,i.fromCache,o,c)}}class mT{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,c){return 0===(h=i).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(vt.min())?this.Fn(r,i):this.On.bn(r,c).next(h=>{const m=this.Mn(i,h);return(Oy(i)||Py(i))&&this.Ln(i.limitType,m,c,o)?this.Fn(r,i):(fp()<=Dl.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ky(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(w=>(m.forEach(D=>{w=w.insert(D.key,D)}),w)))});var h}Mn(r,i){let o=new Fn(MI(r));return i.forEach((c,h)=>{Ep(r,h)&&(o=o.add(h))}),o}Ln(r,i,o,c){if(o.size!==i.size)return!0;const h="F"===r?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Fn(r,i){return fp()<=Dl.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ky(i)),this.On.getDocumentsMatchingQuery(r,i,vt.min())}}class jN{constructor(r,i,o,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new Xn(Rt),this.qn=new Pp(h=>Xd(h),Ry),this.Kn=vt.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new gT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function yT(s,r,i,o){return new jN(s,r,i,o)}function V0(s,r){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,Ie.Z)(function*(s,r){const i=je(s);let o=i.In,c=i.Qn;const h=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let w;return i.In.getAllMutationBatches(m).next(D=>(w=D,o=i.persistence.getMutationQueue(r),c=new gT(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(D=>{const A=[],x=[];let O=Xt();for(const j of w){A.push(j.batchId);for(const G of j.mutations)O=O.add(G.key)}for(const j of D){x.push(j.batchId);for(const G of j.mutations)O=O.add(G.key)}return c.bn(m,O).next(j=>({Wn:j,removedBatchIds:A,addedBatchIds:x}))})});return i.In=o,i.Qn=c,i.Bn.$n(i.Qn),h})).apply(this,arguments)}function $N(s,r){const i=je(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=r.batch.keys(),h=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,w,D,A){const x=D.batch,O=x.keys();let j=Ae.resolve();return O.forEach(G=>{j=j.next(()=>A.getEntry(w,G)).next(ee=>{const be=D.docVersions.get(G);pt(null!==be),ee.version.compareTo(be)<0&&(x.applyToRemoteDocument(ee,D),ee.isValidDocument()&&A.addEntry(ee,D.commitVersion))})}),j.next(()=>m.In.removeMutationBatch(w,x))}(i,o,r,h).next(()=>h.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,c))})}function Xl(s){const r=je(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function Ur(s,r){const i=je(s),o=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const w=[];r.targetChanges.forEach((A,x)=>{const O=c.get(x);if(!O)return;w.push(i.ze.removeMatchingKeys(h,A.removedDocuments,x).next(()=>i.ze.addMatchingKeys(h,A.addedDocuments,x)));const j=A.resumeToken;if(j.approximateByteSize()>0){const G=O.withResumeToken(j,o).withSequenceNumber(h.currentSequenceNumber);c=c.insert(x,G),ee=O,xe=A,pt((be=G).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||be.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&w.push(i.ze.updateTargetData(h,G))}var ee,be,xe});let D=Li();if(r.documentUpdates.forEach((A,x)=>{r.resolvedLimboDocuments.has(A)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),w.push(U0(h,m,r.documentUpdates,o,void 0).next(A=>{D=A})),!o.isEqual(vt.min())){const A=i.ze.getLastRemoteSnapshotVersion(h).next(x=>i.ze.setTargetsMetadata(h,h.currentSequenceNumber,o));w.push(A)}return Ae.waitFor(w).next(()=>m.apply(h)).next(()=>i.Qn.vn(h,D)).next(()=>D)}).then(h=>(i.Un=c,h))}function U0(s,r,i,o,c){let h=Xt();return i.forEach(m=>h=h.add(m)),r.getEntries(s,h).next(m=>{let w=Li();return i.forEach((D,A)=>{const x=m.get(D),O=(null==c?void 0:c.get(D))||o;A.isNoDocument()&&A.version.isEqual(vt.min())?(r.removeEntry(D,O),w=w.insert(D,A)):!x.isValidDocument()||A.version.compareTo(x.version)>0||0===A.version.compareTo(x.version)&&x.hasPendingWrites?(r.addEntry(A,O),w=w.insert(D,A)):Ve("LocalStore","Ignoring outdated watch update for ",D,". Current version:",x.version," Watch version:",A.version)}),w})}function Rs(s,r){const i=je(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function Cu(s,r){const i=je(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.ze.getTargetData(o,r).next(h=>h?(c=h,Ae.resolve(c)):i.ze.allocateTargetId(o).next(m=>(c=new Eo(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.Un.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function fh(s,r,i){return e_.apply(this,arguments)}function e_(){return(e_=(0,Ie.Z)(function*(s,r,i){const o=je(s),c=o.Un.get(r),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!_u(m))throw m;Ve("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(c.target)})).apply(this,arguments)}function Lp(s,r,i){const o=je(s);let c=vt.min(),h=Xt();return o.persistence.runTransaction("Execute query","readonly",m=>function(w,D,A){const x=je(w),O=x.qn.get(A);return void 0!==O?Ae.resolve(x.Un.get(O)):x.ze.getTargetData(D,A)}(o,m,Fi(r)).next(w=>{if(w)return c=w.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,w.targetId).next(D=>{h=D})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?c:vt.min(),i?h:Xt())).next(w=>({documents:w,Gn:h})))}function B0(s,r){const i=je(s),o=je(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,r).next(m=>m?m.target:null))}function _T(s){const r=je(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,c,h){const m=je(o);let w=Li(),D=ct(h);const A=bu(c),x=IDBKeyRange.lowerBound(D,!0);return A.Kt({index:Ln.readTimeIndex,range:x},(O,j)=>{const G=tT(m.N,j);w=w.insert(G.key,G),D=j.readTime}).next(()=>({Tn:w,readTime:xN(D)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function j0(){return(j0=(0,Ie.Z)(function*(s){const r=je(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const c=bu(o);let h=vt.min();return c.Kt({index:Ln.readTimeIndex,reverse:!0},(m,w,D)=>{w.readTime&&(h=xN(w.readTime)),D.done()}).next(()=>h)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function $0(){return($0=(0,Ie.Z)(function*(s,r,i,o){const c=je(s);let h=Xt(),m=Li(),w=T0();for(const x of i){const O=r.zn(x.metadata.name);x.document&&(h=h.add(O)),m=m.insert(O,r.Hn(x)),w=w.insert(O,r.Jn(x.metadata.readTime))}const D=c.jn.newChangeBuffer({trackRemovals:!0}),A=yield Cu(c,(x=o,Fi(nh(kt.fromString(`__bundle__/docs/${x}`)))));var x;return c.persistence.runTransaction("Apply bundle documents","readwrite",x=>U0(x,D,m,vt.min(),w).next(O=>(D.apply(x),O)).next(O=>c.ze.removeMatchingKeysForTargetId(x,A.targetId).next(()=>c.ze.addMatchingKeys(x,h,A.targetId)).next(()=>c.Qn.vn(x,O)).next(()=>O)))})).apply(this,arguments)}function oM(s,r){return H0.apply(this,arguments)}function H0(){return(H0=(0,Ie.Z)(function*(s,r,i=Xt()){const o=yield Cu(s,Fi(nT(r.bundledQuery))),c=je(s);return c.persistence.runTransaction("Save named query","readwrite",h=>{const m=cr(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return c.Je.saveNamedQuery(h,r);const w=o.withResumeToken(Jn.EMPTY_BYTE_STRING,m);return c.Un=c.Un.insert(w.targetId,w),c.ze.updateTargetData(h,w).next(()=>c.ze.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>c.ze.addMatchingKeys(h,i,o.targetId)).next(()=>c.Je.saveNamedQuery(h,r))})})).apply(this,arguments)}class GN{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ae.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:cr(o.createTime)}),Ae.resolve()}getNamedQuery(r,i){return Ae.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:nT(o.bundledQuery),readTime:cr(o.readTime)}),Ae.resolve();var o}}class Iu{constructor(){this.Zn=new Fn(Sr.ts),this.es=new Fn(Sr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new Sr(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new Sr(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new Ke(new kt([])),o=new Sr(i,r),c=new Sr(i,r+1),h=[];return this.es.forEachInRange([o,c],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new Ke(new kt([])),o=new Sr(i,r),c=new Sr(i,r+1);let h=Xt();return this.es.forEachInRange([o,c],m=>{h=h.add(m.key)}),h}containsKey(r){const i=new Sr(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class Sr{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return Ke.comparator(r.key,i.key)||Rt(r.ls,i.ls)}static ns(r,i){return Rt(r.ls,i.ls)||Ke.comparator(r.key,i.key)}}class ET{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new Fn(Sr.ts)}checkEmpty(r){return Ae.resolve(0===this.In.length)}addMutationBatch(r,i,o,c){const h=this.fs;this.fs++;const m=new lh(h,i,o,c);this.In.push(m);for(const w of c)this.ds=this.ds.add(new Sr(w.key,h)),this.Ht.addToCollectionParentIndex(r,w.key.path.popLast());return Ae.resolve(m)}lookupMutationBatch(r,i){return Ae.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),h=c<0?0:c;return Ae.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new Sr(i,0),c=new Sr(i,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([o,c],m=>{const w=this.ws(m.ls);h.push(w)}),Ae.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Fn(Rt);return i.forEach(c=>{const h=new Sr(c,0),m=new Sr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],w=>{o=o.add(w.ls)})}),Ae.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,c=o.length+1;let h=o;Ke.isDocumentKey(h)||(h=h.child(""));const m=new Sr(new Ke(h),0);let w=new Fn(Rt);return this.ds.forEachWhile(D=>{const A=D.key.path;return!!o.isPrefixOf(A)&&(A.length===c&&(w=w.add(D.ls)),!0)},m),Ae.resolve(this.gs(w))}gs(r){const i=[];return r.forEach(o=>{const c=this.ws(o);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){pt(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Ae.forEach(i.mutations,c=>{const h=new Sr(c.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new Sr(i,0),c=this.ds.firstAfterOrEqual(o);return Ae.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return Ae.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class qN{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new Xn(Ke.comparator),this.size=0}addEntry(r,i,o){const c=i.key,h=this.docs.get(c),m=h?h.size:0,w=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:w,readTime:o}),this.size+=w-m,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Ae.resolve(o?o.document.clone():Tn.newInvalidDocument(i))}getEntries(r,i){let o=Li();return i.forEach(c=>{const h=this.docs.get(c);o=o.insert(c,h?h.document.clone():Tn.newInvalidDocument(c))}),Ae.resolve(o)}getDocumentsMatchingQuery(r,i,o){let c=Li();const h=new Ke(i.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:w,value:{document:D,readTime:A}}=m.getNext();if(!i.path.isPrefixOf(w.path))break;A.compareTo(o)<=0||Ep(i,D)&&(c=c.insert(D.key,D.clone()))}return Ae.resolve(c)}Es(r,i){return Ae.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new aM(this)}getSize(r){return Ae.resolve(this.size)}}class aM extends P0{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Ae.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class wT{constructor(r){this.persistence=r,this.Ts=new Pp(i=>Xd(i),Ry),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Is=0,this.As=new Iu,this.targetCount=0,this.Rs=Ql.se()}forEachTarget(r,i){return this.Ts.forEach((o,c)=>i(c)),Ae.resolve()}getLastRemoteSnapshotVersion(r){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ae.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Ae.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new Ql(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ae.resolve()}updateTargetData(r,i){return this.ae(i),Ae.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(r,i,o){let c=0;const h=[];return this.Ts.forEach((m,w)=>{w.sequenceNumber<=i&&null===o.get(w.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(r,w.targetId)),c++)}),Ae.waitFor(h).next(()=>c)}getTargetCount(r){return Ae.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Ae.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Ae.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const c=this.persistence.referenceDelegate,h=[];return c&&i.forEach(m=>{h.push(c.markPotentiallyOrphaned(r,m))}),Ae.waitFor(h)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ae.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Ae.resolve(o)}containsKey(r,i){return Ae.resolve(this.As.containsKey(i))}}class zN{constructor(r,i){this.Ps={},this.Le=new Bt(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new wT(this),this.Ht=new PN,this.He=new qN(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new Ky(i),this.Je=new GN(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new ET(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){Ve("MemoryPersistence","Starting transaction:",r);const c=new G0(this.Le.next());return this.referenceDelegate.vs(),o(c).next(h=>this.referenceDelegate.Vs(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Ss(r,i){return Ae.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class G0 extends yu{constructor(r){super(),this.currentSequenceNumber=r}}class t_{constructor(r){this.persistence=r,this.Ds=new Iu,this.Cs=null}static Ns(r){return new t_(r)}get xs(){if(this.Cs)return this.Cs;throw Ze()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Ae.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Ae.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ae.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(h=>this.xs.add(h.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,o=>{const c=Ke.fromPath(o);return this.ks(r,c).next(h=>{h||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function bT(s,r){return`firestore_clients_${s}_${r}`}function CT(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function q0(s,r){return`firestore_targets_${s}_${r}`}class n_{constructor(r,i,o,c){this.user=r,this.batchId=i,this.state=o,this.error=c}static $s(r,i,o){const c=JSON.parse(o);let h,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(h=new re(c.error.code,c.error.message))),m?new n_(r,i,c.state,h):(Gn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Vp{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let c,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new re(o.error.code,o.error.message))),h?new Vp(r,o.state,c):(Gn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class r_{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let c="object"==typeof o&&o.activeTargetIds instanceof Array,h=Hl();for(let m=0;c&&m<o.activeTargetIds.length;++m)c=l0(o.activeTargetIds[m]),h=h.add(o.activeTargetIds[m]);return c?new r_(r,h):(Gn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class z0{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new z0(i.clientId,i.onlineState):(Gn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class W0{constructor(){this.activeTargetIds=Hl()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Z0{constructor(r,i,o,c,h){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Xn(Rt),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=bT(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new W0),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const h=r.getItem(bT(r.persistenceKey,c));if(h){const m=r_.$s(c,h);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const c=r.Xs(o);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(q0(this.persistenceKey,r));if(o){const c=Vp.$s(r,o);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(q0(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(c=>{this.ni(c)}),this.currentUser=r,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Ve("SharedClientState","READ",r,i),i}setItem(r,i){Ve("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Ve("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(Ve("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void Gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ie.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const c=i.ai(o.key);return i.ci(c,null)}{const c=i.ui(o.key,o.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const c=i.hi(o.key,o.newValue);if(c)return i.li(c)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const c=i.fi(o.key,o.newValue);if(c)return i.di(c)}}else if(o.key===i.Hs){if(null!==o.newValue){const c=i.Xs(o.newValue);if(c)return i.Zs(c)}}else if(o.key===i.Qs){const c=function(h){let m=Bt.T;if(null!=h)try{const w=JSON.parse(h);pt("number"==typeof w),m=w}catch(w){Gn("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(o.newValue);c!==Bt.T&&i.sequenceNumberHandler(c)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const c=new n_(this.currentUser,r,i,o),h=CT(this.persistenceKey,this.currentUser,r);this.setItem(h,c.Os())}ni(r){const i=CT(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const c=q0(this.persistenceKey,r),h=new Vp(r,i,o);this.setItem(c,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return r_.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),c=Number(o[1]);return n_.$s(new ur(void 0!==o[2]?o[2]:null),c,i)}fi(r,i){const o=this.zs.exec(r),c=Number(o[1]);return Vp.$s(c,i)}Xs(r){return z0.$s(r)}li(r){var i=this;return(0,Ie.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),h=this.ti(o),m=[],w=[];return h.forEach(D=>{c.has(D)||m.push(D)}),c.forEach(D=>{h.has(D)||w.push(D)}),this.syncEngine.gi(m,w).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=Hl();return r.forEach((o,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class ph{constructor(){this.yi=new W0,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new W0,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class IT{Ei(r){}shutdown(){}}class K0{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class DT{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class ST extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,c){const h=this.Bi(r,i);Ve("RestConnection","Sending: ",h,o);const m={};return this.Ui(m,c),this.qi(r,h,m,o).then(w=>(Ve("RestConnection","Received: ",w),w),w=>{throw go("RestConnection",`${r} failed with error: `,w,"url: ",h,"request:",o),w})}Ki(r,i,o,c){return this.Li(r,i,o,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Fl,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${TT[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,c){return new Promise((h,m)=>{const w=new s0;w.listenOnce(fI.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Cy.NO_ERROR:const A=w.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(A)),h(A);break;case Cy.TIMEOUT:Ve("Connection",'RPC "'+r+'" timed out'),m(new re(me.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const x=w.getStatus();if(Ve("Connection",'RPC "'+r+'" failed with status:',x,"response text:",w.getResponseText()),x>0){const O=w.getResponseJson().error;if(O&&O.status&&O.message){const j=function(G){const ee=G.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ee)>=0?ee:me.UNKNOWN}(O.status);m(new re(j,O.message))}else m(new re(me.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new re(me.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ve("Connection",'RPC "'+r+'" completed.')}});const D=JSON.stringify(c);w.send(i,"POST",D,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new by,h=ry(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new i0({})),this.Ui(m.initMessageHeaders,i),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=o.join("");Ve("Connection","Creating WebChannel: "+w,m);const D=c.createWebChannel(w,m);let A=!1,x=!1;const O=new DT({vi:G=>{x?Ve("Connection","Not sending because WebChannel is closed:",G):(A||(Ve("Connection","Opening WebChannel transport."),D.open(),A=!0),Ve("Connection","WebChannel sending:",G),D.send(G))},Vi:()=>D.close()}),j=(G,ee,be)=>{G.listen(ee,xe=>{try{be(xe)}catch(tt){setTimeout(()=>{throw tt},0)}})};return j(D,Zd.EventType.OPEN,()=>{x||Ve("Connection","WebChannel transport opened.")}),j(D,Zd.EventType.CLOSE,()=>{x||(x=!0,Ve("Connection","WebChannel transport closed"),O.$i())}),j(D,Zd.EventType.ERROR,G=>{x||(x=!0,go("Connection","WebChannel transport errored:",G),O.$i(new re(me.UNAVAILABLE,"The operation could not be completed")))}),j(D,Zd.EventType.MESSAGE,G=>{var ee;if(!x){const be=G.data[0];pt(!!be);const xe=be,tt=xe.error||(null===(ee=xe[0])||void 0===ee?void 0:ee.error);if(tt){Ve("Connection","WebChannel received error:",tt);const it=tt.status;let rt=function(Bn){const ji=kn[Bn];if(void 0!==ji)return b0(ji)}(it),_t=tt.message;void 0===rt&&(rt=me.INTERNAL,_t="Unknown error status: "+it+" with message "+tt.message),x=!0,O.$i(new re(rt,_t)),D.close()}else Ve("Connection","WebChannel received:",be),O.Oi(be)}}),j(h,r0.STAT_EVENT,G=>{G.stat===Iy_PROXY?Ve("Connection","Detected buffering proxy"):G.stat===Iy_NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function AT(){return"undefined"!=typeof window?window:null}function i_(){return"undefined"!=typeof document?document:null}function Up(s){return new TN(s,!0)}class Y0{constructor(r,i,o=1e3,c=1.5,h=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=c,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-o);c>0&&Ve("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class NT{constructor(r,i,o,c,h,m){this.Oe=r,this.er=o,this.nr=c,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Y0(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ie.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ie.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Ie.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===me.RESOURCE_EXHAUSTED?(Gn(i.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===me.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const c=new re(me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ie.Z)(function*(){r.state=0,r.start()}))}pr(r){return Ve("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WN extends NT{constructor(r,i,o,c,h){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,h),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(D=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Ze(),c=r.targetChange.targetIds||[],h=function(D,A){return D.D?(pt(void 0===A||"string"==typeof A),Jn.fromBase64String(A||"")):(pt(void 0===A||A instanceof Uint8Array),Jn.fromUint8Array(A||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,w=m&&function(D){const A=void 0===D.code?me.UNKNOWN:b0(D.code);return new re(A,D.message||"")}(m);i=new wN(o,c,h,w||null)}else if("documentChange"in r){const o=r.documentChange,c=_o(s,o.document.name),h=cr(o.document.updateTime),m=new Vr({mapValue:{fields:o.document.fields}}),w=Tn.newFoundDocument(c,h,m);i=new Hy(o.targetIds||[],o.removedTargetIds||[],w.key,w)}else if("documentDelete"in r){const o=r.documentDelete,c=_o(s,o.document),h=o.readTime?cr(o.readTime):vt.min(),m=Tn.newNoDocument(c,h);i=new Hy([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,c=_o(s,o.document);i=new Hy([],o.removedTargetIds||[],c,null)}else{if(!("filter"in r))return Ze();{const o=r.filter,h=new vN(o.count||0);i=new $I(o.targetId,h)}}var D;return i}(this.N,r),o=function(c){if(!("targetChange"in c))return vt.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?vt.min():h.readTime?cr(h.readTime):vt.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=ah(this.N),i.addTarget=function(c,h){let m;const w=h.target;return m=aa(w)?{documents:zy(c,w)}:{query:S0(c,w)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=zI(c,h.resumeToken):h.snapshotVersion.compareTo(vt.min())>0&&(m.readTime=bp(c,h.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=ah(this.N),i.removeTarget=r,this.wr(i)}}class ZN extends NT{constructor(r,i,o,c,h){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,h),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(pt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(pt(void 0!==r),s.map(i=>function(o,c){let h=cr(o.updateTime?o.updateTime:c);return h.isEqual(vt.min())&&(h=cr(c)),new v0(h,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=cr(r.commitTime);return this.listener.vr(o,i)}return pt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=ah(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>qy(this.N,o))};this.wr(i)}}class Bp extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new re(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new re(me.UNKNOWN,c.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,o,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new re(me.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class jp{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Gn(i),this.$r=!1):Ve("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class KN{constructor(r,i,o,c,h){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(w=>{o.enqueueAndForget((0,Ie.Z)(function*(){var D;bo(m)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ie.Z)(function*(A){const x=je(A);x.Kr.add(4),yield gh(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield ec(x)}),function(A){return D.apply(this,arguments)})(m))}))}),this.Wr=new jp(o,c)}}function ec(s){return ns.apply(this,arguments)}function ns(){return(ns=(0,Ie.Z)(function*(s){if(bo(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function gh(s){return mh.apply(this,arguments)}function mh(){return(mh=(0,Ie.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function s_(s,r){const i=je(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),a_(i)?Hp(i):yh(i).cr()&&RT(i,r))}function $p(s,r){const i=je(s),o=yh(i);i.qr.delete(r),o.cr()&&o_(i,r),0===i.qr.size&&(o.cr()?o.lr():bo(i)&&i.Wr.set("Unknown"))}function RT(s,r){s.Gr.Y(r.targetId),yh(s).Ir(r)}function o_(s,r){s.Gr.Y(r),yh(s).Ar(r)}function Hp(s){s.Gr=new bN({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),yh(s).start(),s.Wr.Or()}function a_(s){return bo(s)&&!yh(s).ar()&&s.qr.size>0}function bo(s){return 0===je(s).Kr.size}function u_(s){s.Gr=void 0}function YN(s){return Q0.apply(this,arguments)}function Q0(){return(Q0=(0,Ie.Z)(function*(s){s.qr.forEach((r,i)=>{RT(s,r)})})).apply(this,arguments)}function QN(s,r){return J0.apply(this,arguments)}function J0(){return(J0=(0,Ie.Z)(function*(s,r){u_(s),a_(s)?(s.Wr.Lr(r),Hp(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function xT(s,r,i){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,Ie.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof wN&&2===r.state&&r.cause)try{yield(o=(0,Ie.Z)(function*(c,h){const m=h.cause;for(const w of h.targetIds)c.qr.has(w)&&(yield c.remoteSyncer.rejectListen(w,m),c.qr.delete(w),c.Gr.removeTarget(w))}),function(c,h){return o.apply(this,arguments)})(s,r)}catch(o){Ve("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield qp(s,o)}else if(r instanceof Hy?s.Gr.rt(r):r instanceof $I?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(vt.min()))try{const o=yield Xl(s.localStore);i.compareTo(o)>=0&&(yield function(c,h){const m=c.Gr._t(h);return m.targetChanges.forEach((w,D)=>{if(w.resumeToken.approximateByteSize()>0){const A=c.qr.get(D);A&&c.qr.set(D,A.withResumeToken(w.resumeToken,h))}}),m.targetMismatches.forEach(w=>{const D=c.qr.get(w);if(!D)return;c.qr.set(w,D.withResumeToken(Jn.EMPTY_BYTE_STRING,D.snapshotVersion)),o_(c,w);const A=new Eo(D.target,w,1,D.sequenceNumber);RT(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){Ve("RemoteStore","Failed to raise snapshot:",o),yield qp(s,o)}var o})).apply(this,arguments)}function qp(s,r,i){return X0.apply(this,arguments)}function X0(){return(X0=(0,Ie.Z)(function*(s,r,i){if(!_u(r))throw r;s.Kr.add(1),yield gh(s),s.Wr.set("Offline"),i||(i=()=>Xl(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield ec(s)}))})).apply(this,arguments)}function ew(s,r){return r().catch(i=>qp(s,i,r))}function tc(s){return tw.apply(this,arguments)}function tw(){return(tw=(0,Ie.Z)(function*(s){const r=je(s),i=da(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;MT(r);)try{const c=yield Rs(r.localStore,o);if(null===c){0===r.Ur.length&&i.lr();break}o=c.batchId,OT(r,c)}catch(c){yield qp(r,c)}PT(r)&&nw(r)})).apply(this,arguments)}function MT(s){return bo(s)&&s.Ur.length<10}function OT(s,r){s.Ur.push(r);const i=da(s);i.cr()&&i.Pr&&i.br(r.mutations)}function PT(s){return bo(s)&&!da(s).ar()&&s.Ur.length>0}function nw(s){da(s).start()}function JN(s){return kT.apply(this,arguments)}function kT(){return(kT=(0,Ie.Z)(function*(s){da(s).Sr()})).apply(this,arguments)}function ni(s){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,Ie.Z)(function*(s){const r=da(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function XN(s,r,i){return rw.apply(this,arguments)}function rw(){return(rw=(0,Ie.Z)(function*(s,r,i){const o=s.Ur.shift(),c=M0.from(o,r,i);yield ew(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield tc(s)})).apply(this,arguments)}function uM(s,r){return nc.apply(this,arguments)}function nc(){return(nc=(0,Ie.Z)(function*(s,r){var i;r&&da(s).Pr&&(yield(i=(0,Ie.Z)(function*(o,c){if(jy(h=c.code)&&h!==me.ABORTED){const m=o.Ur.shift();da(o).hr(),yield ew(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield tc(o)}var h}),function(o,c){return i.apply(this,arguments)})(s,r)),PT(s)&&nw(s)})).apply(this,arguments)}function iw(s,r){return zp.apply(this,arguments)}function zp(){return(zp=(0,Ie.Z)(function*(s,r){const i=je(s);r?(i.Kr.delete(2),yield ec(i)):r||(i.Kr.add(2),yield gh(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function yh(s){return s.zr||(s.zr=function(r,i,o){const c=je(r);return c.Cr(),new WN(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:YN.bind(null,s),Ci:QN.bind(null,s),Tr:xT.bind(null,s)}),s.jr.push(function(){var r=(0,Ie.Z)(function*(i){i?(s.zr.hr(),a_(s)?Hp(s):s.Wr.set("Unknown")):(yield s.zr.stop(),u_(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function da(s){return s.Hr||(s.Hr=function(r,i,o){const c=je(r);return c.Cr(),new ZN(i,c.nr,c.credentials,c.N,o)}(s.datastore,s.asyncQueue,{Si:JN.bind(null,s),Ci:uM.bind(null,s),Vr:ni.bind(null,s),vr:XN.bind(null,s)}),s.jr.push(function(){var r=(0,Ie.Z)(function*(i){i?(s.Hr.hr(),yield tc(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Ve("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class sw{constructor(r,i,o,c,h){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=h,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,c,h){const m=Date.now()+o,w=new sw(r,i,m,c,h);return w.start(o),w}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(me.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _h(s,r){if(Gn("AsyncQueue",`${r}: ${s}`),_u(s))return new re(me.UNAVAILABLE,`${r}: ${s}`);throw s}class Du{constructor(r){this.comparator=r?(i,o)=>r(i,o)||Ke.comparator(i.key,o.key):(i,o)=>Ke.comparator(i.key,o.key),this.keyedMap=I0(),this.sortedSet=new Xn(this.comparator)}static emptySet(r){return new Du(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof Du)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new Du;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class ow{constructor(){this.Jr=new Xn(Ke.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Ze():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class rc{constructor(r,i,o,c,h,m,w,D){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=w,this.excludesMetadataChanges=D}static fromInitialDocuments(r,i,o,c){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new rc(r,i,Du.emptySet(i),h,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&vp(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class l_{constructor(){this.Xr=void 0,this.listeners=[]}}class aw{constructor(){this.queries=new Pp(r=>xI(r),vp),this.onlineState="Unknown",this.Zr=new Set}}function FT(s,r){return c_.apply(this,arguments)}function c_(){return(c_=(0,Ie.Z)(function*(s,r){const i=je(s),o=r.query;let c=!1,h=i.queries.get(o);if(h||(c=!0,h=new l_),c)try{h.Xr=yield i.onListen(o)}catch(m){const w=_h(m,`Initialization of query '${ky(r.query)}' failed`);return void r.onError(w)}i.queries.set(o,h),h.listeners.push(r),r.eo(i.onlineState),h.Xr&&r.no(h.Xr)&&lw(i)})).apply(this,arguments)}function uw(s,r){return d_.apply(this,arguments)}function d_(){return(d_=(0,Ie.Z)(function*(s,r){const i=je(s),o=r.query;let c=!1;const h=i.queries.get(o);if(h){const m=h.listeners.indexOf(r);m>=0&&(h.listeners.splice(m,1),c=0===h.listeners.length)}if(c)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function h_(s,r){const i=je(s);let o=!1;for(const c of r){const m=i.queries.get(c.query);if(m){for(const w of m.listeners)w.no(c)&&(o=!0);m.Xr=c}}o&&lw(i)}function LT(s,r,i){const o=je(s),c=o.queries.get(r);if(c)for(const h of c.listeners)h.onError(i);o.queries.delete(r)}function lw(s){s.Zr.forEach(r=>{r.next()})}class Wp{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const c of r.docChanges)3!==c.type&&o.push(c);r=new rc(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=rc.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class cw{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class VT{constructor(r){this.N=r}zn(r){return _o(this.N,r)}Hn(r){return r.metadata.exists?KI(this.N,r.document,!1):Tn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return cr(r)}}class eR{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=dw(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new VT(this.N);for(const c of r)if(c.metadata.queries){const h=o.zn(c.metadata.name);for(const m of c.metadata.queries){const w=(i.get(m)||Xt()).add(h);i.set(m,w)}}return i}complete(){var r=this;return(0,Ie.Z)(function*(){const i=yield function(s,r,i,o){return $0.apply(this,arguments)}(r.localStore,new VT(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const c of r.queries)yield oM(r.localStore,c,o.get(c.name));return r.progress.taskState="Success",new BN(Object.assign({},r.progress),i)})()}}function dw(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class hw{constructor(r){this.key=r}}class fw{constructor(r){this.key=r}}class UT{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=Xt(),this.mutatedKeys=Xt(),this.po=MI(r),this.Eo=new Du(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new ow,c=i?i.Eo:this.Eo;let h=i?i.mutatedKeys:this.mutatedKeys,m=c,w=!1;const D=Oy(this.query)&&c.size===this.query.limit?c.last():null,A=Py(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((x,O)=>{const j=c.get(x),G=Ep(this.query,O)?O:null,ee=!!j&&this.mutatedKeys.has(j.key),be=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let xe=!1;j&&G?j.data.isEqual(G.data)?ee!==be&&(o.track({type:3,doc:G}),xe=!0):this.Ro(j,G)||(o.track({type:2,doc:G}),xe=!0,(D&&this.po(G,D)>0||A&&this.po(G,A)<0)&&(w=!0)):!j&&G?(o.track({type:0,doc:G}),xe=!0):j&&!G&&(o.track({type:1,doc:j}),xe=!0,(D||A)&&(w=!0)),xe&&(G?(m=m.add(G),h=be?h.add(x):h.delete(x)):(m=m.delete(x),h=h.delete(x)))}),Oy(this.query)||Py(this.query))for(;m.size>this.query.limit;){const x=Oy(this.query)?m.last():m.first();m=m.delete(x.key),h=h.delete(x.key),o.track({type:1,doc:x})}return{Eo:m,Ao:o,Ln:w,mutatedKeys:h}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const h=r.Ao.Yr();h.sort((A,x)=>function(O,j){const G=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return G(O)-G(j)}(A.type,x.type)||this.po(A.doc,x.doc)),this.Po(o);const m=i?this.bo():[],w=0===this.yo.size&&this.current?1:0,D=w!==this.mo;return this.mo=w,0!==h.length||D?{snapshot:new rc(this.query,r.Eo,c,h,r.mutatedKeys,0===w,D,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ow,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Xt(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new fw(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new hw(o))}),i}So(r){this._o=r.Gn,this.yo=Xt();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return rc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class BT{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class jT{constructor(r){this.key=r,this.Co=!1}}class tR{constructor(r,i,o,c,h,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Pp(w=>xI(w),vp),this.ko=new Map,this.$o=new Set,this.Oo=new Xn(Ke.comparator),this.Fo=new Map,this.Mo=new Iu,this.Lo={},this.Bo=new Map,this.Uo=Ql.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function nR(s,r){return f_.apply(this,arguments)}function f_(){return(f_=(0,Ie.Z)(function*(s,r){const i=ww(s);let o,c;const h=i.xo.get(r);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),c=h.view.Do();else{const m=yield Cu(i.localStore,Fi(r)),w=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,c=yield pw(i,r,o,"current"===w),i.isPrimaryClient&&s_(i.remoteStore,m)}return c})).apply(this,arguments)}function pw(s,r,i,o){return p_.apply(this,arguments)}function p_(){return(p_=(0,Ie.Z)(function*(s,r,i,o){s.Ko=(x,O,j)=>{return(G=(0,Ie.Z)(function*(ee,be,xe,tt){let it=be.view.Io(xe);it.Ln&&(it=yield Lp(ee.localStore,be.query,!1).then(({documents:Bn})=>be.view.Io(Bn,it)));const rt=tt&&tt.targetChanges.get(be.targetId),_t=be.view.applyChanges(it,ee.isPrimaryClient,rt);return QT(ee,be.targetId,_t.vo),_t.snapshot}),function(ee,be,xe,tt){return G.apply(this,arguments)})(s,x,O,j);var G};const c=yield Lp(s.localStore,r,!0),h=new UT(r,c.Gn),m=h.Io(c.documents),w=la.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),D=h.applyChanges(m,s.isPrimaryClient,w);QT(s,i,D.vo);const A=new BT(r,i,h);return s.xo.set(r,A),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),D.snapshot})).apply(this,arguments)}function $T(s,r){return g_.apply(this,arguments)}function g_(){return(g_=(0,Ie.Z)(function*(s,r){const i=je(s),o=i.xo.get(r),c=i.ko.get(o.targetId);if(c.length>1)return i.ko.set(o.targetId,c.filter(h=>!vp(h,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fh(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),$p(i.remoteStore,o.targetId),Zp(i,o.targetId)}).catch(Jl))):(Zp(i,o.targetId),yield fh(i.localStore,o.targetId,!0))})).apply(this,arguments)}function gw(){return(gw=(0,Ie.Z)(function*(s,r,i){const o=bw(s);try{const c=yield function(h,m){const w=je(h),D=Qn.now(),A=m.reduce((O,j)=>O.add(j.key),Xt());let x;return w.persistence.runTransaction("Locally write mutations","readwrite",O=>w.Qn.bn(O,A).next(j=>{x=j;const G=[];for(const ee of m){const be=yN(ee,x.get(ee.key));null!=be&&G.push(new As(ee.key,be,II(be.value.mapValue),Rn.exists(!0)))}return w.In.addMutationBatch(O,D,G,m)})).then(O=>(O.applyToLocalDocumentSet(x),{batchId:O.batchId,changes:x}))}(o.localStore,r);o.sharedClientState.addPendingMutation(c.batchId),function(h,m,w){let D=h.Lo[h.currentUser.toKey()];D||(D=new Xn(Rt)),D=D.insert(m,w),h.Lo[h.currentUser.toKey()]=D}(o,c.batchId,i),yield Su(o,c.changes),yield tc(o.remoteStore)}catch(c){const h=_h(c,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function GT(s,r){return mw.apply(this,arguments)}function mw(){return(mw=(0,Ie.Z)(function*(s,r){const i=je(s);try{const o=yield Ur(i.localStore,r);r.targetChanges.forEach((c,h)=>{const m=i.Fo.get(h);m&&(pt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Co=!0:c.modifiedDocuments.size>0?pt(m.Co):c.removedDocuments.size>0&&(pt(m.Co),m.Co=!1))}),yield Su(i,o,r)}catch(o){yield Jl(o)}})).apply(this,arguments)}function yw(s,r,i){const o=je(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.xo.forEach((h,m)=>{const w=m.view.eo(r);w.snapshot&&c.push(w.snapshot)}),function(h,m){const w=je(h);w.onlineState=m;let D=!1;w.queries.forEach((A,x)=>{for(const O of x.listeners)O.eo(m)&&(D=!0)}),D&&lw(w)}(o.eventManager,r),c.length&&o.No.Tr(c),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function lM(s,r,i){return qT.apply(this,arguments)}function qT(){return(qT=(0,Ie.Z)(function*(s,r,i){const o=je(s);o.sharedClientState.updateQueryState(r,"rejected",i);const c=o.Fo.get(r),h=c&&c.key;if(h){let m=new Xn(Ke.comparator);m=m.insert(h,Tn.newNoDocument(h,vt.min()));const w=Xt().add(h),D=new fu(vt.min(),new Map,new Fn(Rt),m,w);yield GT(o,D),o.Oo=o.Oo.remove(h),o.Fo.delete(r),JT(o)}else yield fh(o.localStore,r,!1).then(()=>Zp(o,r,i)).catch(Jl)})).apply(this,arguments)}function cM(s,r){return zT.apply(this,arguments)}function zT(){return(zT=(0,Ie.Z)(function*(s,r){const i=je(s),o=r.batch.batchId;try{const c=yield $N(i.localStore,r);YT(i,o,null),KT(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Su(i,c)}catch(c){yield Jl(c)}})).apply(this,arguments)}function dM(s,r,i){return WT.apply(this,arguments)}function WT(){return(WT=(0,Ie.Z)(function*(s,r,i){const o=je(s);try{const c=yield function(h,m){const w=je(h);return w.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let A;return w.In.lookupMutationBatch(D,m).next(x=>(pt(null!==x),A=x.keys(),w.In.removeMutationBatch(D,x))).next(()=>w.In.performConsistencyCheck(D)).next(()=>w.Qn.bn(D,A))})}(o.localStore,r);YT(o,r,i),KT(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield Su(o,c)}catch(c){yield Jl(c)}})).apply(this,arguments)}function ZT(){return(ZT=(0,Ie.Z)(function*(s,r){const i=je(s);bo(i.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const m=je(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>m.In.getHighestUnacknowledgedBatchId(w))}(i.localStore);if(-1===o)return void r.resolve();const c=i.Bo.get(o)||[];c.push(r),i.Bo.set(o,c)}catch(o){const c=_h(o,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function KT(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function YT(s,r,i){const o=je(s);let c=o.Lo[o.currentUser.toKey()];if(c){const h=c.get(r);h&&(i?h.reject(i):h.resolve(),c=c.remove(r)),o.Lo[o.currentUser.toKey()]=c}}function Zp(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||rR(s,o)})}function rR(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&($p(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),JT(s))}function QT(s,r,i){for(const o of i)o instanceof hw?(s.Mo.addReference(o.key,r),fM(s,o)):o instanceof fw?(Ve("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||rR(s,o.key)):Ze()}function fM(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(Ve("SyncEngine","New document in limbo: "+i),s.$o.add(o),JT(s))}function JT(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new Ke(kt.fromString(r)),o=s.Uo.next();s.Fo.set(o,new jT(i)),s.Oo=s.Oo.insert(i,o),s_(s.remoteStore,new Eo(Fi(nh(i.path)),o,2,Bt.T))}}function Su(s,r,i){return XT.apply(this,arguments)}function XT(){return(XT=(0,Ie.Z)(function*(s,r,i){const o=je(s),c=[],h=[],m=[];var w;o.xo.isEmpty()||(o.xo.forEach((w,D)=>{m.push(o.Ko(D,r,i).then(A=>{if(A){o.isPrimaryClient&&o.sharedClientState.updateQueryState(D.targetId,A.fromCache?"not-current":"current"),c.push(A);const x=L0.kn(D.targetId,A);h.push(x)}}))}),yield Promise.all(m),o.No.Tr(c),yield(w=(0,Ie.Z)(function*(D,A){const x=je(D);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ae.forEach(A,j=>Ae.forEach(j.Nn,G=>x.persistence.referenceDelegate.addReference(O,j.targetId,G)).next(()=>Ae.forEach(j.xn,G=>x.persistence.referenceDelegate.removeReference(O,j.targetId,G)))))}catch(O){if(!_u(O))throw O;Ve("LocalStore","Failed to update sequence numbers: "+O)}for(const O of A){const j=O.targetId;if(!O.fromCache){const G=x.Un.get(j),be=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);x.Un=x.Un.insert(j,be)}}}),function(D,A){return w.apply(this,arguments)})(o.localStore,h))})).apply(this,arguments)}function iR(s,r){return _w.apply(this,arguments)}function _w(){return(_w=(0,Ie.Z)(function*(s,r){const i=je(s);if(!i.currentUser.isEqual(r)){Ve("SyncEngine","User change. New user:",r.toKey());const o=yield V0(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(m=>{m.forEach(w=>{w.reject(new re(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield Su(i,o.Wn)}var c})).apply(this,arguments)}function sR(s,r){const i=je(s),o=i.Fo.get(r);if(o&&o.Co)return Xt().add(o.key);{let c=Xt();const h=i.ko.get(r);if(!h)return c;for(const m of h){const w=i.xo.get(m);c=c.unionWith(w.view.To)}return c}}function pM(s,r){return eD.apply(this,arguments)}function eD(){return(eD=(0,Ie.Z)(function*(s,r){const i=je(s),o=yield Lp(i.localStore,r.query,!0),c=r.view.So(o);return i.isPrimaryClient&&QT(i,r.targetId,c.vo),c})).apply(this,arguments)}function gM(s){return vw.apply(this,arguments)}function vw(){return(vw=(0,Ie.Z)(function*(s){const r=je(s);return _T(r.localStore).then(i=>Su(r,i))})).apply(this,arguments)}function oR(s,r,i,o){return Ew.apply(this,arguments)}function Ew(){return(Ew=(0,Ie.Z)(function*(s,r,i,o){const c=je(s),h=yield function(m,w){const D=je(m),A=je(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",x=>A.Xt(x,w).next(O=>O?D.Qn.bn(x,O):Ae.resolve(null)))}(c.localStore,r);var w;null!==h?("pending"===i?yield tc(c.remoteStore):"acknowledged"===i||"rejected"===i?(YT(c,r,o||null),KT(c,r),w=r,je(je(c.localStore).In).te(w)):Ze(),yield Su(c,h)):Ve("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function tD(){return(tD=(0,Ie.Z)(function*(s,r){const i=je(s);if(ww(i),bw(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),c=yield aR(i,o.toArray());i.qo=!0,yield iw(i.remoteStore,!0);for(const h of c)s_(i.remoteStore,h)}else if(!1===r&&!1!==i.qo){const o=[];let c=Promise.resolve();i.ko.forEach((h,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):c=c.then(()=>(Zp(i,m),fh(i.localStore,m,!0))),$p(i.remoteStore,m)}),yield c,yield aR(i,o),function(h){const m=je(h);m.Fo.forEach((w,D)=>{$p(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new Xn(Ke.comparator)}(i),i.qo=!1,yield iw(i.remoteStore,!1)}})).apply(this,arguments)}function aR(s,r,i){return nD.apply(this,arguments)}function nD(){return(nD=(0,Ie.Z)(function*(s,r,i){const o=je(s),c=[],h=[];for(const m of r){let w;const D=o.ko.get(m);if(D&&0!==D.length){w=yield Cu(o.localStore,Fi(D[0]));for(const A of D){const x=o.xo.get(A),O=yield pM(o,x);O.snapshot&&h.push(O.snapshot)}}else{const A=yield B0(o.localStore,m);w=yield Cu(o.localStore,A),yield pw(o,rD(A),m,!1)}c.push(w)}return o.No.Tr(h),c})).apply(this,arguments)}function rD(s){return RI(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function yM(s){const r=je(s);return je(je(r.localStore).persistence).pn()}function uR(s,r,i,o){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,Ie.Z)(function*(s,r,i,o){const c=je(s);if(c.qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const h=yield _T(c.localStore),m=fu.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Su(c,h,m);break}case"rejected":yield fh(c.localStore,r,!0),Zp(c,r,o);break;default:Ze()}})).apply(this,arguments)}function vh(s,r,i){return m_.apply(this,arguments)}function m_(){return(m_=(0,Ie.Z)(function*(s,r,i){const o=ww(s);if(o.qo){for(const c of r){if(o.ko.has(c)){Ve("SyncEngine","Adding an already active target "+c);continue}const h=yield B0(o.localStore,c),m=yield Cu(o.localStore,h);yield pw(o,rD(h),m.targetId,!1),s_(o.remoteStore,m)}for(const c of i)o.ko.has(c)&&(yield fh(o.localStore,c,!1).then(()=>{$p(o.remoteStore,c),Zp(o,c)}).catch(Jl))}})).apply(this,arguments)}function ww(s){const r=je(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=sR.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=lM.bind(null,r),r.No.Tr=h_.bind(null,r.eventManager),r.No.jo=LT.bind(null,r.eventManager),r}function bw(s){const r=je(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,r),r}class Iw{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Ie.Z)(function*(){i.N=Up(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return yT(this.persistence,new mT,r.initialUser,this.N)}Go(r){return new zN(t_.Ns,this.N)}Wo(r){return new ph}terminate(){var r=this;return(0,Ie.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Tw extends Iw{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Ie.Z)(function*(){yield i().call(o,r),yield function(s){return j0.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield bw(o.Jo.syncEngine),yield tc(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return yT(this.persistence,new mT,r.initialUser,this.N)}zo(r){return new FN(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=kp(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new pT(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,AT(),i_(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new ph}}class iD extends Tw{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Ie.Z)(function*(){yield i().call(o,r);const c=o.Jo.syncEngine;o.sharedClientState instanceof Z0&&(o.sharedClientState.syncEngine={_i:oR.bind(null,c),mi:uR.bind(null,c),gi:vh.bind(null,c),pn:yM.bind(null,c),wi:gM.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var h=(0,Ie.Z)(function*(m){yield function(s,r){return tD.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(r){const i=AT();if(!Z0.Pt(i))throw new re(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=kp(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Z0(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class sD{initialize(r,i){var o=this;return(0,Ie.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>yw(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=iR.bind(null,o.syncEngine),yield iw(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new aw}createDatastore(r){const i=Up(r.databaseInfo.databaseId),o=new ST(r.databaseInfo);return new Bp(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,c=r.asyncQueue,h=w=>yw(this.syncEngine,w,0),m=K0.Pt()?new K0:new IT,new KN(i,o,c,h,m);var i,o,c,h,m}createSyncEngine(r,i){return function(o,c,h,m,w,D,A){const x=new tR(o,c,h,m,w,D);return A&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Ie.Z)(function*(i){const o=je(i);Ve("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield gh(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function Dw(s,r=10240){let i=0;return{read:()=>(0,Ie.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ic{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class oD{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new lr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ie.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ie.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),c=Number(o);isNaN(c)&&r.sa(`length string (${o}) is not valid number`);const h=yield r.ia(c);return new cw(JSON.parse(h),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ie.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Ie.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class _M{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Ie.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new re(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,Ie.Z)(function*(h,m){const w=je(h),D=ah(w.N)+"/documents",A={documents:m.map(G=>Cp(w.N,G))},x=yield w.Ki("BatchGetDocuments",D,A),O=new Map;x.forEach(G=>{const ee=function(s,r){return"found"in r?function(i,o){pt(!!o.found);const c=_o(i,o.found.name),h=cr(o.found.updateTime),m=new Vr({mapValue:{fields:o.found.fields}});return Tn.newFoundDocument(c,h,m)}(s,r):"missing"in r?function(i,o){pt(!!o.missing),pt(!!o.readTime);const c=_o(i,o.missing),h=cr(o.readTime);return Tn.newNoDocument(c,h)}(s,r):Ze()}(w.N,G);O.set(ee.key.toString(),ee)});const j=[];return m.forEach(G=>{const ee=O.get(G.toString());pt(!!ee),j.push(ee)}),j}),function(h,m){return c.apply(this,arguments)})(i.datastore,r);var c;return o.forEach(c=>i.recordVersion(c)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new wp(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ie.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,c)=>{const h=Ke.fromPath(c);r.mutations.push(new w0(h,r.precondition(h)))}),yield(o=(0,Ie.Z)(function*(c,h){const m=je(c),w=ah(m.N)+"/documents",D={writes:h.map(A=>qy(m.N,A))};yield m.Li("Commit",w,D)}),function(c,h){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Ze();i=vt.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new re(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?Rn.updateTime(i):Rn.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(vt.min()))throw new re(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(i)}return Rn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class vM{constructor(r,i,o,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=c,this.aa=5,this.rr=new Y0(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ie.Z)(function*(){const i=new _M(r.datastore),o=r.ua(i);o&&o.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(h=>{r.ha(h)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!Bl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!jy(i)}return!1}}class EM{constructor(r,i,o){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=ur.UNAUTHENTICATED,this.clientId=o0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var h=(0,Ie.Z)(function*(m){Ve("FirestoreClient","Received user=",m.uid),yield c.credentialListener(m),c.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ie.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const c=_h(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function aD(s,r){return uD.apply(this,arguments)}function uD(){return(uD=(0,Ie.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,Ie.Z)(function*(h){o.isEqual(h)||(yield V0(r.localStore,h),o=h)});return function(h){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function Yp(s,r){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,Ie.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield lD(s);Ve("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(c=>{return(h=(0,Ie.Z)(function*(m,w){const D=je(m);D.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const A=bo(D);D.Kr.add(3),yield gh(D),A&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(w),D.Kr.delete(3),yield ec(D)}),function(m,w){return h.apply(this,arguments)})(r.remoteStore,c);var h}),s.onlineComponents=r})).apply(this,arguments)}function lD(s){return cD.apply(this,arguments)}function cD(){return(cD=(0,Ie.Z)(function*(s){return s.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield aD(s,new Iw)),s.offlineComponents})).apply(this,arguments)}function Eh(s){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,Ie.Z)(function*(s){return s.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield Yp(s,new sD)),s.onlineComponents})).apply(this,arguments)}function lR(s){return lD(s).then(r=>r.persistence)}function dD(s){return lD(s).then(r=>r.localStore)}function hD(s){return Eh(s).then(r=>r.remoteStore)}function fD(s){return Eh(s).then(r=>r.syncEngine)}function sc(s){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,Ie.Z)(function*(s){const r=yield Eh(s),i=r.eventManager;return i.onListen=nR.bind(null,r.syncEngine),i.onUnlisten=$T.bind(null,r.syncEngine),i})).apply(this,arguments)}function wh(s,r,i={}){const o=new lr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,h,m,w,D){const A=new ic({next:O=>{h.enqueueAndForget(()=>uw(c,x));const j=O.docs.has(m);!j&&O.fromCache?D.reject(new re(me.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&w&&"server"===w.source?D.reject(new re(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(O)},error:O=>D.reject(O)}),x=new Wp(nh(m.path),A,{includeMetadataChanges:!0,uo:!0});return FT(c,x)}(yield sc(s),s.asyncQueue,r,i,o)})),o.promise}function pD(s,r,i={}){const o=new lr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,h,m,w,D){const A=new ic({next:O=>{h.enqueueAndForget(()=>uw(c,x)),O.fromCache&&"server"===w.source?D.reject(new re(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(O)},error:O=>D.reject(O)}),x=new Wp(m,A,{includeMetadataChanges:!0,uo:!0});return FT(c,x)}(yield sc(s),s.asyncQueue,r,i,o)})),o.promise}class pR{constructor(r,i,o,c,h,m,w,D){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=w,this.useFetchStreams=D}}class Au{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Au&&r.projectId===this.projectId&&r.database===this.database}}const gD=new Map;function xw(s,r,i){if(!i)throw new re(me.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function y_(s,r,i,o){if(!0===r&&!0===o)throw new re(me.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Mw(s){if(!Ke.isDocumentKey(s))throw new re(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ow(s){if(Ke.isDocumentKey(s))throw new re(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function __(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Ze()}function jt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new re(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=__(s);throw new re(me.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function Pw(s,r){if(r<=0)throw new re(me.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class mD{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new re(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new re(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,y_("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Qp{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mD({}),this._settingsFrozen=!1,r instanceof Au?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new re(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(o.options.projectId)}(r))}get app(){if(!this._app)throw new re(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new re(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mD(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new tN;switch(i.type){case"gapi":const o=i.client;return pt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Sy(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new re(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=gD.get(r);i&&(Ve("ComponentProvider","Removing Datastore"),gD.delete(r),i.terminate())}(this),Promise.resolve()}}class gn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new gn(this.firestore,r,this._key)}}class Ar{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Ar(this.firestore,r,this._query)}}class rs extends Ar{constructor(r,i,o){super(r,i,nh(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new gn(this.firestore,null,new Ke(r))}withConverter(r){return new rs(this.firestore,r,this._path)}}function yD(s,r,...i){if(s=(0,Gt.m9)(s),xw("collection","path",r),s instanceof Qp){const o=kt.fromString(r,...i);return Ow(o),new rs(s,null,o)}{if(!(s instanceof gn||s instanceof rs))throw new re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=kt.fromString(s.path,...i).child(kt.fromString(r));return Ow(o),new rs(s.firestore,null,o)}}function v_(s,r,...i){if(s=(0,Gt.m9)(s),1===arguments.length&&(r=o0.I()),xw("doc","path",r),s instanceof Qp){const o=kt.fromString(r,...i);return Mw(o),new gn(s,null,new Ke(o))}{if(!(s instanceof gn||s instanceof rs))throw new re(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(kt.fromString(r,...i));return Mw(o),new gn(s.firestore,s instanceof rs?s.converter:null,new Ke(o))}}function gR(s,r){return s=(0,Gt.m9)(s),r=(0,Gt.m9)(r),(s instanceof gn||s instanceof rs)&&(r instanceof gn||r instanceof rs)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function _D(s,r){return s=(0,Gt.m9)(s),r=(0,Gt.m9)(r),s instanceof Ar&&r instanceof Ar&&s.firestore===r.firestore&&vp(s._query,r._query)&&s.converter===r.converter}class CM{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Y0(this,"async_queue_retry"),this.Ea=()=>{const i=i_();i&&Ve("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=i_();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=i_();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new lr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ie.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!_u(i))throw i;Ve("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,Gn("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=sw.createAndSchedule(this,r,i,o,h=>this.Ra(h));return this._a.push(c),c}Ta(){this.ma&&Ze()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Ie.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function Fw(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(s)}class mR{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Un extends Qp{constructor(r,i){super(r,i),this.type="firestore",this._queue=new CM,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vD(this),this._firestoreClient.terminate()}}function tr(s){return s._firestoreClient||vD(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function vD(s){var r;const i=s._freezeSettings(),o=(h=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new pR(s._databaseId,h,s._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var h,w;s._firestoreClient=new EM(s._credentials,s._queue,o)}function ER(s,r,i){const o=new lr;return s.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield aD(s,i),yield Yp(s,r),o.resolve()}catch(c){if(!("FirebaseError"===(h=c).name?h.code===me.FAILED_PRECONDITION||h.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),o.reject(c)}var h})).then(()=>o.promise)}function Vw(s){if(s._initialized||s._terminated)throw new re(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ha{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new re(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class fa{constructor(r){this._byteString=r}static fromBase64String(r){try{return new fa(Jn.fromBase64String(r))}catch(i){throw new re(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new fa(Jn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class bh{constructor(r){this._methodName=r}}class Uw{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new re(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new re(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Rt(this._lat,r._lat)||Rt(this._long,r._long)}}const CD=/^__.*__$/;class ID{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new As(r,this.data,this.fieldMask,i,this.fieldTransforms):new By(r,this.data,i,this.fieldTransforms)}}class TD{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new As(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function DD(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class E_{constructor(r,i,o,c,h,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=c,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new E_(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.ka(r),c}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:o,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return I_(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(DD(this.Da)&&CD.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class IR{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||Up(r)}Ba(r,i,o,c=!1){return new E_({Da:r,methodName:i,La:o,path:Cr.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Nu(s){const r=s._freezeSettings(),i=Up(s._databaseId);return new IR(s._databaseId,!!r.ignoreUndefinedProperties,i)}function Bw(s,r,i,o,c,h={}){const m=s.Ba(h.merge||h.mergeFields?2:0,r,i,c);pa("Data must be an object, but it was:",m,o);const w=ND(o,m);let D,A;if(h.merge)D=new Yd(m.fieldMask),A=m.fieldTransforms;else if(h.mergeFields){const x=[];for(const O of h.mergeFields){const j=C_(r,O,i);if(!m.contains(j))throw new re(me.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);ng(x,j)||x.push(j)}D=new Yd(x),A=m.fieldTransforms.filter(O=>D.covers(O.field))}else D=null,A=m.fieldTransforms;return new ID(new Vr(w),D,A)}class w_ extends bh{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof w_}}function SD(s,r,i){return new E_({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class Xp extends bh{_toFieldTransform(r){return new Ds(r.path,new sh)}isEqual(r){return r instanceof Xp}}class dr extends bh{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=SD(this,r,!0),o=this.Ua.map(h=>oc(h,i)),c=new du(o);return new Ds(r.path,c)}isEqual(r){return this===r}}class DM extends bh{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=SD(this,r,!0),o=this.Ua.map(h=>oc(h,i)),c=new hu(o);return new Ds(r.path,c)}isEqual(r){return this===r}}class AD extends bh{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new $l(r.N,y0(r.N,this.qa));return new Ds(r.path,i)}isEqual(r){return this===r}}function b_(s,r,i,o){const c=s.Ba(1,r,i);pa("Data must be an object, but it was:",c,o);const h=[],m=Vr.empty();Vl(o,(D,A)=>{const x=tg(r,D,i);A=(0,Gt.m9)(A);const O=c.$a(x);if(A instanceof w_)h.push(x);else{const j=oc(A,O);null!=j&&(h.push(x),m.set(x,j))}});const w=new Yd(h);return new TD(m,w,c.fieldTransforms)}function jw(s,r,i,o,c,h){const m=s.Ba(1,r,i),w=[C_(r,o,i)],D=[c];if(h.length%2!=0)throw new re(me.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<h.length;j+=2)w.push(C_(r,h[j])),D.push(h[j+1]);const A=[],x=Vr.empty();for(let j=w.length-1;j>=0;--j)if(!ng(A,w[j])){const G=w[j];let ee=D[j];ee=(0,Gt.m9)(ee);const be=m.$a(G);if(ee instanceof w_)A.push(G);else{const xe=oc(ee,be);null!=xe&&(A.push(G),x.set(G,xe))}}const O=new Yd(A);return new TD(x,O,m.fieldTransforms)}function eg(s,r,i,o=!1){return oc(i,s.Ba(o?4:3,r))}function oc(s,r){if($w(s=(0,Gt.m9)(s)))return pa("Unsupported field value:",r,s),ND(s,r);if(s instanceof bh)return function(i,o){if(!DD(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const m of i){let w=oc(m,o.Oa(h));null==w&&(w={nullValue:"NULL_VALUE"}),c.push(w),h++}return{arrayValue:{values:c}}}(s,r)}return function(i,o){if(null===(i=(0,Gt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return y0(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Qn.fromDate(i);return{timestampValue:bp(o.N,c)}}if(i instanceof Qn){const c=new Qn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bp(o.N,c)}}if(i instanceof Uw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:zI(o.N,i._byteString)};if(i instanceof gn){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gl(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${__(i)}`)}(s,r)}function ND(s,r){const i={};return yI(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Vl(s,(o,c)=>{const h=oc(c,r.Na(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function $w(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Qn||s instanceof Uw||s instanceof fa||s instanceof gn||s instanceof bh)}function pa(s,r,i){if(!$w(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=__(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function C_(s,r,i){if((r=(0,Gt.m9)(r))instanceof ha)return r._internalPath;if("string"==typeof r)return tg(s,r);throw I_("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const Hw=new RegExp("[~\\*/\\[\\]]");function tg(s,r,i){if(r.search(Hw)>=0)throw I_(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new ha(...r.split("."))._internalPath}catch(o){throw I_(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function I_(s,r,i,o,c){const h=o&&!o.isEmpty(),m=void 0!==c;let w=`Function ${r}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${o}`),m&&(D+=` in document ${c}`),D+=")"),new re(me.INVALID_ARGUMENT,w+s+D)}function ng(s,r){return s.some(i=>i.isEqual(r))}class rg{constructor(r,i,o,c,h){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new Gw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(ig("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Gw extends rg{data(){return super.data()}}function ig(s,r){return"string"==typeof r?tg(s,r):r instanceof ha?r._internalPath:r._delegate._internalPath}class Dn{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Ru extends rg{constructor(r,i,o,c,h,m){super(r,i,o,c,m),this._firestore=r,this._firestoreImpl=r,this.metadata=h}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(ig("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class sg extends Ru{data(r={}){return super.data(r)}}class xu{constructor(r,i,o,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new Dn(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new sg(this._firestore,this._userDataWriter,o.key,o,new Dn(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new sg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dn(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const w=new sg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dn(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let D=-1,A=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),A=h.indexOf(m.doc.key)),{type:SM(m.type),doc:w,oldIndex:D,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function SM(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}function og(s,r){return s instanceof Ru&&r instanceof Ru?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof xu&&r instanceof xu&&s._firestore===r._firestore&&_D(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function RD(s){if(Py(s)&&0===s.explicitOrderBy.length)throw new re(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T_{}function ac(s,...r){for(const i of r)s=i._apply(s);return s}class AM extends T_{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=Nu(r.firestore),o=function(c,h,m,w,D,A,x){let O;if(D.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new re(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on FieldPath.documentId().`);if("in"===A||"not-in"===A){kD(x,A);const G=[];for(const ee of x)G.push(PD(w,c,ee));O={arrayValue:{values:G}}}else O=PD(w,c,x)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||kD(x,A),O=eg(m,"where",x,"in"===A||"not-in"===A);const j=Xr.create(D,A,O);return function(G,ee){if(ee.v()){const xe=p0(G);if(null!==xe&&!xe.isEqual(ee.field))throw new re(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ee.field.toString()}'`);const tt=f0(G);null!==tt&&FD(0,ee.field,tt)}const be=function(xe,tt){for(const it of xe.filters)if(tt.indexOf(it.op)>=0)return it.op;return null}(G,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==be)throw new re(me.INVALID_ARGUMENT,be===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${be.toString()}' filters.`)}(c,j),j}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ar(r.firestore,r.converter,function(c,h){const m=c.filters.concat([h]);return new yo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,o))}}class DR extends T_{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,c,h){if(null!==o.startAt)throw new re(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new re(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new th(c,h);return function(w,D){if(null===f0(w)){const A=p0(w);null!==A&&FD(0,A,D.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new Ar(r.firestore,r.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new yo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class xD extends T_{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new Ar(r.firestore,r.converter,m0(r._query,this.Ga,this.za))}}class MD extends T_{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=OD(r,this.type,this.Ha,this.Ja);return new Ar(r.firestore,r.converter,(c=i,new yo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class xR extends T_{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=OD(r,this.type,this.Ha,this.Ja);return new Ar(r.firestore,r.converter,(c=i,new yo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function OD(s,r,i,o){if(i[0]=(0,Gt.m9)(i[0]),i[0]instanceof rg)return function(c,h,m,w,D){if(!w)throw new re(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const A=[];for(const x of rh(c))if(x.field.isKeyField())A.push(c0(h,w.key));else{const O=w.data.field(x.field);if(Ul(O))throw new re(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const j=x.field.canonicalString();throw new re(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}A.push(O)}return new eh(A,D)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const c=Nu(s.firestore);return function(h,m,w,D,A,x){const O=h.explicitOrderBy;if(A.length>O.length)throw new re(me.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let G=0;G<A.length;G++){const ee=A[G];if(O[G].field.isKeyField()){if("string"!=typeof ee)throw new re(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ee}`);if(!g0(h)&&-1!==ee.indexOf("/"))throw new re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ee}' contains a slash.`);const be=h.path.child(kt.fromString(ee));if(!Ke.isDocumentKey(be))throw new re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${be}' is not because it contains an odd number of segments.`);const xe=new Ke(be);j.push(c0(m,xe))}else{const be=eg(w,D,ee);j.push(be)}}return new eh(j,x)}(s._query,s.firestore._databaseId,c,r,i,o)}}function PD(s,r,i){if("string"==typeof(i=(0,Gt.m9)(i))){if(""===i)throw new re(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!g0(r)&&-1!==i.indexOf("/"))throw new re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(kt.fromString(i));if(!Ke.isDocumentKey(o))throw new re(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return c0(s,new Ke(o))}if(i instanceof gn)return c0(s,i._key);throw new re(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${__(i)}.`)}function kD(s,r){if(!Array.isArray(s)||0===s.length)throw new re(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new re(me.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function FD(s,r,i){if(!i.isEqual(r))throw new re(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Bi{convertValue(r,i="none"){switch(jl(r)){case 0:return null;case 1:return r.booleanValue;case 2:return qn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(mo(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Ze()}}convertObject(r,i){const o={};return Vl(r.fields,(c,h)=>{o[c]=this.convertValue(h,i)}),o}convertGeoPoint(r){return new Uw(qn(r.latitude),qn(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=vI(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(gp(r));default:return null}}convertTimestamp(r){const i=sa(r);return new Qn(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=kt.fromString(r);pt(ql(o));const c=new Au(o.get(1),o.get(3)),h=new Ke(o.popFirst(5));return c.isEqual(i)||Gn(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function D_(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class OR extends Bi{constructor(r){super(),this.firestore=r}convertBytes(r){return new fa(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new gn(this.firestore,null,i)}}class LD{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Nu(r)}set(r,i,o){this._verifyNotCommitted();const c=Mu(r,this._firestore),h=D_(c.converter,i,o),m=Bw(this._dataReader,"WriteBatch.set",c._key,h,null!==c.converter,o);return this._mutations.push(m.toMutation(c._key,Rn.none())),this}update(r,i,o,...c){this._verifyNotCommitted();const h=Mu(r,this._firestore);let m;return m="string"==typeof(i=(0,Gt.m9)(i))||i instanceof ha?jw(this._dataReader,"WriteBatch.update",h._key,i,o,c):b_(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,Rn.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=Mu(r,this._firestore);return this._mutations=this._mutations.concat(new wp(i._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mu(s,r){if((s=(0,Gt.m9)(s)).firestore!==r)throw new re(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class uc extends Bi{constructor(r){super(),this.firestore=r}convertBytes(r){return new fa(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new gn(this.firestore,null,i)}}function UD(s,r,i){s=jt(s,gn);const o=jt(s.firestore,Un),c=D_(s.converter,r,i);return Ch(o,[Bw(Nu(o),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,Rn.none())])}function FR(s,r,i,...o){s=jt(s,gn);const c=jt(s.firestore,Un),h=Nu(c);let m;return m="string"==typeof(r=(0,Gt.m9)(r))||r instanceof ha?jw(h,"updateDoc",s._key,r,i,o):b_(h,"updateDoc",s._key,r),Ch(c,[m.toMutation(s._key,Rn.exists(!0))])}function S_(s,...r){var i,o,c;s=(0,Gt.m9)(s);let h={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||Fw(r[m])||(h=r[m],m++);const w={includeMetadataChanges:h.includeMetadataChanges};if(Fw(r[m])){const O=r[m];r[m]=null===(i=O.next)||void 0===i?void 0:i.bind(O),r[m+1]=null===(o=O.error)||void 0===o?void 0:o.bind(O),r[m+2]=null===(c=O.complete)||void 0===c?void 0:c.bind(O)}let D,A,x;if(s instanceof gn)A=jt(s.firestore,Un),x=nh(s._key.path),D={next:O=>{r[m]&&r[m](qw(A,s,O))},error:r[m+1],complete:r[m+2]};else{const O=jt(s,Ar);A=jt(O.firestore,Un),x=O._query;const j=new uc(A);D={next:G=>{r[m]&&r[m](new xu(A,j,O,G))},error:r[m+1],complete:r[m+2]},RD(s._query)}return function(O,j,G,ee){const be=new ic(ee),xe=new Wp(j,be,G);return O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return FT(yield sc(O),xe)})),()=>{be.Xo(),O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return uw(yield sc(O),xe)}))}}(tr(A),x,w,D)}function Ch(s,r){return function(i,o){const c=new lr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,r,i){return gw.apply(this,arguments)}(yield fD(i),o,c)})),c.promise}(tr(s),r)}function qw(s,r,i){const o=i.docs.get(r._key),c=new uc(s);return new Ru(s,c,r._key,o,new Dn(i.hasPendingWrites,i.fromCache),r.converter)}class kM extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=Nu(r)}get(r){const i=Mu(r,this._firestore),o=new OR(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Ze();const h=c[0];if(h.isFoundDocument())return new rg(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new rg(this._firestore,o,i._key,null,i.converter);throw Ze()})}set(r,i,o){const c=Mu(r,this._firestore),h=D_(c.converter,i,o),m=Bw(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,o);return this._transaction.set(c._key,m),this}update(r,i,o,...c){const h=Mu(r,this._firestore);let m;return m="string"==typeof(i=(0,Gt.m9)(i))||i instanceof ha?jw(this._dataReader,"Transaction.update",h._key,i,o,c):b_(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(r){const i=Mu(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=Mu(r,this._firestore),o=new uc(this._firestore);return super.get(r).then(c=>new Ru(this._firestore,o,i._key,c._document,new Dn(!1,!1),i.converter))}}function ug(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new re("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function A_(){if("undefined"==typeof Uint8Array)throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function N_(){if("undefined"==typeof atob)throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){Fl=s})(yC.SDK_VERSION),(0,yC._registerComponent)(new _C.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new Un(i,new nN(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,yC.registerVersion)("@firebase/firestore","3.0.1",void 0);class Ou{constructor(r){this._delegate=r}static fromBase64String(r){return N_(),new Ou(fa.fromBase64String(r))}static fromUint8Array(r){return A_(),new Ou(fa.fromUint8Array(r))}toBase64(){return N_(),this._delegate.toBase64()}toUint8Array(){return A_(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ih(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class qD{enableIndexedDbPersistence(r,i){return function(s,r){Vw(s=jt(s,Un));const i=tr(s),o=s._freezeSettings(),c=new sD;return ER(i,c,new Tw(c,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){Vw(s=jt(s,Un));const r=tr(s),i=s._freezeSettings(),o=new sD;return ER(r,o,new iD(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new re(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new lr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(i=(0,Ie.Z)(function*(o){if(!Vi.Pt())return Promise.resolve();const c=o+"main";yield Vi.delete(c)}),function(o){return i.apply(this,arguments)})(kp(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class zD{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof Au||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&go("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var c;const h=(s=jt(s,Qp))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&go("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,w;if("string"==typeof o.mockUserToken)m=o.mockUserToken,w=ur.MOCK_USER;else{m=(0,Gt.Sg)(o.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const D=o.mockUserToken.sub||o.mockUserToken.user_id;if(!D)throw new re(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ur(D)}s._credentials=new Ty(new mI(m,w))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield lR(s),i=yield hD(s);return r.setNetworkEnabled(!0),function(o){const c=je(o);return c.Kr.delete(0),ec(c)}(i)}))}(tr(s=jt(s,Un)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield lR(s),i=yield hD(s);return r.setNetworkEnabled(!1),(o=(0,Ie.Z)(function*(c){const h=je(c);h.Kr.add(0),yield gh(h),h.Wr.set("Offline")}),function(c){return o.apply(this,arguments)})(i);var o}))}(tr(s=jt(s,Un)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,y_("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new lr;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,r){return ZT.apply(this,arguments)}(yield fD(r),i)})),i.promise}(tr(s=jt(s,Un)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new ic(r);return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return o=yield sc(s),c=i,je(o).Zr.add(c),void c.next();var o,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return o=yield sc(s),c=i,void je(o).Zr.delete(c);var o,c}))}}(tr(s=jt(s,Un)),Fw(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new ga(this,yD(this._delegate,r))}catch(i){throw ri(i,"collection()","Firestore.collection()")}}doc(r){try{return new bi(this,v_(this._delegate,r))}catch(i){throw ri(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new hr(this,function(s,r){if(s=jt(s,Qp),xw("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new re(me.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ar(s,null,(i=r,new yo(kt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw ri(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new lr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const o=yield(c=s,Eh(c).then(h=>h.datastore));var c;new vM(s.asyncQueue,o,r,i).run()})),i.promise}(tr(s),i=>r(new kM(s,i)))}(this._delegate,i=>r(new ZD(this,i)))}batch(){return tr(this._delegate),new KD(new LD(this._delegate,r=>Ch(this._delegate,r)))}loadBundle(r){return function(s,r){const i=tr(s=jt(s,Un)),o=new mR;return function(s,r,i,o){const c=function(h,m){let w;return w="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,A){if(D instanceof Uint8Array)return Dw(D,A);if(D instanceof ArrayBuffer)return Dw(new Uint8Array(D),A);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new oD(D,m);var D}(i,Up(r));s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(s,r,i){const o=je(s);var c;(c=(0,Ie.Z)(function*(h,m,w){try{const D=yield m.getMetadata();if(yield function(j,G){const ee=je(j),be=cr(G.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",xe=>ee.Je.getBundleMetadata(xe,G.id)).then(xe=>!!xe&&xe.createTime.compareTo(be)>=0)}(h.localStore,D))return yield m.close(),void w._completeWith((j=D,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));w._updateProgress(dw(D));const A=new eR(D,h.localStore,m.N);let x=yield m.Qo();for(;x;){const j=yield A.fo(x);j&&w._updateProgress(j),x=yield m.Qo()}const O=yield A.complete();yield Su(h,O.Tn,void 0),yield function(j,G){const ee=je(j);return ee.persistence.runTransaction("Save bundle","readwrite",be=>ee.Je.saveBundleMetadata(be,G))}(h.localStore,D),w._completeWith(O.progress)}catch(D){go("SyncEngine",`Loading bundle failed with ${D}`),w._failWith(D)}var j}),function(h,m,w){return c.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield fD(s),c,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(i,o){const c=je(i);return c.persistence.runTransaction("Get named query","readonly",h=>c.Je.getNamedQuery(h,o))}(yield dD(s),r)}))}(tr(s=jt(s,Un)),r).then(i=>i?new Ar(s,null,i.query):null)}(this._delegate,r).then(i=>i?new hr(this,i):null)}}class R_ extends Bi{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ou(new fa(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return bi.forKey(i,this.firestore,null)}}class ZD{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new R_(r)}get(r){const i=cc(r);return this._delegate.get(i).then(o=>new Pu(this._firestore,new Ru(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const c=cc(r);return o?(ug("Transaction.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const h=cc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...c),this}delete(r){const i=cc(r);return this._delegate.delete(i),this}}class KD{constructor(r){this._delegate=r}set(r,i,o){const c=cc(r);return o?(ug("WriteBatch.set",o),this._delegate.set(c,i,o)):this._delegate.set(c,i),this}update(r,i,o,...c){const h=cc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...c),this}delete(r){const i=cc(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class lc{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new sg(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Dh(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=lc.INSTANCES;let c=o.get(r);c||(c=new WeakMap,o.set(r,c));let h=c.get(i);return h||(h=new lc(r,new R_(r),i),c.set(i,h)),h}}lc.INSTANCES=new WeakMap;class bi{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new R_(r)}static forPath(r,i,o){if(r.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new bi(i,new gn(i._delegate,o,new Ke(r)))}static forKey(r,i,o){return new bi(i,new gn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new ga(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new ga(this.firestore,yD(this._delegate,r))}catch(i){throw ri(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Gt.m9)(r))instanceof gn&&gR(this._delegate,r)}set(r,i){i=ug("DocumentReference.set",i);try{return i?UD(this._delegate,r,i):UD(this._delegate,r)}catch(o){throw ri(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?FR(this._delegate,r):FR(this._delegate,r,i,...o)}catch(c){throw ri(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Ch(jt(s.firestore,Un),[new wp(s._key,Rn.none())])}(this._delegate)}onSnapshot(...r){const i=Br(r),o=Th(r,c=>new Pu(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return S_(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=jt(s,gn);const r=jt(s.firestore,Un),i=tr(r),o=new uc(r);return function(s,r){const i=new lr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(o=(0,Ie.Z)(function*(c,h,m){try{const w=yield function(D,A){const x=je(D);return x.persistence.runTransaction("read document","readonly",O=>x.Qn.An(O,A))}(c,h);w.isFoundDocument()?m.resolve(w):w.isNoDocument()?m.resolve(null):m.reject(new re(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const D=_h(w,`Failed to get document '${h} from cache`);m.reject(D)}}),function(c,h,m){return o.apply(this,arguments)})(yield dD(s),r,i);var o})),i.promise}(i,s._key).then(c=>new Ru(r,o,s._key,c,new Dn(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=jt(s,gn);const r=jt(s.firestore,Un);return wh(tr(r),s._key,{source:"server"}).then(i=>qw(r,s,i))}(this._delegate):function(s){s=jt(s,gn);const r=jt(s.firestore,Un);return wh(tr(r),s._key).then(i=>qw(r,s,i))}(this._delegate),i.then(o=>new Pu(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new bi(this.firestore,this._delegate.withConverter(r?lc.getInstance(this.firestore,r):null))}}function ri(s,r,i){return s.message=s.message.replace(r,i),s}function Br(s){for(const r of s)if("object"==typeof r&&!Ih(r))return r;return{}}function Th(s,r){var i,o;let c;return c=Ih(s[0])?s[0]:Ih(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:h=>{c.next&&c.next(r(h))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class Pu{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new bi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return og(this._delegate,r._delegate)}}class Dh extends Pu{data(r){const i=this._delegate.data(r);return function(s,r){s||Ze()}(void 0!==i),i}}class hr{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new R_(r)}where(r,i,o){try{return new hr(this.firestore,ac(this._delegate,function(s,r,i){const o=r,c=ig("where",s);return new AM(c,o,i)}(r,i,o)))}catch(c){throw ri(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new hr(this.firestore,ac(this._delegate,function(s,r="asc"){const i=r,o=ig("orderBy",s);return new DR(o,i)}(r,i)))}catch(o){throw ri(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new hr(this.firestore,ac(this._delegate,function(s){return Pw("limit",s),new xD("limit",s,"F")}(r)))}catch(i){throw ri(i,"limit()","Query.limit()")}}limitToLast(r){try{return new hr(this.firestore,ac(this._delegate,function(s){return Pw("limitToLast",s),new xD("limitToLast",s,"L")}(r)))}catch(i){throw ri(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new hr(this.firestore,ac(this._delegate,function(...s){return new MD("startAt",s,!0)}(...r)))}catch(i){throw ri(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new hr(this.firestore,ac(this._delegate,function(...s){return new MD("startAfter",s,!1)}(...r)))}catch(i){throw ri(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new hr(this.firestore,ac(this._delegate,function(...s){return new xR("endBefore",s,!0)}(...r)))}catch(i){throw ri(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new hr(this.firestore,ac(this._delegate,function(...s){return new xR("endAt",s,!1)}(...r)))}catch(i){throw ri(i,"endAt()","Query.endAt()")}}isEqual(r){return _D(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=jt(s,Ar);const r=jt(s.firestore,Un),i=tr(r),o=new uc(r);return function(s,r){const i=new lr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(o=(0,Ie.Z)(function*(c,h,m){try{const w=yield Lp(c,h,!0),D=new UT(h,w.Gn),A=D.Io(w.documents),x=D.applyChanges(A,!1);m.resolve(x.snapshot)}catch(w){const D=_h(w,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(c,h,m){return o.apply(this,arguments)})(yield dD(s),r,i);var o})),i.promise}(i,s._query).then(c=>new xu(r,o,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=jt(s,Ar);const r=jt(s.firestore,Un),i=tr(r),o=new uc(r);return pD(i,s._query,{source:"server"}).then(c=>new xu(r,o,s,c))}(this._delegate):function(s){s=jt(s,Ar);const r=jt(s.firestore,Un),i=tr(r),o=new uc(r);return RD(s._query),pD(i,s._query).then(c=>new xu(r,o,s,c))}(this._delegate),i.then(o=>new x_(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=Br(r),o=Th(r,c=>new x_(this.firestore,new xu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return S_(this._delegate,i,o)}withConverter(r){return new hr(this.firestore,this._delegate.withConverter(r?lc.getInstance(this.firestore,r):null))}}class zw{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Dh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class x_{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new hr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Dh(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new zw(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new Dh(this._firestore,o))})}isEqual(r){return og(this._delegate,r._delegate)}}class ga extends hr{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new bi(this.firestore,r):null}doc(r){try{return new bi(this.firestore,void 0===r?v_(this._delegate):v_(this._delegate,r))}catch(i){throw ri(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=jt(s.firestore,Un),o=v_(s),c=D_(s.converter,r);return Ch(i,[Bw(Nu(s.firestore),"addDoc",o._key,c,null!==s.converter,{}).toMutation(o._key,Rn.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new bi(this.firestore,i))}isEqual(r){return gR(this._delegate,r._delegate)}withConverter(r){return new ga(this.firestore,this._delegate.withConverter(r?lc.getInstance(this.firestore,r):null))}}function cc(s){return jt(s,gn)}class Ww{constructor(...r){this._delegate=new ha(...r)}static documentId(){return new Ww(Cr.keyField().canonicalString())}isEqual(r){return(r=(0,Gt.m9)(r))instanceof ha&&this._delegate._internalPath.isEqual(r._internalPath)}}class dc{constructor(r){this._delegate=r}static serverTimestamp(){const r=new Xp("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new dc(r)}static delete(){const r=new w_("deleteField");return r._methodName="FieldValue.delete",new dc(r)}static arrayUnion(...r){const i=function(...s){return new dr("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new dc(i)}static arrayRemove(...r){const i=function(...s){return new DM("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new dc(i)}static increment(r){const i=function(s){return new AD("increment",s)}(r);return i._methodName="FieldValue.increment",new dc(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const jR={Firestore:zD,GeoPoint:Uw,Timestamp:Qn,Blob:Ou,Transaction:ZD,WriteBatch:KD,DocumentReference:bi,DocumentSnapshot:Pu,Query:hr,QueryDocumentSnapshot:Dh,QuerySnapshot:x_,CollectionReference:ga,FieldPath:Ww,FieldValue:dc,setLogLevel:function(s){!function(s){po.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,r){s.INTERNAL.registerComponent(new _C.wA("firestore-compat",i=>((r,i)=>new zD(r,i,new qD))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},jR)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(yE.Z);var HR=F(6682),GR=F(7771),ku=F(8858);class lg extends kr.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new Zw(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,h=o.length;let m;if(this.closed)throw new hd.N;if(this.isStopped||this.hasError?m=Fr.w.EMPTY:(this.observers.push(r),m=new ku.W(this,r)),c&&r.add(r=new Ja.ht(r,c)),i)for(let w=0;w<h&&!r.closed;w++)r.next(o[w]);else for(let w=0;w<h&&!r.closed;w++)r.next(o[w].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||GR.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,c=this._events,h=c.length;let m=0;for(;m<h&&!(r-c[m].time<o);)m++;return h>i&&(m=Math.max(m,h-i)),m>0&&c.splice(0,m),c}}class Zw{constructor(r,i){this.time=r,this.value=i}}function QD(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let c,m,h=0,w=!1,D=!1;return function(x){let O;h++,!c||w?(w=!1,c=new lg(s,r,o),O=c.subscribe(this),m=x.subscribe({next(j){c.next(j)},error(j){w=!0,c.error(j)},complete(){D=!0,m=void 0,c.complete()}}),D&&(m=void 0)):O=c.subscribe(this),this.add(()=>{h--,O.unsubscribe(),O=void 0,m&&!D&&i&&0===h&&(m.unsubscribe(),m=void 0,c=void 0)})}}(o))}function JD(s,r){return r?In(()=>s,r):In(()=>s)}var cg=F(3101),XD=F(7841);const Kw=new y.OlP("angularfire2.auth.use-emulator"),tS=new y.OlP("angularfire2.auth.settings"),nS=new y.OlP("angularfire2.auth.tenant-id"),rS=new y.OlP("angularfire2.auth.langugage-code"),Co=new y.OlP("angularfire2.auth.use-device-language"),Sh=new y.OlP("angularfire.auth.persistence"),hc=(s,r,i,o,c,h,m,w)=>(0,br.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const D=r.runOutsideAngular(()=>s.auth());if(i&&D.useEmulator(...i),o&&(D.tenantId=o),D.languageCode=c,h&&D.useDeviceLanguage(),m)for(const[A,x]of Object.entries(m))D.settings[A]=x;return w&&D.setPersistence(w),D},[i,o,c,h,m,w]);let fc=(()=>{class s{constructor(i,o,c,h,m,w,D,A,x,O,j){const G=new kr.xQ,ee=(0,st.of)(void 0).pipe((0,Ja.QV)(m.outsideAngular),In(()=>h.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9083)))),(0,dt.U)(()=>(0,Xa.on)(i,h,o)),(0,dt.U)(be=>hc(be,h,w,A,x,O,D,j)),QD({bufferSize:1,refCount:!1}));if(Cc(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,st.of)(null);else{ee.pipe(on()).subscribe();const xe=ee.pipe(In(rt=>rt.getRedirectResult().then(_t=>_t,()=>null)),br.iC,QD({bufferSize:1,refCount:!1})),tt=ee.pipe(In(rt=>new Wr.y(_t=>({unsubscribe:h.runOutsideAngular(()=>rt.onAuthStateChanged(Bn=>_t.next(Bn),Bn=>_t.error(Bn),()=>_t.complete()))})))),it=ee.pipe(In(rt=>new Wr.y(_t=>({unsubscribe:h.runOutsideAngular(()=>rt.onIdTokenChanged(Bn=>_t.next(Bn),Bn=>_t.error(Bn),()=>_t.complete()))}))));this.authState=xe.pipe(JD(tt),(0,cg.R)(m.outsideAngular),(0,Ja.QV)(m.insideAngular)),this.user=xe.pipe(JD(it),(0,cg.R)(m.outsideAngular),(0,Ja.QV)(m.insideAngular)),this.idToken=this.user.pipe(In(rt=>rt?(0,fn.D)(rt.getIdToken()):(0,st.of)(null))),this.idTokenResult=this.user.pipe(In(rt=>rt?(0,fn.D)(rt.getIdTokenResult()):(0,st.of)(null))),this.credential=(0,HR.T)(xe,G,this.authState.pipe(Qr(rt=>!rt))).pipe((0,dt.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,cg.R)(m.outsideAngular),(0,Ja.QV)(m.insideAngular))}return(0,Xa.pX)(this,ee,h,{spy:{apply:(be,xe,tt)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&tt.then(it=>G.next(it))}}})}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(Xa.Dh),y.LFG(Xa.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(br.HU),y.LFG(Kw,8),y.LFG(tS,8),y.LFG(nS,8),y.LFG(rS,8),y.LFG(Co,8),y.LFG(Sh,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Ah=(()=>{class s{constructor(){XD.Z.registerVersion("angularfire",br.q4.full,"auth-compat")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[fc]}),s})();function iS(s,r){return function(s,r=vA.z){return new Wr.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function M_(s,r){return iS(s,r).pipe((0,dt.U)(i=>({payload:i,type:"query"})))}function dg(s,r){return M_(s,r).pipe(io(void 0),mE(),(0,dt.U)(([i,o])=>{const c=o.payload.docChanges(),h=c.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,w)=>{const D=c.find(x=>x.doc.ref.isEqual(m.ref)),A=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&A&&JSON.stringify(A.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:m}})}),h}))}function Yw(s,r,i){return dg(s,i).pipe(Zo((o,c)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return hg(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return hg(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return hg(s,r.oldIndex,1)}return s}(s,o))}),s}(o,c.map(h=>h.payload),r),[]),i=>i.lift(new mC(void 0,void 0)),(0,dt.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function hg(s,r,i,...o){const c=s.slice();return c.splice(r,i,...o),c}function oS(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Qw{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=dg(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,dt.U)(o=>o.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(io(void 0),mE(),Qr(([o,c])=>c.length>0||!o),(0,dt.U)(([o,c])=>c),br.iC)}auditTrail(r){return this.stateChanges(r).pipe(Zo((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=oS(r);return Yw(this.query,i,this.afs.schedulers.outsideAngular).pipe(br.iC)}valueChanges(r={}){return M_(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),br.iC)}get(r){return(0,fn.D)(this.query.get(r)).pipe(br.f6)}add(r){return this.ref.add(r)}doc(r){return new Fu(this.ref.doc(r),this.afs)}}class Fu{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:c,query:h}=KR(o,i);return new Qw(c,h,this.afs)}snapshotChanges(){return function(s,r){return iS(s,r).pipe(io(void 0),mE(),(0,dt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(br.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,fn.D)(this.ref.get(r)).pipe((0,Ja.QV)(this.afs.schedulers.insideAngular))}}class Jw{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?dg(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Qr(i=>i.length>0),br.iC):dg(this.query,this.afs.schedulers.outsideAngular).pipe(br.iC)}auditTrail(r){return this.stateChanges(r).pipe(Zo((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=oS(r);return Yw(this.query,i,this.afs.schedulers.outsideAngular).pipe(br.iC)}valueChanges(r={}){return M_(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(o=>o.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),br.iC)}get(r){return(0,fn.D)(this.query.get(r)).pipe(br.f6)}}const aS=new y.OlP("angularfire2.enableFirestorePersistence"),uS=new y.OlP("angularfire2.firestore.persistenceSettings"),VM=new y.OlP("angularfire2.firestore.settings"),UM=new y.OlP("angularfire2.firestore.use-emulator");function KR(s,r=(i=>i)){return{query:r(s),ref:s}}let YR=(()=>{class s{constructor(i,o,c,h,m,w,D,A,x,O,j,G,ee,be,xe,tt){this.schedulers=D;const it=(0,Xa.on)(i,w,o),rt=x;O&&hc(it,w,j,ee,be,xe,G,tt),[this.firestore,this.persistenceEnabled$]=(0,br.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const _t=w.runOutsideAngular(()=>it.firestore());if(h&&_t.settings(h),rt&&_t.useEmulator(...rt),c&&!Cc(m)){const Bn=()=>{try{return(0,fn.D)(_t.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(ji){return"undefined"!=typeof console&&console.warn(ji),(0,st.of)(!1)}};return[_t,w.runOutsideAngular(Bn)]}return[_t,(0,st.of)(!1)]},[h,rt,c])}collection(i,o){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:h,query:m}=KR(c,o),w=this.schedulers.ngZone.run(()=>h);return new Qw(w,m,this)}collectionGroup(i,o){const c=o||(m=>m),h=this.firestore.collectionGroup(i);return new Jw(c(h),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>o);return new Fu(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(Xa.Dh),y.LFG(Xa.xv,8),y.LFG(aS,8),y.LFG(VM,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(br.HU),y.LFG(uS,8),y.LFG(UM,8),y.LFG(fc,8),y.LFG(Kw,8),y.LFG(tS,8),y.LFG(nS,8),y.LFG(rS,8),y.LFG(Co,8),y.LFG(Sh,8))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),QR=(()=>{class s{constructor(){XD.Z.registerVersion("angularfire",br.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:aS,useValue:!0},{provide:uS,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[YR]}),s})(),lS=(()=>{class s{constructor(i,o){this.firesotre=i,this.auth=o}login(i,o){return this.auth.signInWithEmailAndPassword(i,o)}enviarLog(i,o){return this.firesotre.collection("logUsuarios").add({fecha:i,usuario:o}).then(c=>{console.log("Log de ingreso guardado: ",c.id)}).catch(c=>{console.error("Error guardando el log: ",c)})}registro(i,o){return this.auth.createUserWithEmailAndPassword(i,o)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(YR),y.LFG(fc))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class JR{}const Lu="*";function jM(s,r){return{type:7,name:s,definitions:r,options:{}}}function cS(s,r=null){return{type:4,styles:r,timings:s}}function XR(s,r=null){return{type:2,steps:s,options:r}}function O_(s){return{type:6,styles:s,offset:null}}function dS(s,r,i){return{type:0,name:s,styles:r,options:i}}function u(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function b(s){Promise.resolve(null).then(s)}class I{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class S{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,c=0;const h=this.players.length;0==h?b(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==h&&this._onFinish()}),m.onDestroy(()=>{++o==h&&this._onDestroy()}),m.onStart(()=>{++c==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,w)=>Math.max(m,w.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(c)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}const M=["toast-component",""];function k(s,r){if(1&s){const i=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(i),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA(),y.qZA()}}function U(s,r){if(1&s&&(y.ynx(0),y._uU(1),y.BQk()),2&s){const i=y.oxw(2);y.xp6(1),y.hij("[",i.duplicatesCount+1,"]")}}function W(s,r){if(1&s&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,U,2,1,"ng-container",4),y.qZA()),2&s){const i=y.oxw();y.Tol(i.options.titleClass),y.uIk("aria-label",i.title),y.xp6(1),y.hij(" ",i.title," "),y.xp6(1),y.Q6J("ngIf",i.duplicatesCount)}}function ue(s,r){if(1&s&&y._UZ(0,"div",7),2&s){const i=y.oxw();y.Tol(i.options.messageClass),y.Q6J("innerHTML",i.message,y.oJD)}}function X(s,r){if(1&s&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&s){const i=y.oxw();y.Tol(i.options.messageClass),y.uIk("aria-label",i.message),y.xp6(1),y.hij(" ",i.message," ")}}function Oe(s,r){if(1&s&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&s){const i=y.oxw();y.xp6(1),y.Udp("width",i.width+"%")}}function Ce(s,r){if(1&s){const i=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(i),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA(),y.qZA()}}function Xe(s,r){if(1&s&&(y.ynx(0),y._uU(1),y.BQk()),2&s){const i=y.oxw(2);y.xp6(1),y.hij("[",i.duplicatesCount+1,"]")}}function ut(s,r){if(1&s&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Xe,2,1,"ng-container",4),y.qZA()),2&s){const i=y.oxw();y.Tol(i.options.titleClass),y.uIk("aria-label",i.title),y.xp6(1),y.hij(" ",i.title," "),y.xp6(1),y.Q6J("ngIf",i.duplicatesCount)}}function Ot(s,r){if(1&s&&y._UZ(0,"div",7),2&s){const i=y.oxw();y.Tol(i.options.messageClass),y.Q6J("innerHTML",i.message,y.oJD)}}function nr(s,r){if(1&s&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&s){const i=y.oxw();y.Tol(i.options.messageClass),y.uIk("aria-label",i.message),y.xp6(1),y.hij(" ",i.message," ")}}function is(s,r){if(1&s&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&s){const i=y.oxw();y.xp6(1),y.Udp("width",i.width+"%")}}class ma{constructor(r,i,o,c,h,m){this.toastId=r,this.config=i,this.message=o,this.title=c,this.toastType=h,this.toastRef=m,this._onTap=new kr.xQ,this._onAction=new kr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(r){this._onAction.next(r)}onAction(){return this._onAction.asObservable()}}const Vu={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},pc=new y.OlP("ToastConfig");class Xw{constructor(r,i){this.component=r,this.injector=i}attach(r,i){return this._attachedHost=r,r.attach(this,i)}detach(){const r=this._attachedHost;if(r)return this._attachedHost=void 0,r.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class tb extends class{attach(r,i){return this._attachedPortal=r,this.attachComponentPortal(r,i)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(r){this._disposeFn=r}}{constructor(r,i,o){super(),this._hostDomElement=r,this._componentFactoryResolver=i,this._appRef=o}attachComponentPortal(r,i){const o=this._componentFactoryResolver.resolveComponentFactory(r.component);let c;return c=o.create(r.injector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()}),i?this._hostDomElement.insertBefore(this._getComponentRootNode(c),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(c)),c}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let k_=(()=>{class s{constructor(i){this._document=i}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i=this._document.createElement("div");i.classList.add("overlay-container"),this._document.body.appendChild(i),this._containerElement=i}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we))},s.\u0275prov=y.Yz7({factory:function(){return new s(y.LFG(we))},token:s,providedIn:"root"}),s})();class ZO{constructor(r){this._portalHost=r}attach(r,i=!0){return this._portalHost.attach(r,i)}detach(){return this._portalHost.detach()}}let $M=(()=>{class s{constructor(i,o,c,h){this._overlayContainer=i,this._componentFactoryResolver=o,this._appRef=c,this._document=h,this._paneElements=new Map}create(i,o){return this._createOverlayRef(this.getPaneElement(i,o))}getPaneElement(i="",o){return this._paneElements.get(o)||this._paneElements.set(o,{}),this._paneElements.get(o)[i]||(this._paneElements.get(o)[i]=this._createPaneElement(i,o)),this._paneElements.get(o)[i]}_createPaneElement(i,o){const c=this._document.createElement("div");return c.id="toast-container",c.classList.add(i),c.classList.add("toast-container"),o?o.getContainerElement().appendChild(c):this._overlayContainer.getContainerElement().appendChild(c),c}_createPortalHost(i){return new tb(i,this._componentFactoryResolver,this._appRef)}_createOverlayRef(i){return new ZO(this._createPortalHost(i))}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(k_),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(we))},s.\u0275prov=y.Yz7({factory:function(){return new s(y.LFG(k_),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(we))},token:s,providedIn:"root"}),s})();class KO{constructor(r){this._overlayRef=r,this.duplicatesCount=0,this._afterClosed=new kr.xQ,this._activate=new kr.xQ,this._manualClose=new kr.xQ,this._resetTimeout=new kr.xQ,this._countDuplicate=new kr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(r,i){r&&this._resetTimeout.next(),i&&this._countDuplicate.next(++this.duplicatesCount)}}class YO{constructor(r,i){this._toastPackage=r,this._parentInjector=i}get(r,i,o){return r===ma?this._toastPackage:this._parentInjector.get(r,i,o)}}let ex=(()=>{class s{constructor(i,o,c,h,m){this.overlay=o,this._injector=c,this.sanitizer=h,this.ngZone=m,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},i.default),i.config),i.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},i.default.iconClasses),i.config.iconClasses))}show(i,o,c={},h=""){return this._preBuildNotification(h,i,o,this.applyConfig(c))}success(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",i,o,this.applyConfig(c))}error(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",i,o,this.applyConfig(c))}info(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",i,o,this.applyConfig(c))}warning(i,o,c={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",i,o,this.applyConfig(c))}clear(i){for(const o of this.toasts)if(void 0!==i){if(o.toastId===i)return void o.toastRef.manualClose()}else o.toastRef.manualClose()}remove(i){const o=this._findToast(i);if(!o||(o.activeToast.toastRef.close(),this.toasts.splice(o.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const c=this.toasts[this.currentlyActive].toastRef;c.isInactive()||(this.currentlyActive=this.currentlyActive+1,c.activate())}return!0}findDuplicate(i="",o="",c,h){const{includeTitleDuplicates:m}=this.toastrConfig;for(const w of this.toasts){const D=m&&w.title===i;if((!m||D)&&w.message===o)return w.toastRef.onDuplicate(c,h),w}return null}applyConfig(i={}){return Object.assign(Object.assign({},this.toastrConfig),i)}_findToast(i){for(let o=0;o<this.toasts.length;o++)if(this.toasts[o].toastId===i)return{index:o,activeToast:this.toasts[o]};return null}_preBuildNotification(i,o,c,h){return h.onActivateTick?this.ngZone.run(()=>this._buildNotification(i,o,c,h)):this._buildNotification(i,o,c,h)}_buildNotification(i,o,c,h){if(!h.toastComponent)throw new Error("toastComponent required");const m=this.findDuplicate(c,o,this.toastrConfig.resetTimeoutOnDuplicate&&h.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&c||o)&&this.toastrConfig.preventDuplicates&&null!==m)return m;this.previousToastMessage=o;let w=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(w=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const D=this.overlay.create(h.positionClass,this.overlayContainer);this.index=this.index+1;let A=o;o&&h.enableHtml&&(A=this.sanitizer.sanitize(y.q3G.HTML,o));const x=new KO(D),O=new ma(this.index,h,A,c,i,x),j=new YO(O,this._injector),G=new Xw(h.toastComponent,j),ee=D.attach(G,this.toastrConfig.newestOnTop);x.componentInstance=ee.instance;const be={toastId:this.index,title:c||"",message:o||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:ee};return w||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(pc),y.LFG($M),y.LFG(y.zs3),y.LFG(rl),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({factory:function(){return new s(y.LFG(pc),y.LFG($M),y.LFG(y.gxx),y.LFG(rl),y.LFG(y.R0b))},token:s,providedIn:"root"}),s})(),QO=(()=>{class s{constructor(i,o,c){this.toastrService=i,this.toastPackage=o,this.ngZone=c,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(h=>{this.duplicatesCount=h})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const i=(new Date).getTime();this.width=(this.hideTime-i)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(i,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(i),o)):this.timeout=setTimeout(()=>i(),o)}outsideInterval(i,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(i),o)):this.intervalId=setInterval(()=>i(),o)}runInsideAngular(i){this.ngZone?this.ngZone.run(()=>i()):i()}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(ex),y.Y36(ma),y.Y36(y.R0b))},s.\u0275cmp=y.Xpm({type:s,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,o){1&i&&y.NdJ("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&i&&(y.d8E("@flyInOut",o.state),y.Tol(o.toastClasses),y.Udp("display",o.displayStyle))},attrs:M,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(i,o){1&i&&(y.YNc(0,k,3,0,"button",0),y.YNc(1,W,3,5,"div",1),y.YNc(2,ue,1,3,"div",2),y.YNc(3,X,2,4,"div",3),y.YNc(4,Oe,2,2,"div",4)),2&i&&(y.Q6J("ngIf",o.options.closeButton),y.xp6(1),y.Q6J("ngIf",o.title),y.xp6(1),y.Q6J("ngIf",o.message&&o.options.enableHtml),y.xp6(1),y.Q6J("ngIf",o.message&&!o.options.enableHtml),y.xp6(1),y.Q6J("ngIf",o.options.progressBar))},directives:[Bs],encapsulation:2,data:{animation:[jM("flyInOut",[dS("inactive",O_({opacity:0})),dS("active",O_({opacity:1})),dS("removed",O_({opacity:0})),u("inactive => active",cS("{{ easeTime }}ms {{ easing }}")),u("active => removed",cS("{{ easeTime }}ms {{ easing }}"))])]}}),s})();const JO=Object.assign(Object.assign({},Vu),{toastComponent:QO});let HM=(()=>{class s{static forRoot(i={}){return{ngModule:s,providers:[{provide:pc,useValue:{default:JO,config:i}}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[[jh]]}),s})(),XO=(()=>{class s{constructor(i,o,c){this.toastrService=i,this.toastPackage=o,this.appRef=c,this.width=-1,this.toastClasses="",this.state="inactive",this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(h=>{this.duplicatesCount=h})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const i=(new Date).getTime();this.width=(this.hideTime-i)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(ex),y.Y36(ma),y.Y36(y.z2F))},s.\u0275cmp=y.Xpm({type:s,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,o){1&i&&y.NdJ("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),2&i&&(y.Tol(o.toastClasses),y.Udp("display",o.displayStyle))},attrs:M,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(i,o){1&i&&(y.YNc(0,Ce,3,0,"button",0),y.YNc(1,ut,3,5,"div",1),y.YNc(2,Ot,1,3,"div",2),y.YNc(3,nr,2,4,"div",3),y.YNc(4,is,2,2,"div",4)),2&i&&(y.Q6J("ngIf",o.options.closeButton),y.xp6(1),y.Q6J("ngIf",o.title),y.xp6(1),y.Q6J("ngIf",o.message&&o.options.enableHtml),y.xp6(1),y.Q6J("ngIf",o.message&&!o.options.enableHtml),y.xp6(1),y.Q6J("ngIf",o.options.progressBar))},directives:[Bs],encapsulation:2}),s})();Object.assign(Object.assign({},Vu),{toastComponent:XO});let GM=(()=>{class s{constructor(i){this.toastr=i}mostrarToast(i,o){this.toastr.error(o,i)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(ex))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const tP=function(){return["../registro"]},nP=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:(()=>{class s{constructor(i,o,c){this.router=i,this.usuario=o,this.utilidades=c,this.email="",this.password=""}ngOnInit(){}login(){this.usuario.login(this.email,this.password).then(i=>{let o=this.email+" - "+this.password;this.usuario.enviarLog(Date.now(),o),this.router.navigate(["home"])}).catch(i=>{"auth/invalid-email"==i.code?this.utilidades.mostrarToast("Email invalido","El email ingresado es invalido, por favor vuelva a ingresarlo!"):("auth/user-not-found"==i.code||"auth/wrong-password"===i.code)&&this.utilidades.mostrarToast("Credenciales Invalidas","Usuario o clave invalidos, vuelva a ingresar los datos")})}loginUsuarioValido(){this.email="test@test.com",this.password="test123"}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(wr),y.Y36(lS),y.Y36(GM))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-login"]],decls:31,vars:4,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-50","mb-5"],[1,"form-outline","form-white","mb-4"],["type","email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","typeEmailX",1,"form-label"],["type","password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","typePasswordX",1,"form-label"],[1,"btn","btn-outline-light","btn-lg","px-5",3,"click"],[1,"mb-0"],["href","#!",1,"text-white-50","fw-bold",3,"routerLink"],[1,"fullscreen-bg"]],template:function(i,o){1&i&&(y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"div",5),y.TgZ(6,"div",6),y.TgZ(7,"h2",7),y._uU(8,"Login"),y.qZA(),y.TgZ(9,"p",8),y._uU(10,"Ingrese email y contrase\xf1a!"),y.qZA(),y.TgZ(11,"div",9),y.TgZ(12,"input",10),y.NdJ("ngModelChange",function(h){return o.email=h}),y.qZA(),y.TgZ(13,"label",11),y._uU(14,"Email"),y.qZA(),y.qZA(),y.TgZ(15,"div",9),y.TgZ(16,"input",12),y.NdJ("ngModelChange",function(h){return o.password=h}),y.qZA(),y.TgZ(17,"label",13),y._uU(18,"Constrase\xf1a"),y.qZA(),y.qZA(),y.TgZ(19,"button",14),y.NdJ("click",function(){return o.login()}),y._uU(20,"Login"),y.qZA(),y._UZ(21,"br"),y._UZ(22,"br"),y.TgZ(23,"button",14),y.NdJ("click",function(){return o.loginUsuarioValido()}),y._uU(24,"Usuario test"),y.qZA(),y.qZA(),y.TgZ(25,"div"),y.TgZ(26,"p",15),y._uU(27,"No tiene cuenta? "),y.TgZ(28,"a",16),y._uU(29,"Registrarse"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(30,"div",17),y.qZA()),2&i&&(y.xp6(12),y.Q6J("ngModel",o.email),y.xp6(4),y.Q6J("ngModel",o.password),y.xp6(12),y.Q6J("routerLink",y.DdM(3,tP)))},directives:[ds,Pr,td,dE],styles:[".fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(https://i.pinimg.com/originals/f9/40/d1/f940d18318f97e46f13a5d2878fcec49.png) center;background-size:cover}"]}),s})()},{path:"home",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-home"]],decls:53,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3"],["href","#","role","button",1,"btn","btn-primary","btn-lg"],[1,"row"],[1,"col-md-4"],["href","#","role","button",1,"btn","btn-warning"]],template:function(i,o){1&i&&(y.TgZ(0,"nav",0),y.TgZ(1,"a",1),y._uU(2,"Sala de juegos"),y.qZA(),y.TgZ(3,"button",2),y._UZ(4,"span",3),y.qZA(),y.TgZ(5,"div",4),y.TgZ(6,"ul",5),y.TgZ(7,"li",6),y.TgZ(8,"a",7),y._uU(9,"Home "),y.TgZ(10,"span",8),y._uU(11,"(current)"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(12,"li",9),y.TgZ(13,"a",7),y._uU(14,"Log Out"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(15,"main",10),y.TgZ(16,"div",11),y.TgZ(17,"div",12),y.TgZ(18,"h1",13),y._uU(19,"Agustin Bernheim"),y.qZA(),y.TgZ(20,"p"),y.TgZ(21,"a",14),y._uU(22,"Learn more \xbb"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(23,"div",12),y.TgZ(24,"div",15),y.TgZ(25,"div",16),y.TgZ(26,"h2"),y._uU(27,"Ahorcado"),y.qZA(),y.TgZ(28,"p"),y._uU(29,"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "),y.qZA(),y.TgZ(30,"p"),y.TgZ(31,"a",17),y._uU(32,"Jugar \xbb"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(33,"div",16),y.TgZ(34,"h2"),y._uU(35,"Mayor o Menor"),y.qZA(),y.TgZ(36,"p"),y._uU(37,"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "),y.qZA(),y.TgZ(38,"p"),y.TgZ(39,"a",17),y._uU(40,"Jugar \xbb"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(41,"div",16),y.TgZ(42,"h2"),y._uU(43,"Preguntados"),y.qZA(),y.TgZ(44,"p"),y._uU(45,"Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus."),y.qZA(),y.TgZ(46,"p"),y.TgZ(47,"a",17),y._uU(48,"Jugar \xbb"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(49,"hr"),y.qZA(),y.qZA(),y.TgZ(50,"footer",12),y.TgZ(51,"p"),y._uU(52,"Laboratorio 4 - 2do cuatrimestre 2021"),y.qZA(),y.qZA())},styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}"]}),s})()},{path:"QuienSoy",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-quiensoy"]],decls:2,vars:0,template:function(i,o){1&i&&(y.TgZ(0,"p"),y._uU(1,"quiensoy works!"),y.qZA())},styles:[""]}),s})()},{path:"registro",component:(()=>{class s{constructor(i,o,c){this.router=i,this.usuario=o,this.utilidades=c,this.email="",this.password=""}ngOnInit(){}registro(){this.usuario.registro(this.email,this.password).then(i=>{this.router.navigate(["/home"])}).catch(i=>{"auth/invalid-email"==i.code?this.utilidades.mostrarToast("Email invalido","El email ingresado es invalido, por favor vuelva a ingresarlo!"):"auth/email-already-in-use"==i.code&&this.utilidades.mostrarToast("Usuario ya registrado","El email ingresado ya esta en uso, por favor ingrese otro!")})}}return s.\u0275fac=function(i){return new(i||s)(y.Y36(wr),y.Y36(lS),y.Y36(GM))},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-registro"]],decls:22,vars:2,consts:[[1,"vh-100"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"fw-bold","mb-2","text-uppercase"],[1,"text-white-50","mb-5"],[1,"form-outline","form-white","mb-4"],["type","email",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","typeEmailX",1,"form-label"],["type","password",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","typePasswordX",1,"form-label"],[1,"btn","btn-outline-light","btn-lg","px-5",3,"click"],[1,"fullscreen-bg"]],template:function(i,o){1&i&&(y.TgZ(0,"section",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"div",5),y.TgZ(6,"div",6),y.TgZ(7,"h2",7),y._uU(8,"Registro"),y.qZA(),y.TgZ(9,"p",8),y._uU(10,"Ingrese email y contrase\xf1a!"),y.qZA(),y.TgZ(11,"div",9),y.TgZ(12,"input",10),y.NdJ("ngModelChange",function(h){return o.email=h}),y.qZA(),y.TgZ(13,"label",11),y._uU(14,"Email"),y.qZA(),y.qZA(),y.TgZ(15,"div",9),y.TgZ(16,"input",12),y.NdJ("ngModelChange",function(h){return o.password=h}),y.qZA(),y.TgZ(17,"label",13),y._uU(18,"Constrase\xf1a"),y.qZA(),y.qZA(),y.TgZ(19,"button",14),y.NdJ("click",function(){return o.registro()}),y._uU(20,"Registrarse"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(21,"div",15),y.qZA()),2&i&&(y.xp6(12),y.Q6J("ngModel",o.email),y.xp6(4),y.Q6J("ngModel",o.password))},directives:[ds,Pr,td],styles:[".fullscreen-bg[_ngcontent-%COMP%]{position:fixed;z-index:-1;top:0;right:0;bottom:0;left:0;background:url(https://i.pinimg.com/originals/f9/40/d1/f940d18318f97e46f13a5d2878fcec49.png) center;background-size:cover}"]}),s})()},{path:"**",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-error"]],decls:2,vars:0,template:function(i,o){1&i&&(y.TgZ(0,"p"),y._uU(1,"error works!"),y.qZA())},styles:[""]}),s})()}];let rP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[[Um.forRoot(nP)],Um]}),s})(),iP=(()=>{class s{constructor(){this.title="proyecto-labo4"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["app-root"]],decls:16,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"]],template:function(i,o){1&i&&(y.TgZ(0,"nav",0),y.TgZ(1,"a",1),y._uU(2,"Sala de juegos"),y.qZA(),y.TgZ(3,"button",2),y._UZ(4,"span",3),y.qZA(),y.TgZ(5,"div",4),y.TgZ(6,"ul",5),y.TgZ(7,"li",6),y.TgZ(8,"a",7),y._uU(9,"Home "),y.TgZ(10,"span",8),y._uU(11,"(current)"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(12,"li",9),y.TgZ(13,"a",7),y._uU(14,"Log Out"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(15,"router-outlet"))},directives:[Vm],styles:[""]}),s})();const qM_firebaseConfig={apiKey:"AIzaSyCrDVe8QiR4lw_V9yWOujy3eYUuG1JEtWI",authDomain:"sala-de-juegos-b8607.firebaseapp.com",projectId:"sala-de-juegos-b8607",storageBucket:"sala-de-juegos-b8607.appspot.com",messagingSenderId:"335311365824",appId:"1:335311365824:web:721038b0d6cb56dec46f25"};function zM(){return"undefined"!=typeof window&&void 0!==window.document}function tx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Nh(s){switch(s.length){case 0:return new I;case 1:return s[0];default:return new S(s)}}function WM(s,r,i,o,c={},h={}){const m=[],w=[];let D=-1,A=null;if(o.forEach(x=>{const O=x.offset,j=O==D,G=j&&A||{};Object.keys(x).forEach(ee=>{let be=ee,xe=x[ee];if("offset"!==ee)switch(be=r.normalizePropertyName(be,m),xe){case"!":xe=c[ee];break;case Lu:xe=h[ee];break;default:xe=r.normalizeStyleValue(ee,be,xe,m)}G[be]=xe}),j||w.push(G),A=G,D=O}),m.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${m.join(x)}`)}return w}function nx(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&rx(i,"start",s)));break;case"done":s.onDone(()=>o(i&&rx(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&rx(i,"destroy",s)))}}function rx(s,r,i){const o=i.totalTime,h=ix(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(h._data=m),h}function ix(s,r,i,o,c="",h=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:c,totalTime:h,disabled:!!m}}function Os(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function ZM(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let sx=(s,r)=>!1,ox=(s,r)=>!1,KM=(s,r,i)=>[];const YM=tx();(YM||"undefined"!=typeof Element)&&(sx=zM()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),ox=(()=>{if(YM||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):ox}})(),KM=(s,r,i)=>{let o=[];if(i){const c=s.querySelectorAll(r);for(let h=0;h<c.length;h++)o.push(c[h])}else{const c=s.querySelector(r);c&&o.push(c)}return o});let pg=null,QM=!1;function ax(s){pg||(pg=("undefined"!=typeof document?document.body:null)||{},QM=!!pg.style&&"WebkitAppearance"in pg.style);let r=!0;return pg.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in pg.style,!r&&QM&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in pg.style)),r}const ux=ox,lx=sx,cx=KM;function JM(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let XM=(()=>{class s{validateStyleProperty(i){return ax(i)}matchesElement(i,o){return ux(i,o)}containsElement(i,o){return lx(i,o)}query(i,o,c){return cx(i,o,c)}computeStyle(i,o,c){return c||""}animate(i,o,c,h,m,w=[],D){return new I(c,h)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class hS{}hS.NOOP=new XM;const dx="ng-enter",fS="ng-leave",pS="ng-trigger",gS=".ng-trigger",tO="ng-animating",hx=".ng-animating";function gg(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:fx(parseFloat(r[1]),r[2])}function fx(s,r){switch(r){case"s":return 1e3*s;default:return s}}function mS(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let c,h=0,m="";if("string"==typeof s){const w=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};c=fx(parseFloat(w[1]),w[2]);const D=w[3];null!=D&&(h=fx(parseFloat(D),w[4]));const A=w[5];A&&(m=A)}else c=s;if(!i){let w=!1,D=r.length;c<0&&(r.push("Duration values below 0 are not allowed for this animation step."),w=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),w=!0),w&&r.splice(D,0,`The provided timing value "${s}" is invalid.`)}return{duration:c,delay:h,easing:m}}(s,r,i)}function F_(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function Rh(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else F_(s,i);return i}function rO(s,r,i){return i?r+":"+i+";":""}function iO(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=rO(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=rO(0,hP(i),s.style[i]));s.setAttribute("style",r)}function Uu(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const c=gx(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[c]),s.style[c]=r[o]}),tx()&&iO(s))}function mg(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=gx(i);s.style[o]=""}),tx()&&iO(s))}function nb(s){return Array.isArray(s)?1==s.length?s[0]:XR(s):s}const px=new RegExp("{{\\s*(.+?)\\s*}}","g");function sO(s){let r=[];if("string"==typeof s){let i;for(;i=px.exec(s);)r.push(i[1]);px.lastIndex=0}return r}function yS(s,r,i){const o=s.toString(),c=o.replace(px,(h,m)=>{let w=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),w=""),w.toString()});return c==o?s:c}function _S(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const dP=/-+([a-z0-9])/g;function gx(s){return s.replace(dP,(...r)=>r[1].toUpperCase())}function hP(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oO(s,r){return 0===s||0===r}function aO(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let h=r[0],m=[];if(o.forEach(w=>{h.hasOwnProperty(w)||m.push(w),h[w]=i[w]}),m.length)for(var c=1;c<r.length;c++){let w=r[c];m.forEach(function(D){w[D]=mx(s,D)})}}return r}function Ps(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function mx(s,r){return window.getComputedStyle(s)[r]}function fP(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const D=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof D)return void r.push(D);s=D}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const c=o[1],h=o[2],m=o[3];r.push(uO(c,m));"<"==h[0]&&!("*"==c&&"*"==m)&&r.push(uO(m,c))}(o,i,r)):i.push(s),i}const ES=new Set(["true","1"]),wS=new Set(["false","0"]);function uO(s,r){const i=ES.has(s)||wS.has(s),o=ES.has(r)||wS.has(r);return(c,h)=>{let m="*"==s||s==c,w="*"==r||r==h;return!m&&i&&"boolean"==typeof c&&(m=c?ES.has(s):wS.has(s)),!w&&o&&"boolean"==typeof h&&(w=h?ES.has(r):wS.has(r)),m&&w}}const mP=new RegExp("s*:selfs*,?","g");function yx(s,r,i){return new yP(s).build(r,i)}class yP{constructor(r){this._driver=r}build(r,i){const o=new EP(i);return this._resetContextStyleTimingState(o),Ps(this,nb(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,c=i.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(w=>{if(this._resetContextStyleTimingState(i),0==w.type){const D=w,A=D.name;A.toString().split(/\s*,\s*/).forEach(x=>{D.name=x,h.push(this.visitState(D,i))}),D.name=A}else if(1==w.type){const D=this.visitTransition(w,i);o+=D.queryCount,c+=D.depCount,m.push(D)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:o,depCount:c,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),c=r.options&&r.options.params||null;if(o.containsDynamicStyles){const h=new Set,m=c||{};if(o.styles.forEach(w=>{if(bS(w)){const D=w;Object.keys(D).forEach(A=>{sO(D[A]).forEach(x=>{m.hasOwnProperty(x)||h.add(x)})})}}),h.size){const w=_S(h.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${w.join(", ")}`)}}return{type:0,name:r.name,style:o,options:c?{params:c}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=Ps(this,nb(r.animation),i);return{type:1,matchers:fP(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:yg(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>Ps(this,o,i)),options:yg(r.options)}}visitGroup(r,i){const o=i.currentTime;let c=0;const h=r.steps.map(m=>{i.currentTime=o;const w=Ps(this,m,i);return c=Math.max(c,i.currentTime),w});return i.currentTime=c,{type:3,steps:h,options:yg(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return _x(mS(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=_x(0,0,"");return h.dynamic=!0,h.strValue=o,h}return i=i||mS(o,r),_x(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let c,h=r.styles?r.styles:O_({});if(5==h.type)c=this.visitKeyframes(h,i);else{let m=r.styles,w=!1;if(!m){w=!0;const A={};o.easing&&(A.easing=o.easing),m=O_(A)}i.currentTime+=o.duration+o.delay;const D=this.visitStyle(m,i);D.isEmptyStep=w,c=D}return i.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==Lu?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let c=!1,h=null;return o.forEach(m=>{if(bS(m)){const w=m,D=w.easing;if(D&&(h=D,delete w.easing),!c)for(let A in w)if(w[A].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:h,offset:r.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let c=i.currentTime,h=i.currentTime;o&&h>0&&(h-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(w=>{if(!this._driver.validateStyleProperty(w))return void i.errors.push(`The provided animation property "${w}" is not a supported CSS property for animations`);const D=i.collectedStyles[i.currentQuerySelector],A=D[w];let x=!0;A&&(h!=c&&h>=A.startTime&&c<=A.endTime&&(i.errors.push(`The CSS property "${w}" that exists between the times of "${A.startTime}ms" and "${A.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${c}ms"`),x=!1),h=A.startTime),x&&(D[w]={startTime:h,endTime:c}),i.options&&function(s,r,i){const o=r.params||{},c=sO(s);c.length&&c.forEach(h=>{o.hasOwnProperty(h)||i.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[w],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const m=[];let w=!1,D=!1,A=0;const x=r.steps.map(tt=>{const it=this._makeStyleAst(tt,i);let rt=null!=it.offset?it.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(bS(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(bS(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(it.styles),_t=0;return null!=rt&&(h++,_t=it.offset=rt),D=D||_t<0||_t>1,w=w||_t<A,A=_t,m.push(_t),it});D&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),w&&i.errors.push("Please ensure that all keyframe offsets are in order");const O=r.steps.length;let j=0;h>0&&h<O?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(j=1/(O-1));const G=O-1,ee=i.currentTime,be=i.currentAnimateTimings,xe=be.duration;return x.forEach((tt,it)=>{const rt=j>0?it==G?1:j*it:m[it],_t=rt*xe;i.currentTime=ee+be.delay+_t,be.duration=_t,this._validateStyleAst(tt,i),tt.offset=rt,o.styles.push(tt)}),o}visitReference(r,i){return{type:8,animation:Ps(this,nb(r.animation),i),options:yg(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:yg(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:yg(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,c=r.options||{};i.queryCount++,i.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(mP,"")),[s=s.replace(/@\*/g,gS).replace(/@\w+/g,i=>gS+"-"+i.substr(1)).replace(/:animating/g,hx),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+h:h,Os(i.collectedStyles,i.currentQuerySelector,{});const w=Ps(this,nb(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:w,originalSelector:r.selector,options:yg(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:mS(r.timings,i.errors,!0);return{type:12,animation:Ps(this,nb(r.animation),i),timings:o,options:null}}}class EP{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function bS(s){return!Array.isArray(s)&&"object"==typeof s}function yg(s){return s?(s=F_(s)).params&&(s.params=function(s){return s?F_(s):null}(s.params)):s={},s}function _x(s,r,i){return{duration:s,delay:r,easing:i}}function vx(s,r,i,o,c,h,m=null,w=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:c,delay:h,totalTime:c+h,easing:m,subTimeline:w}}class CS{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const TP=new RegExp(":enter","g"),SP=new RegExp(":leave","g");function Ex(s,r,i,o,c,h={},m={},w,D,A=[]){return(new AP).buildKeyframes(s,r,i,o,c,h,m,w,D,A)}class AP{buildKeyframes(r,i,o,c,h,m,w,D,A,x=[]){A=A||new CS;const O=new wx(r,i,A,c,h,x,[]);O.options=D,O.currentTimeline.setStyles([m],null,O.errors,D),Ps(this,o,O);const j=O.timelines.filter(G=>G.containsAnimation());if(j.length&&Object.keys(w).length){const G=j[j.length-1];G.allowOnlyTimelineStyles()||G.setStyles([w],null,O.errors,D)}return j.length?j.map(G=>G.buildKeyframes()):[vx(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const c=i.createSubContext(r.options),h=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,c,c.options);h!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let h=i.currentTimeline.currentTime;const m=null!=o.duration?gg(o.duration):null,w=null!=o.delay?gg(o.delay):null;return 0!==m&&r.forEach(D=>{const A=i.appendInstructionToTimeline(D,m,w);h=Math.max(h,A.duration+A.delay)}),h}visitReference(r,i){i.updateOptions(r.options,!0),Ps(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let c=i;const h=r.options;if(h&&(h.params||h.delay)&&(c=i.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=IS);const m=gg(h.delay);c.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>Ps(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let c=i.currentTimeline.currentTime;const h=r.options&&r.options.delay?gg(r.options.delay):0;r.steps.forEach(m=>{const w=i.createSubContext(r.options);h&&w.delayNextStep(h),Ps(this,m,w),c=Math.max(c,w.currentTimeline.currentTime),o.push(w.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(c),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return mS(i.params?yS(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),c=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),c.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,i):(i.incrementTime(o.duration),this.visitStyle(h,i),c.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,c=i.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=c&&c.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(h):o.setStyles(r.styles,h,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,c=i.currentTimeline.duration,h=o.duration,w=i.createSubContext().currentTimeline;w.easing=o.easing,r.styles.forEach(D=>{w.forwardTime((D.offset||0)*h),w.setStyles(D.styles,D.easing,i.errors,i.options),w.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(w),i.transformIntoNewTimeline(c+h),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,c=r.options||{},h=c.delay?gg(c.delay):0;h&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=IS);let m=o;const w=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!c.optional,i.errors);i.currentQueryTotal=w.length;let D=null;w.forEach((A,x)=>{i.currentQueryIndex=x;const O=i.createSubContext(r.options,A);h&&O.delayNextStep(h),A===i.element&&(D=O.currentTimeline),Ps(this,r.animation,O),O.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,O.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),D&&(i.currentTimeline.mergeTimelineCollectedStyles(D),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,c=i.currentTimeline,h=r.timings,m=Math.abs(h.duration),w=m*(i.currentQueryTotal-1);let D=m*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":D=w-D;break;case"full":D=o.currentStaggerTime}const x=i.currentTimeline;D&&x.delayNextStep(D);const O=x.currentTime;Ps(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=c.currentTime-O+(c.startTime-o.currentTimeline.startTime)}}const IS={};class wx{constructor(r,i,o,c,h,m,w,D){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=h,this.errors=m,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=D||new TS(this._driver,i,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let c=this.options;null!=o.duration&&(c.duration=gg(o.duration)),null!=o.delay&&(c.delay=gg(o.delay));const h=o.params;if(h){let m=c.params;m||(m=this.options.params={}),Object.keys(h).forEach(w=>{(!i||!m.hasOwnProperty(w))&&(m[w]=yS(h[w],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(c=>{o[c]=i[c]})}}return r}createSubContext(r=null,i,o){const c=i||this.element,h=new wx(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=IS,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const c={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},h=new NP(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,c,r.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,c,h,m){let w=[];if(c&&w.push(this.element),r.length>0){r=(r=r.replace(TP,"."+this._enterClassName)).replace(SP,"."+this._leaveClassName);let A=this._driver.query(this.element,r,1!=o);0!==o&&(A=o<0?A.slice(A.length+o,A.length):A.slice(0,o)),w.push(...A)}return!h&&0==w.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),w}}class TS{constructor(r,i,o,c){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new TS(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||Lu,this._currentKeyframe[i]=Lu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,c){i&&(this._previousKeyframe.easing=i);const h=c&&c.params||{},m=function(s,r){const i={};let o;return s.forEach(c=>{"*"===c?(o=o||Object.keys(r),o.forEach(h=>{i[h]=Lu})):Rh(c,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(w=>{const D=yS(m[w],h,o);this._pendingStyles[w]=D,this._localTimelineStyles.hasOwnProperty(w)||(this._backFill[w]=this._globalTimelineStyles.hasOwnProperty(w)?this._globalTimelineStyles[w]:Lu),this._updateStyle(w,D)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],c=r._styleSummary[i];(!o||c.time>o.time)&&this._updateStyle(i,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((w,D)=>{const A=Rh(w,!0);Object.keys(A).forEach(x=>{const O=A[x];"!"==O?r.add(x):O==Lu&&i.add(x)}),o||(A.offset=D/this.duration),c.push(A)});const h=r.size?_S(r.values()):[],m=i.size?_S(i.values()):[];if(o){const w=c[0],D=F_(w);w.offset=0,D.offset=1,c=[w,D]}return vx(this.element,c,h,m,this.duration,this.startTime,this.easing,!1)}}class NP extends TS{constructor(r,i,o,c,h,m,w=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=w,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&i){const h=[],m=o+i,w=i/m,D=Rh(r[0],!1);D.offset=0,h.push(D);const A=Rh(r[0],!1);A.offset=dO(w),h.push(A);const x=r.length-1;for(let O=1;O<=x;O++){let j=Rh(r[O],!1);j.offset=dO((i+j.offset*o)/m),h.push(j)}o=m,i=0,c="",r=h}return vx(this.element,r,this.preStyleProps,this.postStyleProps,o,i,c,!0)}}function dO(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class bx{}class xP extends bx{normalizePropertyName(r,i){return gx(r)}normalizeStyleValue(r,i,o,c){let h="";const m=o.toString().trim();if(MP[i]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const w=o.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&c.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+h}}const MP=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hO(s,r,i,o,c,h,m,w,D,A,x,O,j){return{type:0,element:s,triggerName:r,isRemovalTransition:c,fromState:i,fromStyles:h,toState:o,toStyles:m,timelines:w,queriedElements:D,preStyleProps:A,postStyleProps:x,totalTime:O,errors:j}}const Cx={};class fO{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,c){return function(s,r,i,o,c){return s.some(h=>h(r,i,o,c))}(this.ast.matchers,r,i,o,c)}buildStyles(r,i,o){const c=this._stateStyles["*"],h=this._stateStyles[r],m=c?c.buildStyles(i,o):{};return h?h.buildStyles(i,o):m}build(r,i,o,c,h,m,w,D,A,x){const O=[],j=this.ast.options&&this.ast.options.params||Cx,ee=this.buildStyles(o,w&&w.params||Cx,O),be=D&&D.params||Cx,xe=this.buildStyles(c,be,O),tt=new Set,it=new Map,rt=new Map,_t="void"===c,Bn={params:Object.assign(Object.assign({},j),be)},ji=x?[]:Ex(r,i,this.ast.animation,h,m,ee,xe,Bn,A,O);let $i=0;if(ji.forEach(mc=>{$i=Math.max(mc.duration+mc.delay,$i)}),O.length)return hO(i,this._triggerName,o,c,_t,ee,xe,[],[],it,rt,$i,O);ji.forEach(mc=>{const yc=mc.element,HO=Os(it,yc,{});mc.preStyleProps.forEach(_g=>HO[_g]=!0);const ib=Os(rt,yc,{});mc.postStyleProps.forEach(_g=>ib[_g]=!0),yc!==i&&tt.add(yc)});const gc=_S(tt.values());return hO(i,this._triggerName,o,c,_t,ee,xe,ji,gc,it,rt,$i)}}class kP{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},c=F_(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(c[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(w=>{let D=m[w];D.length>1&&(D=yS(D,c,i));const A=this.normalizer.normalizePropertyName(w,i);D=this.normalizer.normalizeStyleValue(w,A,D,i),o[A]=D})}}),o}}class LP{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(c=>{this.states[c.name]=new kP(c.style,c.options&&c.options.params||{},o)}),pO(this.states,"true","1"),pO(this.states,"false","0"),i.transitions.forEach(c=>{this.transitionFactories.push(new fO(r,c,this.states))}),this.fallbackTransition=function(s,r,i){return new fO(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,w)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,c){return this.transitionFactories.find(m=>m.match(r,i,o,c))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function pO(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const UP=new CS;class BP{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],c=yx(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=c}_buildPlayer(r,i,o){const c=r.element,h=WM(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(c,h,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const c=[],h=this._animations[r];let m;const w=new Map;if(h?(m=Ex(this._driver,i,h,dx,fS,{},{},o,UP,c),m.forEach(x=>{const O=Os(w,x.element,{});x.postStyleProps.forEach(j=>O[j]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),m=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);w.forEach((x,O)=>{Object.keys(x).forEach(j=>{x[j]=this._driver.computeStyle(O,j,Lu)})});const A=Nh(m.map(x=>{const O=w.get(x.element);return this._buildPlayer(x,{},O)}));return this._playersById[r]=A,A.onDestroy(()=>this.destroy(r)),this.players.push(A),A}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,c){const h=ix(i,"","","");return nx(this._getPlayer(r),o,h,c),()=>{}}command(r,i,o,c){if("register"==o)return void this.register(r,c[0]);if("create"==o)return void this.create(r,i,c[0]||{});const h=this._getPlayer(r);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(r)}}}const gO="ng-animate-queued",mO="ng-animate-disabled",yO=".ng-animate-disabled",GP=[],_O={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Io="__ng_removed";class Ix{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=function(s){return null!=s?s:null}(o?r.value:r),o){const h=F_(r);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(c=>{null==o[c]&&(o[c]=i[c])})}}}const rb="void",Tx=new Ix(rb);class zP{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,To(i,this._hostClassName)}listen(r,i,o,c){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if(!function(s){return"start"==s||"done"==s}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);const h=Os(this._elementListeners,r,[]),m={name:i,phase:o,callback:c};h.push(m);const w=Os(this._engine.statesByElement,r,{});return w.hasOwnProperty(i)||(To(r,pS),To(r,pS+"-"+i),w[i]=Tx),()=>{this._engine.afterFlush(()=>{const D=h.indexOf(m);D>=0&&h.splice(D,1),this._triggers[i]||delete w[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,c=!0){const h=this._getTrigger(i),m=new Dx(this.id,i,r);let w=this._engine.statesByElement.get(r);w||(To(r,pS),To(r,pS+"-"+i),this._engine.statesByElement.set(r,w={}));let D=w[i];const A=new Ix(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&D&&A.absorbOptions(D.options),w[i]=A,D||(D=Tx),A.value!==rb&&D.value===A.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let c=0;c<i.length;c++){const h=i[c];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(D.params,A.params)){const be=[],xe=h.matchStyles(D.value,D.params,be),tt=h.matchStyles(A.value,A.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{mg(r,xe),Uu(r,tt)})}return}const j=Os(this._engine.playersByElement,r,[]);j.forEach(be=>{be.namespaceId==this.id&&be.triggerName==i&&be.queued&&be.destroy()});let G=h.matchTransition(D.value,A.value,r,A.params),ee=!1;if(!G){if(!c)return;G=h.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:G,fromState:D,toState:A,player:m,isFallbackTransition:ee}),ee||(To(r,gO),m.onStart(()=>{L_(r,gO)})),m.onDone(()=>{let be=this.players.indexOf(m);be>=0&&this.players.splice(be,1);const xe=this._engine.playersByElement.get(r);if(xe){let tt=xe.indexOf(m);tt>=0&&xe.splice(tt,1)}}),this.players.push(m),j.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(c=>c.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,gS,!0);o.forEach(c=>{if(c[Io])return;const h=this._engine.fetchNamespacesByElement(c);h.size?h.forEach(m=>m.triggerLeaveAnimation(c,i,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(r,i,o,c){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(w=>{if(this._triggers[w]){const D=this.trigger(r,w,rb,c);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&Nh(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const c=new Set;i.forEach(h=>{const m=h.name;if(c.has(m))return;c.add(m);const D=this._triggers[m].fallbackTransition,A=o[m]||Tx,x=new Ix(rb),O=new Dx(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:D,fromState:A,toState:x,player:O,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let c=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(r):[];if(h&&h.length)c=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(r),c)o.markElementAsRemoved(this.id,r,!1,i);else{const h=r[Io];(!h||h===_O)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){To(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const h=o.element,m=this._elementListeners.get(h);m&&m.forEach(w=>{if(w.name==o.triggerName){const D=ix(h,o.triggerName,o.fromState.value,o.toState.value);D._data=r,nx(o.player,w.phase,D,w.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):i.push(o)}),this._queue=[],i.sort((o,c)=>{const h=o.transition.ast.depCount,m=c.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class WP{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new zP(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,i)){this._namespaceList.splice(h+1,0,r),c=!0;break}c||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let c=this._namespaceLookup[r];c&&c.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const c=Object.keys(o);for(let h=0;h<c.length;h++){const m=o[c[h]].namespaceId;if(m){const w=this._fetchNamespace(m);w&&i.add(w)}}}return i}trigger(r,i,o,c){if(DS(i)){const h=this._fetchNamespace(r);if(h)return h.trigger(i,o,c),!0}return!1}insertNode(r,i,o,c){if(!DS(i))return;const h=i[Io];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}c&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),To(r,mO)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),L_(r,mO))}removeNode(r,i,o,c){if(DS(i)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(i,c):this.markElementAsRemoved(r,i,!1,c),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,c)}}else this._onRemovalComplete(i,c)}markElementAsRemoved(r,i,o,c){this.collectedLeaveElements.push(i),i[Io]={namespaceId:r,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,c,h){return DS(i)?this._fetchNamespace(r).listen(i,o,c,h):()=>{}}_buildInstruction(r,i,o,c,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,c,r.fromState.options,r.toState.options,i,h)}destroyInnerAnimations(r){let i=this.driver.query(r,gS,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,hx,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Nh(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[Io];if(i&&i.setForRemoval){if(r[Io]=_O,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,yO)&&this.markElementAsDisabled(r,!1),this.driver.query(r,yO,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)To(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?Nh(i).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new CS,c=[],h=new Map,m=[],w=new Map,D=new Map,A=new Map,x=new Set;this.disabledNodes.forEach(Ye=>{x.add(Ye);const ot=this.driver.query(Ye,".ng-animate-queued",!0);for(let Et=0;Et<ot.length;Et++)x.add(ot[Et])});const O=this.bodyNode,j=Array.from(this.statesByElement.keys()),G=wO(j,this.collectedEnterElements),ee=new Map;let be=0;G.forEach((Ye,ot)=>{const Et=dx+be++;ee.set(ot,Et),Ye.forEach(Wt=>To(Wt,Et))});const xe=[],tt=new Set,it=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const ot=this.collectedLeaveElements[Ye],Et=ot[Io];Et&&Et.setForRemoval&&(xe.push(ot),tt.add(ot),Et.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Wt=>tt.add(Wt)):it.add(ot))}const rt=new Map,_t=wO(j,Array.from(tt));_t.forEach((Ye,ot)=>{const Et=fS+be++;rt.set(ot,Et),Ye.forEach(Wt=>To(Wt,Et))}),r.push(()=>{G.forEach((Ye,ot)=>{const Et=ee.get(ot);Ye.forEach(Wt=>L_(Wt,Et))}),_t.forEach((Ye,ot)=>{const Et=rt.get(ot);Ye.forEach(Wt=>L_(Wt,Et))}),xe.forEach(Ye=>{this.processLeaveNode(Ye)})});const Bn=[],ji=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(i).forEach(Et=>{const Wt=Et.player,jr=Et.element;if(Bn.push(Wt),this.collectedEnterElements.length){const ju=jr[Io];if(ju&&ju.setForMove)return void Wt.destroy()}const Bu=!O||!this.driver.containsElement(O,jr),ks=rt.get(jr),xh=ee.get(jr),Wn=this._buildInstruction(Et,o,xh,ks,Bu);if(Wn.errors&&Wn.errors.length)ji.push(Wn);else{if(Bu)return Wt.onStart(()=>mg(jr,Wn.fromStyles)),Wt.onDestroy(()=>Uu(jr,Wn.toStyles)),void c.push(Wt);if(Et.isFallbackTransition)return Wt.onStart(()=>mg(jr,Wn.fromStyles)),Wt.onDestroy(()=>Uu(jr,Wn.toStyles)),void c.push(Wt);Wn.timelines.forEach(ju=>ju.stretchStartingKeyframe=!0),o.append(jr,Wn.timelines),m.push({instruction:Wn,player:Wt,element:jr}),Wn.queriedElements.forEach(ju=>Os(w,ju,[]).push(Wt)),Wn.preStyleProps.forEach((ju,sb)=>{const xS=Object.keys(ju);if(xS.length){let vg=D.get(sb);vg||D.set(sb,vg=new Set),xS.forEach(Rx=>vg.add(Rx))}}),Wn.postStyleProps.forEach((ju,sb)=>{const xS=Object.keys(ju);let vg=A.get(sb);vg||A.set(sb,vg=new Set),xS.forEach(Rx=>vg.add(Rx))})}});if(ji.length){const Ye=[];ji.forEach(ot=>{Ye.push(`@${ot.triggerName} has failed due to:\n`),ot.errors.forEach(Et=>Ye.push(`- ${Et}\n`))}),Bn.forEach(ot=>ot.destroy()),this.reportError(Ye)}const $i=new Map,gc=new Map;m.forEach(Ye=>{const ot=Ye.element;o.has(ot)&&(gc.set(ot,ot),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,$i))}),c.forEach(Ye=>{const ot=Ye.element;this._getPreviousPlayers(ot,!1,Ye.namespaceId,Ye.triggerName,null).forEach(Wt=>{Os($i,ot,[]).push(Wt),Wt.destroy()})});const mc=xe.filter(Ye=>CO(Ye,D,A)),yc=new Map;EO(yc,this.driver,it,A,Lu).forEach(Ye=>{CO(Ye,D,A)&&mc.push(Ye)});const ib=new Map;G.forEach((Ye,ot)=>{EO(ib,this.driver,new Set(Ye),D,"!")}),mc.forEach(Ye=>{const ot=yc.get(Ye),Et=ib.get(Ye);yc.set(Ye,Object.assign(Object.assign({},ot),Et))});const _g=[],GO=[],qO={};m.forEach(Ye=>{const{element:ot,player:Et,instruction:Wt}=Ye;if(o.has(ot)){if(x.has(ot))return Et.onDestroy(()=>Uu(ot,Wt.toStyles)),Et.disabled=!0,Et.overrideTotalTime(Wt.totalTime),void c.push(Et);let jr=qO;if(gc.size>1){let ks=ot;const xh=[];for(;ks=ks.parentNode;){const Wn=gc.get(ks);if(Wn){jr=Wn;break}xh.push(ks)}xh.forEach(Wn=>gc.set(Wn,jr))}const Bu=this._buildAnimation(Et.namespaceId,Wt,$i,h,ib,yc);if(Et.setRealPlayer(Bu),jr===qO)_g.push(Et);else{const ks=this.playersByElement.get(jr);ks&&ks.length&&(Et.parentPlayer=Nh(ks)),c.push(Et)}}else mg(ot,Wt.fromStyles),Et.onDestroy(()=>Uu(ot,Wt.toStyles)),GO.push(Et),x.has(ot)&&c.push(Et)}),GO.forEach(Ye=>{const ot=h.get(Ye.element);if(ot&&ot.length){const Et=Nh(ot);Ye.setRealPlayer(Et)}}),c.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<xe.length;Ye++){const ot=xe[Ye],Et=ot[Io];if(L_(ot,fS),Et&&Et.hasAnimation)continue;let Wt=[];if(w.size){let Bu=w.get(ot);Bu&&Bu.length&&Wt.push(...Bu);let ks=this.driver.query(ot,hx,!0);for(let xh=0;xh<ks.length;xh++){let Wn=w.get(ks[xh]);Wn&&Wn.length&&Wt.push(...Wn)}}const jr=Wt.filter(Bu=>!Bu.destroyed);jr.length?QP(this,ot,jr):this.processLeaveNode(ot)}return xe.length=0,_g.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const ot=this.players.indexOf(Ye);this.players.splice(ot,1)}),Ye.play()}),_g}elementContainsData(r,i){let o=!1;const c=i[Io];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,c,h){let m=[];if(i){const w=this.playersByQueriedElement.get(r);w&&(m=w)}else{const w=this.playersByElement.get(r);if(w){const D=!h||h==rb;w.forEach(A=>{A.queued||!D&&A.triggerName!=c||m.push(A)})}}return(o||c)&&(m=m.filter(w=>!(o&&o!=w.namespaceId||c&&c!=w.triggerName))),m}_beforeAnimationBuild(r,i,o){const h=i.element,m=i.isRemovalTransition?void 0:r,w=i.isRemovalTransition?void 0:i.triggerName;for(const D of i.timelines){const A=D.element,x=A!==h,O=Os(o,A,[]);this._getPreviousPlayers(A,x,m,w,i.toState).forEach(G=>{const ee=G.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),G.destroy(),O.push(G)})}mg(h,i.fromStyles)}_buildAnimation(r,i,o,c,h,m){const w=i.triggerName,D=i.element,A=[],x=new Set,O=new Set,j=i.timelines.map(ee=>{const be=ee.element;x.add(be);const xe=be[Io];if(xe&&xe.removedBeforeQueried)return new I(ee.duration,ee.delay);const tt=be!==D,it=function(s){const r=[];return bO(s,r),r}((o.get(be)||GP).map($i=>$i.getRealPlayer())).filter($i=>!!$i.element&&$i.element===be),rt=h.get(be),_t=m.get(be),Bn=WM(0,this._normalizer,0,ee.keyframes,rt,_t),ji=this._buildPlayer(ee,Bn,it);if(ee.subTimeline&&c&&O.add(be),tt){const $i=new Dx(r,w,be);$i.setRealPlayer(ji),A.push($i)}return ji});A.forEach(ee=>{Os(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const c=o.indexOf(i);o.splice(c,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,ee.element,ee))}),x.forEach(ee=>To(ee,tO));const G=Nh(j);return G.onDestroy(()=>{x.forEach(ee=>L_(ee,tO)),Uu(D,i.toStyles)}),O.forEach(ee=>{Os(c,ee,[]).push(G)}),G}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new I(r.duration,r.delay)}}class Dx{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new I,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>nx(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){Os(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function DS(s){return s&&1===s.nodeType}function vO(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function EO(s,r,i,o,c){const h=[];i.forEach(D=>h.push(vO(D)));const m=[];o.forEach((D,A)=>{const x={};D.forEach(O=>{const j=x[O]=r.computeStyle(A,O,c);(!j||0==j.length)&&(A[Io]=qP,m.push(A))}),s.set(A,x)});let w=0;return i.forEach(D=>vO(D,h[w++])),m}function wO(s,r){const i=new Map;if(s.forEach(w=>i.set(w,[])),0==r.length)return i;const c=new Set(r),h=new Map;function m(w){if(!w)return 1;let D=h.get(w);if(D)return D;const A=w.parentNode;return D=i.has(A)?A:c.has(A)?1:m(A),h.set(w,D),D}return r.forEach(w=>{const D=m(w);1!==D&&i.get(D).push(w)}),i}const SS="$$classes";function To(s,r){if(s.classList)s.classList.add(r);else{let i=s[SS];i||(i=s[SS]={}),i[r]=!0}}function L_(s,r){if(s.classList)s.classList.remove(r);else{let i=s[SS];i&&delete i[r]}}function QP(s,r,i){Nh(i).onDone(()=>s.processLeaveNode(r))}function bO(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof S?bO(o.players,r):r.push(o)}}function CO(s,r,i){const o=i.get(s);if(!o)return!1;let c=r.get(s);return c?o.forEach(h=>c.add(h)):r.set(s,o),i.delete(s),!0}class AS{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new WP(r,i,o),this._timelineEngine=new BP(r,i,o),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(r,i,o,c,h){const m=r+"-"+c;let w=this._triggerCache[m];if(!w){const D=[],A=yx(this._driver,h,D);if(D.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${D.join("\n - ")}`);w=function(s,r,i){return new LP(s,r,i)}(c,A,this._normalizer),this._triggerCache[m]=w}this._transitionEngine.registerTrigger(i,c,w)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,c){this._transitionEngine.insertNode(r,i,o,c)}onRemove(r,i,o,c){this._transitionEngine.removeNode(r,i,c||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,c){if("@"==o.charAt(0)){const[h,m]=ZM(o);this._timelineEngine.command(h,i,m,c)}else this._transitionEngine.trigger(r,i,o,c)}listen(r,i,o,c,h){if("@"==o.charAt(0)){const[m,w]=ZM(o);return this._timelineEngine.listen(m,i,w,h)}return this._transitionEngine.listen(r,i,o,c,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function IO(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=Sx(r[0]),r.length>1&&(o=Sx(r[r.length-1]))):r&&(i=Sx(r)),i||o?new V_(s,i,o):null}class V_{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let c=V_.initialStylesByElement.get(r);c||V_.initialStylesByElement.set(r,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Uu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uu(this._element,this._initialStyles),this._endStyles&&(Uu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(V_.initialStylesByElement.delete(this._element),this._startStyles&&(mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mg(this._element,this._endStyles),this._endStyles=null),Uu(this._element,this._initialStyles),this._state=3)}}function Sx(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const c=i[o];e1(c)&&(r=r||{},r[c]=s[c])}return r}function e1(s){return"display"===s||"position"===s}V_.initialStylesByElement=new WeakMap;const TO="animation",DO="animationend";class r1{constructor(r,i,o,c,h,m,w){this._element=r,this._name=i,this._duration=o,this._delay=c,this._easing=h,this._fillMode=m,this._onDoneFn=w,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=D=>this._handleCallback(D)}apply(){(function(s,r){const i=Nx(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),NS(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),NO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){SO(this._element,this._name,"paused")}resume(){SO(this._element,this._name,"running")}setPosition(r){const i=AO(this._element,this._name);this._position=r*this._duration,NS(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),NO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=Nx(s,"").split(","),c=Ax(o,r);c>=0&&(o.splice(c,1),NS(s,"",o.join(",")))}(this._element,this._name))}}function SO(s,r,i){NS(s,"PlayState",i,AO(s,r))}function AO(s,r){const i=Nx(s,"");return i.indexOf(",")>0?Ax(i.split(","),r):Ax([i],r)}function Ax(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function NO(s,r,i){i?s.removeEventListener(DO,r):s.addEventListener(DO,r)}function NS(s,r,i,o){const c=TO+r;if(null!=o){const h=s.style[c];if(h.length){const m=h.split(",");m[o]=i,i=m.join(",")}}s.style[c]=i}function Nx(s,r){return s.style[TO+r]||""}class RO{constructor(r,i,o,c,h,m,w,D){this.element=r,this.keyframes=i,this.animationName=o,this._duration=c,this._delay=h,this._finalStyles=w,this._specialStyles=D,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=c+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new r1(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:mx(this.element,o))})}this.currentSnapshot=r}}class l1 extends I{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=JM(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class MO{constructor(){this._count=0}validateStyleProperty(r){return ax(r)}matchesElement(r,i){return ux(r,i)}containsElement(r,i){return lx(r,i)}query(r,i,o){return cx(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(w=>JM(w));let c=`@keyframes ${i} {\n`,h="";o.forEach(w=>{h=" ";const D=parseFloat(w.offset);c+=`${h}${100*D}% {\n`,h+=" ",Object.keys(w).forEach(A=>{const x=w[A];switch(A){case"offset":return;case"easing":return void(x&&(c+=`${h}animation-timing-function: ${x};\n`));default:return void(c+=`${h}${A}: ${x};\n`)}}),c+=`${h}}\n`}),c+="}\n";const m=document.createElement("style");return m.textContent=c,m}animate(r,i,o,c,h,m=[],w){const D=m.filter(xe=>xe instanceof RO),A={};oO(o,c)&&D.forEach(xe=>{let tt=xe.currentSnapshot;Object.keys(tt).forEach(it=>A[it]=tt[it])});const x=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(r[c]=o[c])})}),r}(i=aO(r,i,A));if(0==o)return new l1(r,x);const O="gen_css_kf_"+this._count++,j=this.buildKeyframeElement(r,O,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(j);const ee=IO(r,i),be=new RO(r,i,O,o,c,h,x,ee);return be.onDestroy(()=>function(s){s.parentNode.removeChild(s)}(j)),be}}class PO{constructor(r,i,o,c){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:mx(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class p1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kO().toString()),this._cssKeyframesDriver=new MO}validateStyleProperty(r){return ax(r)}matchesElement(r,i){return ux(r,i)}containsElement(r,i){return lx(r,i)}query(r,i,o){return cx(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,c,h,m=[],w){if(!w&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,c,h,m);const x={duration:o,delay:c,fill:0==c?"both":"forwards"};h&&(x.easing=h);const O={},j=m.filter(ee=>ee instanceof PO);oO(o,c)&&j.forEach(ee=>{let be=ee.currentSnapshot;Object.keys(be).forEach(xe=>O[xe]=be[xe])});const G=IO(r,i=aO(r,i=i.map(ee=>Rh(ee,!1)),O));return new PO(r,i,x,G)}}function kO(){return zM()&&Element.prototype.animate||{}}let m1=(()=>{class s extends JR{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(i)?XR(i):i;return FO(this._renderer,null,o,"register",[c]),new y1(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(y.FYo),y.LFG(we))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class y1 extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new _1(this._id,r,i||{},this._renderer)}}class _1{constructor(r,i,o,c){this.id=r,this.element=i,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return FO(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function FO(s,r,i,o,c){return s.setProperty(r,`@@${i}:${o}`,c)}const LO="@.disabled";let v1=(()=>{class s{constructor(i,o,c){this.delegate=i,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(i,o){const h=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let x=this._rendererCache.get(h);return x||(x=new VO("",h,this.engine),this._rendererCache.set(h,x)),x}const m=o.id,w=o.id+"-"+this._currentId;this._currentId++,this.engine.register(w,i);const D=x=>{Array.isArray(x)?x.forEach(D):this.engine.registerTrigger(m,w,i,x.name,x)};return o.data.animation.forEach(D),new E1(this,w,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,c){i>=0&&i<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,w]=h;m(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(y.FYo),y.LFG(AS),y.LFG(y.R0b))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class VO{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>i.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,c=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,c)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,c){this.delegate.setAttribute(r,i,o,c)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,c){this.delegate.setStyle(r,i,o,c)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==LO?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class E1 extends VO{constructor(r,i,o,c){super(i,o,c),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==LO?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const c=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=i.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,c,h,m,w=>{this.factory.scheduleListenerCallback(w._data||-1,o,w)})}return this.delegate.listen(r,i,o)}}let C1=(()=>{class s extends AS{constructor(i,o,c){super(i.body,o,c)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(y.LFG(we),y.LFG(hS),y.LFG(bx))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();const UO=new y.OlP("AnimationModuleType"),BO=[{provide:JR,useClass:m1},{provide:bx,useFactory:function(){return new xP}},{provide:AS,useClass:C1},{provide:y.FYo,useFactory:function(s,r,i){return new v1(s,r,i)},deps:[ko,AS,y.R0b]}],jO=[{provide:hS,useFactory:function(){return"function"==typeof kO()?new p1:new MO}},{provide:UO,useValue:"BrowserAnimations"},...BO],$O=[{provide:hS,useClass:XM},{provide:UO,useValue:"NoopAnimations"},...BO];let S1=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?$O:jO}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:jO,imports:[qi]}),s})(),A1=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.oAB({type:s,bootstrap:[iP]}),s.\u0275inj=y.cJS({providers:[],imports:[[qi,rP,Xa.hO.initializeApp(qM_firebaseConfig),Ah,QR,vb,S1,HM.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0})]]}),s})();Q_().bootstrapModule(A1).catch(s=>console.error(s))},4762:(We,De,F)=>{"use strict";F.d(De,{ZT:()=>le,pi:()=>H,_T:()=>se,mG:()=>ye,Jh:()=>Y,XA:()=>q,CR:()=>B,ev:()=>ie});var y=function(de,oe){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ge,_e){ge.__proto__=_e}||function(ge,_e){for(var he in _e)Object.prototype.hasOwnProperty.call(_e,he)&&(ge[he]=_e[he])})(de,oe)};function le(de,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function ge(){this.constructor=de}y(de,oe),de.prototype=null===oe?Object.create(oe):(ge.prototype=oe.prototype,new ge)}var H=function(){return(H=Object.assign||function(oe){for(var ge,_e=1,he=arguments.length;_e<he;_e++)for(var J in ge=arguments[_e])Object.prototype.hasOwnProperty.call(ge,J)&&(oe[J]=ge[J]);return oe}).apply(this,arguments)};function se(de,oe){var ge={};for(var _e in de)Object.prototype.hasOwnProperty.call(de,_e)&&oe.indexOf(_e)<0&&(ge[_e]=de[_e]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(_e=Object.getOwnPropertySymbols(de);he<_e.length;he++)oe.indexOf(_e[he])<0&&Object.prototype.propertyIsEnumerable.call(de,_e[he])&&(ge[_e[he]]=de[_e[he]])}return ge}function ye(de,oe,ge,_e){return new(ge||(ge=Promise))(function(J,ke){function Qe(wt){try{Je(_e.next(wt))}catch(en){ke(en)}}function Nt(wt){try{Je(_e.throw(wt))}catch(en){ke(en)}}function Je(wt){wt.done?J(wt.value):function(J){return J instanceof ge?J:new ge(function(ke){ke(J)})}(wt.value).then(Qe,Nt)}Je((_e=_e.apply(de,oe||[])).next())})}function Y(de,oe){var _e,he,J,ke,ge={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return ke={next:Qe(0),throw:Qe(1),return:Qe(2)},"function"==typeof Symbol&&(ke[Symbol.iterator]=function(){return this}),ke;function Qe(Je){return function(wt){return function(Je){if(_e)throw new TypeError("Generator is already executing.");for(;ge;)try{if(_e=1,he&&(J=2&Je[0]?he.return:Je[0]?he.throw||((J=he.return)&&J.call(he),0):he.next)&&!(J=J.call(he,Je[1])).done)return J;switch(he=0,J&&(Je=[2&Je[0],J.value]),Je[0]){case 0:case 1:J=Je;break;case 4:return ge.label++,{value:Je[1],done:!1};case 5:ge.label++,he=Je[1],Je=[0];continue;case 7:Je=ge.ops.pop(),ge.trys.pop();continue;default:if(!(J=(J=ge.trys).length>0&&J[J.length-1])&&(6===Je[0]||2===Je[0])){ge=0;continue}if(3===Je[0]&&(!J||Je[1]>J[0]&&Je[1]<J[3])){ge.label=Je[1];break}if(6===Je[0]&&ge.label<J[1]){ge.label=J[1],J=Je;break}if(J&&ge.label<J[2]){ge.label=J[2],ge.ops.push(Je);break}J[2]&&ge.ops.pop(),ge.trys.pop();continue}Je=oe.call(de,ge)}catch(wt){Je=[6,wt],he=0}finally{_e=J=0}if(5&Je[0])throw Je[1];return{value:Je[0]?Je[1]:void 0,done:!0}}([Je,wt])}}}function q(de){var oe="function"==typeof Symbol&&Symbol.iterator,ge=oe&&de[oe],_e=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&_e>=de.length&&(de=void 0),{value:de&&de[_e++],done:!de}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(de,oe){var ge="function"==typeof Symbol&&de[Symbol.iterator];if(!ge)return de;var he,ke,_e=ge.call(de),J=[];try{for(;(void 0===oe||oe-- >0)&&!(he=_e.next()).done;)J.push(he.value)}catch(Qe){ke={error:Qe}}finally{try{he&&!he.done&&(ge=_e.return)&&ge.call(_e)}finally{if(ke)throw ke.error}}return J}function ie(de,oe,ge){if(ge||2===arguments.length)for(var J,_e=0,he=oe.length;_e<he;_e++)(J||!(_e in oe))&&(J||(J=Array.prototype.slice.call(oe,0,_e)),J[_e]=oe[_e]);return de.concat(J||Array.prototype.slice.call(oe))}},8239:(We,De,F)=>{"use strict";function y(H,se,Ee,ae,we,ye,Y){try{var L=H[ye](Y),$=L.value}catch(q){return void Ee(q)}L.done?se($):Promise.resolve($).then(ae,we)}function le(H){return function(){var se=this,Ee=arguments;return new Promise(function(ae,we){var ye=H.apply(se,Ee);function Y($){y(ye,ae,we,Y,L,"next",$)}function L($){y(ye,ae,we,Y,L,"throw",$)}Y(void 0)})}}F.d(De,{Z:()=>le})}},We=>{We(We.s=8276)}]);